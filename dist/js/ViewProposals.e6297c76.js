"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{7975:function(s,e,t){t.d(e,{Z:function(){return h}});var a=t(6252);const o={id:"links",class:"grid grid-cols-12"},l={class:"col-span-6 md:col-span-12"},n={class:"mb-10"},r=(0,a.Uk)("Start"),i=(0,a.Uk)("Treasury"),d=(0,a.Uk)("Proposals"),c={class:"col-span-6 md:col-span-12"},p={class:"mb-10"},u=(0,a.Uk)("Profile"),m=(0,a.Uk)("Members");function g(s,e){const t=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",l,[(0,a._)("ul",n,[(0,a._)("li",null,[(0,a.Wm)(t,{to:"/manage/start"},{default:(0,a.w5)((()=>[r])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(t,{to:"/manage/treasury"},{default:(0,a.w5)((()=>[i])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(t,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[d])),_:1})])])]),(0,a._)("div",c,[(0,a._)("ul",p,[(0,a._)("li",null,[(0,a.Wm)(t,{to:"/manage/profile"},{default:(0,a.w5)((()=>[u])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(t,{to:"/manage/members"},{default:(0,a.w5)((()=>[m])),_:1})])])])])}var f=t(3744);const _={},v=(0,f.Z)(_,[["render",g],["__scopeId","data-v-687eb406"]]);var h=v},5784:function(s,e,t){t.r(e),t.d(e,{default:function(){return j}});var a=t(6252);const o=s=>((0,a.dD)("data-v-0f2cd344"),s=s(),(0,a.Cn)(),s),l={class:"container-fluid px-5"},n={class:"grid grid-cols-12"},r={class:"col-span-12 md:col-span-3"},i={class:"hidden md:block"},d=o((()=>(0,a._)("span",{class:"opacity-50"},"Filters",-1))),c=o((()=>(0,a._)("li",null,"All",-1))),p=o((()=>(0,a._)("li",{class:"opacity-50"},"Pending",-1))),u=o((()=>(0,a._)("li",{class:"opacity-50"},"Voted",-1))),m=o((()=>(0,a._)("li",{class:"opacity-50"},"Closed",-1))),g=o((()=>(0,a._)("li",{class:"opacity-50"},"My Proposals",-1))),f={class:"col-span-12 md:col-span-9"},_={key:0};function v(s,e,t,o,v,h){const w=(0,a.up)("ManageNav"),y=(0,a.up)("router-link"),k=(0,a.up)("ListProposalItem");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",n,[(0,a._)("div",r,[(0,a.Wm)(w),(0,a._)("div",i,[d,(0,a._)("ul",null,[(0,a.Wm)(y,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[c])),_:1}),(0,a.Wm)(y,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[p])),_:1}),(0,a.Wm)(y,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[u])),_:1}),(0,a.Wm)(y,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[m])),_:1}),(0,a.Wm)(y,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[g])),_:1})])])]),(0,a._)("div",f,[h.myProposals.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",_,"No proposals.")),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(v.proposals,((s,e)=>((0,a.wg)(),(0,a.j4)(k,{key:e,item:s},null,8,["item"])))),128))])])])}var h=t(9669),w=t.n(h),y=t(7975),k=t(3577);const b={class:"capitalize"},P={class:"col-start-2 col-span-10 xl:col-span-7"},W={class:"col-start-2 col-span-10 xl:col-span-2"},x=(0,a._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function C(s,e,t,o,l,n){const r=(0,a.up)("AppCountdown"),i=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(i,{to:"/manage/"+t.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,k.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!n.hasPassed,"mb-5":n.hasPassed}])},[(0,a._)("div",{class:(0,k.C_)(["col-span-1",{"text-green-500":!n.hasPassed}])}," 000 ",2),(0,a._)("div",{class:(0,k.C_)(["col-span-1 col-start-2",{"text-green-500":!n.hasPassed}])},[(0,a._)("b",b,(0,k.zw)(t.item.sys.contentType.sys.id),1)],2),(0,a._)("div",P,[(0,a.Wm)(r,{start:t.item.sys.createdAt},null,8,["start"])]),(0,a._)("div",W,(0,k.zw)(t.item.fields.profile.firstName)+" "+(0,k.zw)(t.item.fields.profile.lastName),1),x],2)])),_:1},8,["to"])}var A=t(6486),Z=t.n(A),D=t(7859),M={components:{AppCountdown:D.Z},props:["item"],computed:{hasPassed(){return"boolean"==typeof Z().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},N=t(3744);const U=(0,N.Z)(M,[["render",C]]);var z=U,I={components:{ManageNav:y.Z,ListProposalItem:z},data(){return{proposals:[],weights:[],loaded:!1}},computed:{walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>Z().get(s,"fields.profile.walletAddress")==this.walletAddress))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof Z().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof Z().get(s,"fields.votes.passed")))},uri(){return"https://salonnode-salondev-terrifickid.cloud.okteto.net/types/"}},methods:{async getWeights(){try{const s=await w().get("https://salonnode-salondev-terrifickid.cloud.okteto.net/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await w().post(this.uri,{types:"collect,invest,propose,sell,onboard,kick"});this.proposals=Z().get(s,"data.message"),console.log(this.proposals),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const S=(0,N.Z)(I,[["render",v],["__scopeId","data-v-0f2cd344"]]);var j=S}}]);
//# sourceMappingURL=ViewProposals.e6297c76.js.map