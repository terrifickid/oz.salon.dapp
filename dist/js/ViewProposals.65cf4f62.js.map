{"version":3,"file":"js/ViewProposals.65cf4f62.js","mappings":"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","sources":["webpack://Salon/./src/components/ManageNav.vue","webpack://Salon/./src/components/ManageNav.vue?1ae9","webpack://Salon/./src/views/manage/ViewProposals.vue","webpack://Salon/./src/components/ListProposalItem.vue","webpack://Salon/./src/components/ListProposalItem.vue?998a","webpack://Salon/./src/views/manage/ViewProposals.vue?db40"],"sourcesContent":["<template>\n  <div id=\"links\" class=\"grid grid-cols-12\">\n    <div class=\"col-span-6 md:col-span-12\">\n      <ul class=\"mb-10\">\n        <li><router-link to=\"/manage/start\">Start</router-link></li>\n        <li><router-link to=\"/manage/treasury\">Treasury</router-link></li>\n        <li>\n          <router-link class=\"flex items-center\" to=\"/manage/proposals\"\n            >Proposals\n            <p class=\"text-green-500\">\n              <span style=\"margin-right: 1px\" class=\"ml-1\">(</span\n              >{{ activeProposalsCount }}\n              <span style=\"margin-left: -2px\">)</span>\n            </p></router-link\n          >\n        </li>\n      </ul>\n    </div>\n    <div class=\"col-span-6 md:col-span-12\">\n      <ul class=\"mb-10\">\n        <li><router-link to=\"/manage/profile\">Profile</router-link></li>\n        <li>\n          <router-link to=\"/manage/members\"\n            >Members <span style=\"margin-right: 1px\" class=\"ml-1\">(</span\n            >{{ membersCount\n            }}<span style=\"margin-left: 1px\">)</span></router-link\n          >\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  computed: {\n    activeProposalsCount() {\n      return this.$store.getters.activeProposalsCount;\n    },\n    membersCount() {\n      return this.$store.getters.membersCount;\n    },\n  },\n};\n</script>\n<style scoped>\n#links a {\n  @apply opacity-50;\n}\n#links a.router-link-active {\n  @apply opacity-100 relative;\n}\n</style>\n","import { render } from \"./ManageNav.vue?vue&type=template&id=6b730d1a&scoped=true\"\nimport script from \"./ManageNav.vue?vue&type=script&lang=js\"\nexport * from \"./ManageNav.vue?vue&type=script&lang=js\"\n\nimport \"./ManageNav.vue?vue&type=style&index=0&id=6b730d1a&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6b730d1a\"]])\n\nexport default __exports__","<template>\n  <div class=\"container-fluid px-5\">\n    <div class=\"grid grid-cols-12\">\n      <div class=\"col-span-12 md:col-span-3\">\n        <ManageNav />\n        <div class=\"hidden md:block\">\n          <span class=\"opacity-50\">Filters</span>\n          <ul>\n            <router-link to=\"/manage/proposals\">\n              <li\n                :class=\"{\n                  'opacity-50': filter != 'all',\n                  'opacity-100': filter == 'all',\n                }\"\n              >\n                <button @click=\"filter = 'all'\">All</button>\n              </li>\n            </router-link>\n            <router-link to=\"/manage/proposals\">\n              <li\n                :class=\"{\n                  'opacity-50': filter != 'pending',\n                  'opacity-100': filter == 'pending',\n                }\"\n              >\n                <button @click=\"filter = 'pending'\">Pending</button>\n              </li>\n            </router-link>\n            <router-link to=\"/manage/proposals\">\n              <li\n                :class=\"{\n                  'opacity-50': filter != 'voted',\n                  'opacity-100': filter == 'voted',\n                }\"\n              >\n                <button @click=\"filter = 'voted'\">Voted</button>\n              </li>\n            </router-link>\n            <router-link to=\"/manage/proposals\">\n              <li\n                :class=\"{\n                  'opacity-50': filter != 'closed',\n                  'opacity-100': filter == 'closed',\n                }\"\n              >\n                <button @click=\"filter = 'closed'\">Closed</button>\n              </li>\n            </router-link>\n            <router-link to=\"/manage/proposals\">\n              <li\n                :class=\"{\n                  'opacity-50': filter != 'my',\n                  'opacity-100': filter == 'my',\n                }\"\n              >\n                <button @click=\"filter = 'my'\">My Proposals</button>\n              </li>\n            </router-link>\n          </ul>\n        </div>\n      </div>\n      <div class=\"col-span-12 md:col-span-9\">\n        <p v-if=\"!filteredProposals.length\">No proposals.</p>\n        <ListProposalItem\n          v-for=\"(item, index) in filteredProposals\"\n          :key=\"index\"\n          :item=\"item\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// @ is an alias to /src\n//import _ from \"lodash\";\nimport axios from \"axios\";\nimport ManageNav from \"@/components/ManageNav\";\nimport ListProposalItem from \"@/components/ListProposalItem\";\nimport _ from \"lodash\";\nexport default {\n  components: {\n    ManageNav,\n    ListProposalItem,\n  },\n  data() {\n    return {\n      weights: [],\n      loaded: false,\n      filter: \"all\",\n    };\n  },\n  computed: {\n    filteredProposals() {\n      var p;\n      switch (this.filter) {\n        case \"my\":\n          p = this.myProposals;\n          break;\n        case \"pending\":\n          p = this.activeProposals;\n          break;\n        case \"voted\":\n          p = this.votedProposals;\n          break;\n        case \"closed\":\n          p = this.closedProposals;\n          break;\n        default:\n          p = this.proposals;\n      }\n\n      return p;\n    },\n    proposals() {\n      return this.$store.state.proposals;\n    },\n    walletAddress() {\n      return this.$store.state.walletAddress;\n    },\n    myProposals() {\n      return this.proposals.filter(\n        (item) =>\n          _.get(item, \"fields.profile.walletAddress\") == this.walletAddress\n      );\n    },\n    votedProposals() {\n      return this.activeProposals.filter(\n        (item) => _.get(item, \"fields.votes.votes.length\") > 0\n      );\n    },\n    activeProposals() {\n      return this.proposals.filter(\n        (item) => typeof _.get(item, \"fields.votes.passed\") != \"boolean\"\n      );\n    },\n    closedProposals() {\n      return this.proposals.filter(\n        (item) => typeof _.get(item, \"fields.votes.passed\") == \"boolean\"\n      );\n    },\n    uri() {\n      return process.env.VUE_APP_URI + \"/types/\";\n    },\n  },\n  methods: {\n    async getWeights() {\n      try {\n        const res = await axios.get(\n          process.env.VUE_APP_URI + \"/members?cache=true\"\n        );\n        this.weights = res.data;\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    },\n  },\n  async beforeMount() {\n    console.log(\"proposals load!\");\n    const res = await axios.post(this.uri, {\n      types: \"exchange,acquire,invest,propose,sell,onboard,kick\",\n    });\n    this.$store.state.proposals = _.get(res, \"data.message\");\n\n    await this.getWeights();\n    this.loaded = true;\n    console.log(\"loaded!\");\n  },\n};\n</script>\n<style scoped>\nselect {\n  border: 0px;\n  outline: 0px;\n}\n</style>\n","<template>\n  <router-link\n    :to=\"'/manage/' + item.sys.id\"\n    class=\"opacity-50 hover:opacity-100\"\n  >\n    <div\n      class=\"grid grid-cols-12 flex items-center gap-x-5\"\n      :class=\"{ 'mb-10': !hasPassed, 'mb-5': hasPassed }\"\n    >\n      <div class=\"col-span-1\" :class=\"{ 'text-green-500': !hasPassed }\">\n        {{ lpad }}\n      </div>\n      <div\n        class=\"col-span-1 col-start-2\"\n        :class=\"{ 'text-green-500': !hasPassed }\"\n      >\n        <b class=\"capitalize\">{{ item.sys.contentType.sys.id }} </b>\n      </div>\n      <div class=\"col-start-2 col-span-10 xl:col-span-7\">\n        <AppCountdown :start=\"item.sys.createdAt\" />\n      </div>\n      <div class=\"col-start-2 col-span-10 xl:col-span-2 truncate\">\n        {{ item.fields.profile.firstName }}\n        {{ item.fields.profile.lastName }}\n      </div>\n      <div class=\"hidden xl:block xl:col-span-1 md:text-right\">0% / 0%</div>\n    </div>\n  </router-link>\n</template>\n<script>\nimport _ from \"lodash\";\nimport AppCountdown from \"@/components/AppCountdown\";\nexport default {\n  components: { AppCountdown },\n  props: [\"item\"],\n  computed: {\n    lpad() {\n      var zeroes = new Array(3 + 1).join(\"0\");\n      return (zeroes + this.item.sys.id.replace(/\\D/g, \"\")).slice(-3);\n    },\n    hasPassed() {\n      return typeof _.get(this.item, \"fields.votes.passed\") == \"boolean\";\n    },\n  },\n  mounted() {\n    console.log();\n  },\n};\n</script>\n","import { render } from \"./ListProposalItem.vue?vue&type=template&id=14787892\"\nimport script from \"./ListProposalItem.vue?vue&type=script&lang=js\"\nexport * from \"./ListProposalItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ViewProposals.vue?vue&type=template&id=2a3d1152&scoped=true\"\nimport script from \"./ViewProposals.vue?vue&type=script&lang=js\"\nexport * from \"./ViewProposals.vue?vue&type=script&lang=js\"\n\nimport \"./ViewProposals.vue?vue&type=style&index=0&id=2a3d1152&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2a3d1152\"]])\n\nexport default __exports__"],"names":["id","class","style","to","activeProposalsCount","membersCount","computed","this","$store","getters","__exports__","render","filter","filteredProposals","length","item","index","key","sys","hasPassed","lpad","contentType","start","createdAt","fields","profile","firstName","lastName","components","AppCountdown","props","zeroes","Array","join","replace","slice","mounted","console","log","ManageNav","ListProposalItem","data","weights","loaded","p","myProposals","activeProposals","votedProposals","closedProposals","proposals","state","walletAddress","uri","methods","async","res","error","types","getWeights"],"sourceRoot":""}