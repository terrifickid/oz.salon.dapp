{"version":3,"file":"js/ViewGovernance.5d7aeead.js","mappings":"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","sources":["webpack://Salon/./src/views/ViewGovernance.vue","webpack://Salon/./src/components/ListProposalItem.vue","webpack://Salon/./src/components/ListProposalItem.vue?998a","webpack://Salon/./src/views/ViewGovernance.vue?2954","webpack://Salon/./src/views/ViewProposal.vue","webpack://Salon/./src/views/ViewProposal.vue?6f6e"],"sourcesContent":["<template>\n  <AppShell\n    :colors=\"colors\"\n    :isLoaded=\"loaded\"\n    :protected=\"true\"\n    class=\"font-haffer\"\n  >\n    <div class=\"pt-32 pb-64\">\n      <div class=\"grid grid-cols-12 w-full\">\n        <div class=\"app-frame\">\n          <div class=\"px-3\">\n            <p class=\"text-xl\">My Proposals</p>\n            <p class=\"text-sm mt-3\" v-if=\"!myProposals.length\">No proposals.</p>\n            <ListProposalItem\n              v-for=\"(item, index) in myProposals\"\n              :key=\"index\"\n              :item=\"item\"\n            />\n\n            <p class=\"mt-24 text-xl\">Active Proposals</p>\n            <div class=\"mt-3\">\n              <p class=\"text-sm mt-3\" v-if=\"!activeProposals.length\">\n                No proposals.\n              </p>\n              <ListProposalItem\n                v-for=\"(item, index) in activeProposals\"\n                :key=\"index\"\n                :item=\"item\"\n              />\n            </div>\n\n            <p class=\"mt-24 text-xl\">Closed Proposals</p>\n            <div class=\"mt-3\">\n              <p class=\"text-sm mt-3\" v-if=\"!closedProposals.length\">\n                No proposals.\n              </p>\n              <ListProposalItem\n                v-for=\"(item, index) in closedProposals\"\n                :key=\"index\"\n                :item=\"item\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </AppShell>\n</template>\n<script>\n// @ is an alias to /src\n//import _ from \"lodash\";\nimport axios from \"axios\";\n\nimport AppShell from \"@/components/AppShell\";\n\nimport ListProposalItem from \"@/components/ListProposalItem\";\nimport _ from \"lodash\";\nexport default {\n  components: {\n    AppShell,\n    ListProposalItem,\n  },\n  data() {\n    return {\n      colors: [\"white\", \"black\"],\n      proposals: [],\n      weights: [],\n      loaded: false,\n    };\n  },\n  computed: {\n    walletAddress() {\n      return this.$store.state.walletAddress;\n    },\n    myProposals() {\n      return this.proposals.filter(\n        (item) =>\n          _.get(item, \"fields.profile.walletAddress\") == this.walletAddress\n      );\n    },\n    activeProposals() {\n      return this.proposals.filter(\n        (item) => typeof _.get(item, \"fields.votes.passed\") != \"boolean\"\n      );\n    },\n    closedProposals() {\n      return this.proposals.filter(\n        (item) => typeof _.get(item, \"fields.votes.passed\") == \"boolean\"\n      );\n    },\n    uri() {\n      return process.env.VUE_APP_URI + \"/types/\";\n    },\n  },\n  methods: {\n    async getWeights() {\n      try {\n        const res = await axios.get(\n          process.env.VUE_APP_URI + \"/members?cache=true\"\n        );\n        this.weights = res.data;\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    },\n  },\n  async beforeMount() {\n    console.log(\"proposals load!\");\n    const res = await axios.post(this.uri, {\n      types: \"collect,invest,propose,sell,onboard,kick\",\n    });\n    this.proposals = _.get(res, \"data.message\");\n    console.log(this.proposals);\n\n    await this.getWeights();\n    this.loaded = true;\n    console.log(\"loaded!\");\n  },\n};\n</script>\n<style scoped>\nselect {\n  border: 0px;\n  outline: 0px;\n}\n</style>\n","<template>\n  <div class=\"border-b border-black py-3 grid grid-cols-12 flex items-center\">\n    <div class=\"col-span-8\">\n      <b class=\"capitalize\">{{ item.sys.contentType.sys.id }} </b>\n      {{ item.fields.profile.firstName }}\n      {{ item.fields.profile.lastName }}\n      <AppCountdown v-if=\"!hasPassed\" :start=\"item.sys.createdAt\" />\n    </div>\n    <div class=\"col-span-4 flex items-center justify-end text-sm\">\n      <router-link :to=\"'/governance/' + item.sys.id\"\n        ><AppButton class=\"flex items-center\"\n          >View Proposal\n        </AppButton></router-link\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport _ from \"lodash\";\nimport AppButton from \"@/components/AppButton\";\nimport AppCountdown from \"@/components/AppCountdown\";\nexport default {\n  components: { AppButton, AppCountdown },\n  props: [\"item\"],\n  computed: {\n    hasPassed() {\n      return typeof _.get(this.item, \"fields.votes.passed\") == \"boolean\";\n    },\n  },\n  mounted() {\n    console.log();\n  },\n};\n</script>\n","import { render } from \"./ListProposalItem.vue?vue&type=template&id=2728ba0e\"\nimport script from \"./ListProposalItem.vue?vue&type=script&lang=js\"\nexport * from \"./ListProposalItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ViewGovernance.vue?vue&type=template&id=f287ec1c&scoped=true\"\nimport script from \"./ViewGovernance.vue?vue&type=script&lang=js\"\nexport * from \"./ViewGovernance.vue?vue&type=script&lang=js\"\n\nimport \"./ViewGovernance.vue?vue&type=style&index=0&id=f287ec1c&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f287ec1c\"]])\n\nexport default __exports__","<template>\n  <AppShell :colors=\"colors\" :isLoaded=\"true\" :protected=\"true\">\n    <FormProposal :id=\"$route.params.id\" @ready=\"ready\" />\n  </AppShell>\n</template>\n\n<script>\n// @ is an alias to /src\nimport AppShell from \"@/components/AppShell\";\n\nimport FormProposal from \"@/components/FormProposal\";\nexport default {\n  components: { AppShell, FormProposal },\n  data() {\n    return {\n      colors: [\"white\", \"black\"],\n      isReady: false,\n    };\n  },\n  methods: {\n    ready() {\n      this.isReady = true;\n    },\n  },\n};\n</script>\n","import { render } from \"./ViewProposal.vue?vue&type=template&id=9e381e02\"\nimport script from \"./ViewProposal.vue?vue&type=script&lang=js\"\nexport * from \"./ViewProposal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","colors","isLoaded","loaded","protected","myProposals","length","item","index","key","activeProposals","closedProposals","sys","contentType","id","fields","profile","firstName","lastName","hasPassed","start","createdAt","to","components","AppButton","AppCountdown","props","computed","this","mounted","console","log","__exports__","AppShell","ListProposalItem","data","proposals","weights","walletAddress","$store","state","filter","uri","methods","async","res","error","types","getWeights","render","$route","params","ready","FormProposal","isReady"],"sourceRoot":""}