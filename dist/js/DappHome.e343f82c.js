"use strict";(self["webpackChunkoz_salon_dapp"]=self["webpackChunkoz_salon_dapp"]||[]).push([[342],{7769:function(e,t,o){o.d(t,{Z:function(){return A}});var r=o(6252);const n={style:{background:"#d54a37"}},a={key:0,class:"flex min-w-full relative min-h-screen text-black relative items-center justify-center p-3"},s=(0,r._)("p",{class:"absolute top-0 left-0 text-3xl md:text-5xl p-3"},[(0,r.Uk)(" Connect wallet"),(0,r._)("br"),(0,r.Uk)(" to continue ")],-1),l=(0,r._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-7 w-7 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,r._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1),i=(0,r.Uk)(" Click to Connect "),c=[l,i],d=(0,r._)("img",{class:"absolute right-3 bottom-3",style:{width:"30vw"},src:"Salon_Logotype_RGB_Positive.svg"},null,-1),u={key:1,class:"text-2xl md:text-3xl"},p={key:1,class:"grid grid-cols-12 px-10"},m={class:"col-span-12 md:col-span-3 py-10"},_={class:"col-span-12 md:col-span-8 py-10"};function f(e,t,o,l,i,f){const b=(0,r.up)("GlobalLoader"),h=(0,r.up)("DappHeader");return(0,r.wg)(),(0,r.iD)("div",n,[f.userAddress?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",a,[f.connecting?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[s,(0,r._)("div",null,[(0,r._)("button",{onClick:t[0]||(t[0]=(...e)=>f.connect&&f.connect(...e)),class:"flex items-center px-6 py-4 text-2xl md:text-3xl ml-3 text-lg hover:bg-black hover:text-black border-2 border-black rounded-full"},c)]),d],64)),f.connecting?((0,r.wg)(),(0,r.iD)("p",u,[(0,r.Wm)(b)])):(0,r.kq)("",!0)])),f.userAddress?((0,r.wg)(),(0,r.iD)("div",p,[(0,r._)("div",m,[(0,r.Wm)(h)]),(0,r._)("div",_,[(0,r.WI)(e.$slots,"default")])])):(0,r.kq)("",!0)])}const b=(0,r.uE)('<h1 class="text-4xl font-extrabold"><a href="/#/dapp"><img class="w-10" src="Salon_Symbol_RGB_Positive.svg"></a></h1><ul class="mt-10 uppercase"><li><a href="/#/dapp">Join</a></li><li><a href="/#/dapp/governance">Governance</a></li><li><a href="/#/dapp/members">Members</a></li><li><a href="/#/dapp/profile">Profile</a></li></ul>',2),h=[b];function v(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("div",null,h)}var y={name:"DappHeader",components:{}},g=o(3744);const w=(0,g.Z)(y,[["render",v]]);var x=w,k=o(5576),N={name:"DappHome",components:{DappHeader:x,GlobalLoader:k.Z},computed:{profile(){return this.$store.state.profile},userAddress(){return"walletAddress"in this.profile&&this.profile.walletAddress["en-US"]},connecting(){return this.$store.state.connecting}},methods:{connect(){this.$store.dispatch("connect")},disconnect(){this.$store.dispatch("disconnect")}}};const D=(0,g.Z)(N,[["render",f]]);var A=D},7179:function(e,t,o){o.r(t),o.d(t,{default:function(){return T}});var r=o(6252);function n(e,t,o,n,a,s){const l=(0,r.up)("ListGovernance"),i=(0,r.up)("DappShell");return(0,r.wg)(),(0,r.j4)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l)])),_:1})}var a=o(7769),s=o(3577);const l={class:"grid grid-cols-12"},i={class:"col-span-12"},c=(0,r._)("h1",{class:"mb-3"},"governance",-1),d={class:"mt-6"};function u(e,t,o,n,a,u){const p=(0,r.up)("ButtonYes"),m=(0,r.up)("ButtonNo"),_=(0,r.up)("CounterVote");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",i,[c,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.proposals,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"border mb-6 p-4 w-full grid grid-cols-2",key:t},[(0,r._)("div",null,[(0,r._)("p",null,(0,s.zw)(e.fields.title["en-US"]),1),(0,r.Uk)(" "+(0,s.zw)(e.fields.description["en-US"])+" ",1),(0,r._)("p",d,[(0,r.Wm)(p,{id:e.sys.id,votes:e.fields.votes},null,8,["id","votes"]),(0,r.Wm)(m,{id:e.sys.id,votes:e.fields.votes},null,8,["id","votes"])])]),(0,r.Wm)(_,{votes:e.fields.votes},null,8,["votes"])])))),128))])])}var p=o(9669),m=o.n(p);function _(e,t,o,n,a,l){return(0,r.wg)(),(0,r.iD)("button",{onClick:t[0]||(t[0]=e=>l.yes()),class:(0,s.C_)([{"bg-black":l.voted,"text-white":l.voted},"border p-2 mr-2"])}," Yes ",2)}var f={props:["id","votes"],computed:{profile(){return this.$store.state.profile},userAddress(){return"walletAddress"in this.profile&&this.profile.walletAddress["en-US"]},voted(){if(!this.votes)return!1;var e=!1;return"en-US"in this.votes&&this.votes["en-US"].votes.forEach((t=>{t.address==this.userAddress&&t.vote&&(e=!0)})),e}},methods:{async yes(){const e=JSON.stringify({address:this.userAddress,vote:!0,proposal:this.id});try{const t=await this.$store.state.signer.signMessage(e);console.log("Sending Vote!");const o=await m().post("https://salontest-terrifickid.cloud.okteto.net/vote",{address:this.userAddress,vote:e,signature:t});console.log(o.data),location.reload()}catch(t){console.log(t)}}}},b=o(3744);const h=(0,b.Z)(f,[["render",_]]);var v=h;function y(e,t,o,n,a,l){return(0,r.wg)(),(0,r.iD)("button",{onClick:t[0]||(t[0]=e=>l.no()),class:(0,s.C_)([{"bg-black":l.voted,"text-white":l.voted},"border p-2 mr-2"])}," No ",2)}var g={props:["id","votes"],computed:{voted(){if(!this.votes)return!1;var e=!1;return"en-US"in this.votes&&this.votes["en-US"].votes.forEach((t=>{t.address!=this.$store.state.userAddress||t.vote||(e=!0)})),e}},methods:{async no(){const e=JSON.stringify({address:this.$store.state.userAddress,vote:!1,proposal:this.id});try{const t=await this.$store.state.signer.signMessage(e);console.log("Sending Vote!");const o=await m().post("https://salontest-terrifickid.cloud.okteto.net/vote",{address:this.$store.state.userAddress,vote:e,signature:t});console.log(o.data),location.reload()}catch(t){console.log(t)}}}};const w=(0,b.Z)(g,[["render",y]]);var x=w;function k(e,t,o,n,a,l){return(0,r.wg)(),(0,r.iD)("div",null,[(0,r._)("div",null,"Total Votes: "+(0,s.zw)(l.total),1),(0,r._)("div",null,"Yes: "+(0,s.zw)(l.yesTotal),1),(0,r._)("div",null,"No: "+(0,s.zw)(l.noTotal),1)])}var N={props:["votes"],computed:{total(){return this.votes["en-US"].votes.length},yesTotal(){return this.votes["en-US"].votes.filter((e=>{if(e.vote)return!0})).length},noTotal(){return this.votes["en-US"].votes.filter((e=>{if(!e.vote)return!0})).length}}};const D=(0,b.Z)(N,[["render",k]]);var A=D,S={components:{ButtonYes:v,ButtonNo:x,CounterVote:A},data(){return{proposals:[]}},async beforeMount(){console.log("GLOad!");try{const e=await m().get("https://salontest-terrifickid.cloud.okteto.net/governance");this.proposals=e.data}catch(e){console.log("error",e)}}};const F=(0,b.Z)(S,[["render",u]]);var $=F,O={components:{DappShell:a.Z,ListGovernance:$},computed:{isMember(){var e=!1;return this.members.forEach((t=>{t.wallet==this.userAddress&&(e=!0)})),e},userAddress(){return this.$store.state.userAddress},members(){return this.$store.getters.getMembers}},methods:{connect(){this.$store.dispatch("connect")}}};const P=(0,b.Z)(O,[["render",n]]);var T=P},8505:function(e,t,o){o.r(t),o.d(t,{default:function(){return Ne}});var r=o(6252);const n={key:1};function a(e,t,o,a,s,l){const i=(0,r.up)("FormKyc"),c=(0,r.up)("FormApply"),d=(0,r.up)("DappShell");return(0,r.wg)(),(0,r.j4)(d,null,{default:(0,r.w5)((()=>[l.isNew?((0,r.wg)(),(0,r.j4)(i,{key:0})):(0,r.kq)("",!0),l.isKycApproved||l.isNew?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("h1",n,"Your KYC application is being reviewed.")),l.isKycApproved?((0,r.wg)(),(0,r.j4)(c,{key:2})):(0,r.kq)("",!0)])),_:1})}var s=o(7769),l=o(9963),i=o(3577);const c=e=>((0,r.dD)("data-v-768c9397"),e=e(),(0,r.Cn)(),e),d=c((()=>(0,r._)("h1",null,"kyc verification",-1))),u=c((()=>(0,r._)("label",{htmlFor:"type_of_entity",className:"formbuilder-radio-group-label form__input-row-label"}," Type of Entity ",-1))),p=c((()=>(0,r._)("input",{name:"type_of_entity",id:"type_of_entity-0","aria-":"true",value:"person",type:"radio"},null,-1))),m=c((()=>(0,r._)("span",{htmlFor:"type_of_entity-0"}," Person",-1))),_=c((()=>(0,r._)("p",null,[(0,r._)("input",{name:"type_of_entity",id:"type_of_entity-1","aria-":"true",value:"company",type:"radio"}),(0,r._)("span",{htmlFor:"type_of_entity-1"}," Company")],-1))),f=c((()=>(0,r._)("p",null,[(0,r._)("input",{name:"type_of_entity",id:"type_of_entity-2","aria-":"true",value:"trust",type:"radio"}),(0,r._)("span",{htmlFor:"type_of_entity-2"}," Trust")],-1))),b=c((()=>(0,r._)("label",{htmlFor:"walletAddress",className:"formbuilder-text-label form__input-row-label"}," Wallet Address ",-1))),h=["value"],v=c((()=>(0,r._)("label",{htmlFor:"legal_name_of_person",className:"formbuilder-text-label form__input-row-label"}," Legal Name of Person ",-1))),y=c((()=>(0,r._)("label",{htmlFor:"email_address",className:"formbuilder-text-label form__input-row-label"}," Email Address ",-1))),g=c((()=>(0,r._)("input",{type:"text",name:"email_address",id:"email_address","aria-":"true"},null,-1))),w=c((()=>(0,r._)("label",{htmlFor:"text-1650421756581",className:"formbuilder-text-label form__input-row-label"}," Home Address ",-1))),x=c((()=>(0,r._)("input",{type:"text",className:"form-control",name:"text-1650421756581",id:"text-1650421756581","aria-":"true"},null,-1))),k=c((()=>(0,r._)("label",{htmlFor:"text-1650421756581",className:"formbuilder-text-label form__input-row-label"}," Date of Birth ",-1))),N=c((()=>(0,r._)("select",{className:"form-control",name:"DOB_month",id:"select-1650421785515","aria-":"true"},[(0,r._)("option",{value:"01",id:"select-1650421785515-0"},"01"),(0,r._)("option",{value:"02",id:"select-1650421785515-1"},"02"),(0,r._)("option",{value:"03",id:"select-1650421785515-2"},"03")],-1))),D=(0,r.uE)('<select name="DOB_day" id="day" aria-="true" data-v-768c9397><option value="01" id="day-0" data-v-768c9397>01</option><option value="02" id="day-1" data-v-768c9397>02</option><option value="03" id="day-2" data-v-768c9397>03</option></select><select name="DOB_year" id="year" aria-="true" data-v-768c9397><option value="2000" id="year-0" data-v-768c9397>2000</option><option value="2001" id="year-1" data-v-768c9397>2001</option><option value="2003" id="year-2" data-v-768c9397>2003</option></select>',2),A=c((()=>(0,r._)("p",null,[(0,r._)("label",{htmlFor:"id_scan",className:"formbuilder-file-label"}," ID Scan ")],-1))),S=c((()=>(0,r._)("p",null," A passport is highly recommended but other forms of government–issued color photo ID (such as a national identity card or driver’s license) are also acceptable. ",-1))),F=c((()=>(0,r._)("p",null,[(0,r._)("input",{type:"file",name:"id_scan",id:"id_scan","aria-":"true"})],-1))),$=c((()=>(0,r._)("p",null,[(0,r._)("label",{htmlFor:"back_of_id_scan",className:"formbuilder-file-label form__input-row-label"}," Back of ID Scan (Optional) ")],-1))),O=c((()=>(0,r._)("p",null,"Not if you uploaded a passport above.",-1))),P=c((()=>(0,r._)("p",null,[(0,r._)("input",{type:"file",name:"back_of_id_scan",id:"back_of_id_scan"})],-1))),T=c((()=>(0,r._)("label",{htmlFor:"passport_or_id_number",className:"formbuilder-text-label form__input-row-label"}," Passport or ID Number ",-1))),C=c((()=>(0,r._)("input",{type:"text",name:"passport_or_id_number",id:"passport_or_id_number","aria-":"true"},null,-1))),Z=c((()=>(0,r._)("label",{htmlFor:"Phone-Number",className:"formbuilder-text-label form__input-row-label"}," Phone Number ",-1))),U=c((()=>(0,r._)("input",{type:"text",name:"Phone-Number",id:"Phone-Number","aria-":"true"},null,-1))),I=c((()=>(0,r._)("label",{htmlFor:"occupation",className:"formbuilder-text-label form__input-row-label"}," Occupation ",-1))),B=c((()=>(0,r._)("input",{type:"text",className:"form-control",name:"occupation",id:"occupation","aria-":"true"},null,-1))),M=c((()=>(0,r._)("h3",null,"How are you accredited?",-1))),Y=c((()=>(0,r._)("label",{htmlFor:"basis_of_accreditation",className:"formbuilder-radio-group-label form__input-row-label"}," Basis of Accreditation ",-1))),z=c((()=>(0,r._)("input",{name:"basis_of_accreditation",id:"basis_of_accreditation-0","aria-":"true",value:"income",type:"radio"},null,-1))),H=c((()=>(0,r._)("label",{htmlFor:"basis_of_accreditation-0"}," Income of $200k ($300K with spouse) in each of the last 2 years ",-1))),G=c((()=>(0,r._)("input",{name:"basis_of_accreditation",id:"basis_of_accreditation-1","aria-":"true",value:"net-worth",type:"radio"},null,-1))),j=c((()=>(0,r._)("label",{htmlFor:"basis_of_accreditation-1"}," Net worth over $1M ",-1))),q=c((()=>(0,r._)("h3",null,"Your income in the most recent tax year",-1))),K=c((()=>(0,r._)("label",{htmlFor:"income_recent",className:"formbuilder-text-label form__input-row-label"}," Income ",-1))),L=c((()=>(0,r._)("input",{type:"text",name:"income_recent",id:"income_recent","aria-":"true"},null,-1))),W=c((()=>(0,r._)("p",null,[(0,r._)("label",{htmlFor:"income_recent_documentation",className:"formbuilder-file-label form__input-row-label"}," Documentation ")],-1))),E=c((()=>(0,r._)("p",null," Government tax filings, pay stubs, or a letter from your attorney, accountant, or investment advisor written in the last 90 days (upload pdf, docx). ",-1))),R=c((()=>(0,r._)("p",null,[(0,r._)("input",{type:"file",name:"income_recent_documentation",id:"income_recent_documentation","aria-":"true"})],-1))),V=c((()=>(0,r._)("h3",null,"Your income in the previous tax year",-1))),J=c((()=>(0,r._)("label",{htmlFor:"income_last",className:"formbuilder-text-label form__input-row-label"}," Income ",-1))),Q=c((()=>(0,r._)("input",{type:"text",name:"income_last",id:"income_last","aria-":"true"},null,-1))),X=c((()=>(0,r._)("p",null,[(0,r._)("label",{htmlFor:"income_last_documentation",className:"formbuilder-file-label form__input-row-label"}," Documenation ")],-1))),ee=c((()=>(0,r._)("p",null," Government tax filings, pay stubs, or a letter from your attorney, accountant, or investment advisor written in the last 90 days (upload pdf, docx). ",-1))),te=c((()=>(0,r._)("p",null,[(0,r._)("input",{type:"file",name:"income_last_documentation",id:"income_last_documentation","aria-":"true"})],-1))),oe=c((()=>(0,r._)("label",{htmlFor:"current_year_income",className:"formbuilder-checkbox-group-label form__input-row-label"}," Current Year Income ",-1))),re=c((()=>(0,r._)("input",{name:"current_year_income[]",id:"current_year_income-0","aria-":"true",value:"true",type:"checkbox"},null,-1))),ne=c((()=>(0,r._)("label",{htmlFor:"current_year_income-0"},' I expect to earn an income of at least $200k ($300k with spouse) again this year.{" "} ',-1))),ae=["disabled"];function se(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("form",{className:"form lowercase",onSubmit:t[1]||(t[1]=(0,l.iM)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[d,u,p,m,_,f,b,(0,r._)("input",{type:"text",name:"walletAddress",id:"walletAddress","aria-":"true",value:s.userAddress},null,8,h),v,(0,r.wy)((0,r._)("input",{type:"text",name:"legalNameOfPerson",id:"legalNameOfPerson","aria-":"true","onUpdate:modelValue":t[0]||(t[0]=e=>a.legalNameOfPerson=e)},null,512),[[l.nr,a.legalNameOfPerson]]),y,g,w,x,k,N,D,A,S,F,$,O,P,T,C,Z,U,I,B,M,Y,z,H,G,j,q,K,L,W,E,R,V,J,Q,X,ee,te,oe,re,ne,(0,r._)("button",{class:"bg-black p-3 text-white mt-4",disabled:a.sending,type:"submit"},(0,i.zw)(a.btnTxt),9,ae)],32)}var le=o(9669),ie=o.n(le),ce={data(){return{legalNameOfPerson:"",btnTxt:"Submit",sending:!1}},methods:{async submitForm(){this.sending=!0,this.btnTxt="Sending...",console.log("Ran Submit!");try{const e=await ie().post("https://salontest-terrifickid.cloud.okteto.net/onboard",{walletAddress:this.userAddress,legalNameOfPerson:this.legalNameOfPerson});console.log("success",e.data),this.$store.dispatch("connect")}catch(e){console.log("error",e),this.btnTxt="error!"}}},computed:{userAddress(){return this.$store.state.userAddress}}},de=o(3744);const ue=(0,de.Z)(ce,[["render",se],["__scopeId","data-v-768c9397"]]);var pe=ue;const me=e=>((0,r.dD)("data-v-77938a0a"),e=e(),(0,r.Cn)(),e),_e=me((()=>(0,r._)("h1",null,"apply to join",-1))),fe=me((()=>(0,r._)("p",null,[(0,r._)("label",null,"usdc amount"),(0,r._)("input",{type:"text",placeholder:"30,000"}),(0,r._)("span",null,"This amount will be held in escrow pending a member vote. If the proposal passes, the funds will automatically be sent to the DAO. If the proposal fails, the funds will be refunded to you.")],-1))),be=me((()=>(0,r._)("p",null,[(0,r._)("label",null,"request amount"),(0,r._)("input",{type:"text"}),(0,r._)("span",null,"This is the amount of DAO membership tokens you are requesting be sent to the Applicant Address in exchange for your tribute.")],-1))),he=["disabled"];function ve(e,t,o,n,a,s){return(0,r.wg)(),(0,r.iD)("form",{className:"form lowercase",onSubmit:t[0]||(t[0]=(0,l.iM)(((...e)=>s.submitForm&&s.submitForm(...e)),["prevent"]))},[_e,fe,be,(0,r._)("button",{class:"bg-black p-3 text-white mt-4",disabled:a.sending,type:"submit"},(0,i.zw)(a.btnTxt),9,he)],32)}var ye={data(){return{btnTxt:"Submit",sending:!1}},methods:{async submitForm(){this.sending=!0,this.btnTxt="Sending...",console.log("Ran Submit!");try{const e=await ie().post("https://salontest-terrifickid.cloud.okteto.net/governance",{title:"Onboarding Proposal",legalNameOfPerson:"Tk Croft"});e.data.result?(console.log("success!"),this.btnTxt="Application Sent!"):(console.log("success!"),this.btnTxt="ERROR:: "+e.data.message)}catch(e){console.log("error",e),this.btnTxt="error!"}}},computed:{userAddress(){return this.$store.state.userAddress}}};const ge=(0,de.Z)(ye,[["render",ve],["__scopeId","data-v-77938a0a"]]);var we=ge,xe={name:"DappHome",components:{DappShell:s.Z,FormKyc:pe,FormApply:we},computed:{isNew(){return!("approved"in this.profile)},isKycApproved(){return!!this.profile.approved&&this.profile.approved["en-US"]},profile(){return this.$store.state.profile}}};const ke=(0,de.Z)(xe,[["render",a]]);var Ne=ke},4106:function(e,t,o){o.r(t),o.d(t,{default:function(){return y}});var r=o(6252);function n(e,t,o,n,a,s){const l=(0,r.up)("ListMembers"),i=(0,r.up)("DappShell");return(0,r.wg)(),(0,r.j4)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l)])),_:1})}var a=o(7769),s=o(3577);const l={class:"grid grid-cols-12 gap-6"},i=(0,r._)("div",{class:"col-span-12"},[(0,r._)("h1",{class:"mb-3"},"members")],-1),c={class:"border p-4"};function d(e,t,o,n,a,d){return(0,r.wg)(),(0,r.iD)("div",l,[i,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.members,((e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:"col-span-12 md:col-span-6",key:t},[(0,r._)("div",c,(0,s.zw)(e.legalNameOfPerson),1)])))),128))])}var u=o(9669),p=o.n(u),m={data(){return{members:[]}},async beforeMount(){console.log("members load!");try{const e=await p().get("https://salontest-terrifickid.cloud.okteto.net/members");this.members=e.data}catch(e){console.log("error",e)}}},_=o(3744);const f=(0,_.Z)(m,[["render",d]]);var b=f,h={components:{DappShell:a.Z,ListMembers:b}};const v=(0,_.Z)(h,[["render",n]]);var y=v},1830:function(e,t,o){o.r(t),o.d(t,{default:function(){return u}});var r=o(6252),n=o(3577);const a=(0,r._)("h1",null,"profile",-1);function s(e,t,o,s,l,i){const c=(0,r.up)("DappShell");return(0,r.wg)(),(0,r.j4)(c,null,{default:(0,r.w5)((()=>[a,(0,r.Uk)(" "+(0,n.zw)(i.profile),1)])),_:1})}var l=o(7769),i={components:{DappShell:l.Z},computed:{profile(){return this.$store.state.profile}}},c=o(3744);const d=(0,c.Z)(i,[["render",s]]);var u=d}}]);
//# sourceMappingURL=DappHome.e343f82c.js.map