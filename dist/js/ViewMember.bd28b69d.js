"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[487],{1677:function(e,t,s){s.d(t,{Z:function(){return i}});var l=s(6252);function o(e,t,s,o,r,a){const n=(0,l.up)("full-page");return(0,l.wg)(),(0,l.j4)(n,{ref:"fullpage",options:r.options,class:"pr-16"},{default:(0,l.w5)((()=>[(0,l.WI)(e.$slots,"default")])),_:3},8,["options"])}var r={data(){return{options:{licenseKey:"K9EP6-N164H-2BKM8-MJLGI-KSURM",controlArrows:!0,scrollBar:!1,scrollingSpeed:500,navigation:!0,navigationPosition:"right"}}},methods:{async next(){this.$refs.fullpage.api.moveSectionDown()},async resize(){console.log("resize!"),this.$refs.fullpage.api.fitToSection(),this.$refs.fullpage.api.reBuild()}},mounted(){console.log("mounted!")},unmounted(){window.removeEventListener("resize",this.resize)}},a=s(3744);const n=(0,a.Z)(r,[["render",o]]);var i=n},9172:function(e,t,s){s.d(t,{Z:function(){return D}});var l=s(6252),o=s(3577);const r={class:"p-1 text-left text-xl font-haffer font-bold"},a=(0,l._)("p",{class:"p-1 text-left text-2xl"},null,-1),n={class:"p-1 text-left flex font-haffer text-xs sm:text-base font-bold"},i={class:"border-b border-black p-1 text-right text-xs sm:text-base"},d={class:"border-b border-black p-1 text-left mb-24 text-xs sm:text-base"};function c(e,t,s,c,f,p){const m=(0,l.up)("AppDelegateSelect");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("p",r,(0,o.zw)(s.profile.lastName)+", "+(0,o.zw)(s.profile.firstName),1),a,(0,l._)("p",n,(0,o.zw)(s.profile.walletAddress),1),(0,l._)("p",i,(0,o.zw)(s.profile.emailAddress),1),(0,l._)("p",d,(0,o.zw)(s.profile.units),1),(0,l._)("p",null,[s.profile.walletAddress==this.walletAddress?((0,l.wg)(),(0,l.j4)(m,{key:0})):(0,l.kq)("",!0)])],64)}var f=s(9963);const p=(0,l._)("option",{value:"0"},"No Delegate",-1),m=["value"];function u(e,t,s,r,a,n){return(0,l.wy)(((0,l.wg)(),(0,l.iD)("select",{class:"focus:outline-none","onUpdate:modelValue":t[0]||(t[0]=e=>a.selected=e),onChange:t[1]||(t[1]=(...e)=>n.onChange&&n.onChange(...e))},[p,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.members,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:e.fields.walletAddress},(0,o.zw)(e.fields.firstName)+" "+(0,o.zw)(e.fields.lastName),9,m)))),128))],544)),[[f.bM,a.selected]])}var b=s(6486),h=s.n(b),g=s(9669),w=s.n(g),y={data(){return{selected:"",members:[]}},computed:{profile(){return this.$store.state.profile}},methods:{async onChange(){try{const e=await w().post("https://salon-node.salondao.xyz/delegate/"+this.profile.id+"/"+this.selected);console.log(e)}catch(e){console.error(e)}}},async beforeMount(){this.selected=h().get(this.profile,"delegate"),console.log("members load!");try{const e=await w().get("https://salon-node.salondao.xyz/members?cache=true");this.members=e.data,console.log(this.members)}catch(e){console.log("error",e)}}},v=s(3744);const x=(0,v.Z)(y,[["render",u]]);var _=x,A={components:{AppDelegateSelect:_},props:["profile"],computed:{walletAddress(){return this.$store.state.walletAddress}}};const M=(0,v.Z)(A,[["render",c]]);var D=M},3093:function(e,t,s){s.r(t),s.d(t,{default:function(){return D}});var l=s(6252),o=s(3577),r=s(9963);const a=e=>((0,l.dD)("data-v-6ce050f4"),e=e(),(0,l.Cn)(),e),n={class:"pt-24 text-center w-full absolute z-40 keyboard-off font-haffer"},i=a((()=>(0,l._)("option",{value:""},"Members",-1))),d=a((()=>(0,l._)("option",{value:""},"Sort by",-1))),c=a((()=>(0,l._)("option",null,"Alphabetical",-1))),f=a((()=>(0,l._)("option",null,"Date joined",-1))),p=a((()=>(0,l._)("option",null,"Units owned",-1))),m=[d,c,f,p],u={class:"grid grid-cols-12 w-full pt-32 font-haffer px-3"},b={class:"app-frame"};function h(e,t,s,a,d,c){const f=(0,l.up)("AppProfile"),p=(0,l.up)("AppFullpage"),h=(0,l.up)("AppShell");return(0,l.wg)(),(0,l.j4)(h,{colors:d.colors,isLoaded:c.loaded,protected:!0},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l.wy)((0,l._)("select",{class:"text-right p-2 font-bold","onUpdate:modelValue":t[0]||(t[0]=e=>d.filters.lastname=e),onChange:t[1]||(t[1]=(...e)=>c.filterMembers&&c.filterMembers(...e))},[i,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.allMembers,((e,t)=>((0,l.wg)(),(0,l.iD)("option",{key:t},(0,o.zw)(e.fields.lastName),1)))),128))],544),[[r.bM,d.filters.lastname]]),(0,l.wy)((0,l._)("select",{class:"text-right p-2 font-bold","onUpdate:modelValue":t[2]||(t[2]=e=>d.filters.orderby=e),onChange:t[3]||(t[3]=(...e)=>c.filterMembers&&c.filterMembers(...e))},m,544),[[r.bM,d.filters.orderby]])]),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(d.members,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"section"},[(0,l._)("div",u,[(0,l._)("div",b,[(0,l.Wm)(f,{profile:e.fields},null,8,["profile"])])])])))),128))])),_:1})])),_:1},8,["colors","isLoaded"])}var g=s(9669),w=s.n(g),y=s(7796),v=s(1677),x=s(9172),_={components:{AppFullpage:v.Z,AppShell:y.Z,AppProfile:x.Z},data(){return{colors:["white","black"],members:[],allMembers:[],filters:{lastname:"",orderby:""}}},computed:{loaded(){return this.members.length}},methods:{filterMembers(){if(this.members=this.allMembers.slice(),""!==this.filters.lastname&&(this.members=this.members.filter((e=>e.fields.lastName===this.filters.lastname))),""!==this.filters.orderby)switch(this.filters.orderby){case"Alphabetical":this.members=this.members.sort(((e,t)=>{const s=e.fields.lastName.toUpperCase(),l=t.fields.lastName.toUpperCase();return s<l?-1:s>l?1:0}));break;case"Date joined":this.members=this.members.sort(((e,t)=>{const s=Date.parse(e.sys.createdAt),l=Date.parse(t.sys.createdAt);return s>l?-1:s<l?1:0}));break;case"Units owned":this.members=this.members.sort(((e,t)=>e.fields.units>t.fields.units?-1:e.fields.units<t.fields.units?1:0));break}}},async beforeMount(){console.log("members load!");try{const e=await w().get("https://salon-node.salondao.xyz/members?cache=true");this.allMembers=e.data,this.members=e.data,console.log(this.members)}catch(e){console.log("error",e)}}},A=s(3744);const M=(0,A.Z)(_,[["render",h],["__scopeId","data-v-6ce050f4"]]);var D=M}}]);
//# sourceMappingURL=ViewMember.bd28b69d.js.map