"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{6591:function(s,e,o){o.r(e),o.d(e,{default:function(){return j}});var t=o(6252);const a=s=>((0,t.dD)("data-v-57d70cb9"),s=s(),(0,t.Cn)(),s),l={class:"grid grid-cols-12 gap-5 mb-32"},r={class:"hidden md:block md:col-span-3"},n=a((()=>(0,t._)("span",{class:"opacity-50"},"Filters",-1))),i=a((()=>(0,t._)("li",null,"All",-1))),p=a((()=>(0,t._)("li",{class:"opacity-50"},"Pending",-1))),d=a((()=>(0,t._)("li",{class:"opacity-50"},"Voted",-1))),c=a((()=>(0,t._)("li",{class:"opacity-50"},"Closed",-1))),u=a((()=>(0,t._)("li",{class:"opacity-50"},"My Proposals",-1))),m={class:"col-span-12 md:col-span-9"},g={key:0};function h(s,e,o,a,h,f){const w=(0,t.up)("router-link"),_=(0,t.up)("ListProposalItem");return(0,t.wg)(),(0,t.iD)("div",l,[(0,t._)("div",r,[n,(0,t._)("ul",null,[(0,t.Wm)(w,{to:"/manage/proposals"},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(w,{to:"/manage/proposals"},{default:(0,t.w5)((()=>[p])),_:1}),(0,t.Wm)(w,{to:"/manage/proposals"},{default:(0,t.w5)((()=>[d])),_:1}),(0,t.Wm)(w,{to:"/manage/proposals"},{default:(0,t.w5)((()=>[c])),_:1}),(0,t.Wm)(w,{to:"/manage/proposals"},{default:(0,t.w5)((()=>[u])),_:1})])]),(0,t._)("div",m,[f.myProposals.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",g,"No proposals.")),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(h.proposals,((s,e)=>((0,t.wg)(),(0,t.j4)(_,{key:e,item:s},null,8,["item"])))),128))])])}var f=o(9669),w=o.n(f),_=o(3577);const v={class:"capitalize"},y={class:"col-start-2 col-span-10 xl:col-span-7"},k={class:"col-start-2 col-span-10 xl:col-span-2"},b=(0,t._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function P(s,e,o,a,l,r){const n=(0,t.up)("AppCountdown"),i=(0,t.up)("router-link");return(0,t.wg)(),(0,t.j4)(i,{to:"/governance/"+o.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,t.w5)((()=>[(0,t._)("div",{class:(0,_.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!r.hasPassed,"mb-5":r.hasPassed}])},[(0,t._)("div",{class:(0,_.C_)(["col-span-1",{"text-green-500":!r.hasPassed}])}," 000 ",2),(0,t._)("div",{class:(0,_.C_)(["col-span-1 col-start-2",{"text-green-500":!r.hasPassed}])},[(0,t._)("b",v,(0,_.zw)(o.item.sys.contentType.sys.id),1)],2),(0,t._)("div",y,[(0,t.Wm)(n,{start:o.item.sys.createdAt},null,8,["start"])]),(0,t._)("div",k,(0,_.zw)(o.item.fields.profile.firstName)+" "+(0,_.zw)(o.item.fields.profile.lastName),1),b],2)])),_:1},8,["to"])}var x=o(6486),C=o.n(x),A=o(2042),W={components:{AppCountdown:A.Z},props:["item"],computed:{hasPassed(){return"boolean"==typeof C().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},z=o(3744);const D=(0,z.Z)(W,[["render",P]]);var I=D,N={components:{ListProposalItem:I},data(){return{proposals:[],weights:[],loaded:!1}},computed:{walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>C().get(s,"fields.profile.walletAddress")==this.walletAddress))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof C().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof C().get(s,"fields.votes.passed")))},uri(){return"https://salonnode-salondev-terrifickid.cloud.okteto.net/types/"}},methods:{async getWeights(){try{const s=await w().get("https://salonnode-salondev-terrifickid.cloud.okteto.net/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await w().post(this.uri,{types:"collect,invest,propose,sell,onboard,kick"});this.proposals=C().get(s,"data.message"),console.log(this.proposals),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const Z=(0,z.Z)(N,[["render",h],["__scopeId","data-v-57d70cb9"]]);var j=Z}}]);
//# sourceMappingURL=ViewProposals.fc2ea3d4.js.map