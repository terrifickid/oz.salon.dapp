"use strict";(self["webpackChunkoz_salon_dapp"]=self["webpackChunkoz_salon_dapp"]||[]).push([[563],{5820:function(o,t,s){s.d(t,{Z:function(){return a}});var e=s(6252);const l={class:"h-screen flex px-3 overflow-scroll"};function n(o,t){return(0,e.wg)(),(0,e.iD)("div",l,[(0,e.WI)(o.$slots,"default")])}var r=s(3744);const i={},c=(0,r.Z)(i,[["render",n]]);var a=c},5350:function(o,t,s){s.d(t,{Z:function(){return h}});var e=s(6252),l=s(3577);const n={class:"grid grid-cols-10"},r={class:"col-start-7 col-span-4 sm:col-start-8 sm:col-span-3 lg:col-start-9 lg:col-span-2"},i={href:"/#/"};function c(o,t,s,c,a,p){const d=(0,e.up)("AppLogo");return p.display?((0,e.wg)(),(0,e.iD)("div",{key:0,class:(0,l.C_)(["fixed left-0 right-0 bottom-0 p-3 z-10",{["bg-"+s.colors[0]]:!0}])},[(0,e._)("div",n,[(0,e._)("div",r,[(0,e._)("a",i,[(0,e.Wm)(d,{color:"fill-"+s.colors[1]},null,8,["color"])])])])],2)):(0,e.kq)("",!0)}const a={version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 5368 1509",style:{"enable-background":"new 0 0 5368 1509"},"xml:space":"preserve"};function p(o,t,s,n,r,i){return(0,e.wg)(),(0,e.iD)("svg",a,[(0,e._)("path",{class:(0,l.C_)(s.color),d:"M4965.8,2.15c-135.62,0-185.13,73.19-275.54,73.19C4597.7,75.34,4571.86,0,4470.69,0\n    C4340.08,0,4231,126.35,4149.1,299.13C4066.8,122.58,3883.31,2.15,3631.16,2.15c-199.69,0-357.73,75.53-456.34,194.65\n    c-33.52-125.01-141.1-179.58-260.48-179.58c-190.55,0-367.91,139.88-460.47,389.02C2348.23,136.26,2102.72,2.15,1805.72,2.15\n    c-256.16,0-467.12,88.26-467.12,238.94c0,68.88,43.05,116.24,107.63,116.24c36.59,0,86.11-15.07,157.14-15.07\n    s157.14,15.07,157.14,94.72c0,86.11-96.87,118.4-202.35,157.14c-149.98,56.4-261.78,128.84-326.79,228.21\n    c-31.44-43.56-74.56-85.62-131.72-127.04L944.67,583.37c-62.43-45.21-88.26-88.26-88.26-133.46c0-55.97,40.9-83.95,92.56-83.95\n    c103.33,0,114.09,111.94,226.03,111.94c86.11,0,131.31-64.58,131.31-135.62c0-189.43-327.2-340.12-645.79-340.12\n    c-327.2,0-538.16,137.77-538.16,378.86c0,142.07,73.19,262.62,266.93,402.54l245.4,176.52c45.21,32.29,77.5,73.19,77.5,120.55\n    c0,53.82-43.05,88.26-94.72,88.26c-148.53,0-127.01-282-370.25-282c-146.38,0-243.25,101.17-243.25,238.94\n    c0,223.87,256.16,383.17,650.1,383.17c290.66,0,476.19-88.06,571.12-218.3c80.42,137.72,239.92,218.3,457.84,218.3\n    c154.99,0,249.71-40.9,342.27-40.9c88.26,0,96.87,40.9,161.45,40.9c59.85,0,198.48-36.11,273.14-313.48\n    c113.21,232.65,353.84,313.48,691.24,313.48c363.8,0,628.57-86.11,628.57-288.45c0-81.13-42.36-144.37-102.17-177.91\n    c121-7.34,224.54-43.44,306.63-100.4c-2.83,35.94-4.27,70.1-4.27,101.79c0,297.06,107.63,464.97,307.83,464.97\n    c200.2,0,290.61-161.45,258.32-514.48l-15.07-165.75c-25.83-294.91,30.14-436.99,165.75-436.99c92.56,0,129.16,66.73,129.16,157.14\n    c0,223.87-226.03,460.66-226.03,708.22c0,152.84,101.17,251.86,241.1,251.86c262.62,0,523.09-361.64,523.09-891.19\n    C5364.04,107.63,5127.25,2.15,4965.8,2.15z M1812.18,1078.47c-62.43,0-116.24-45.21-116.24-131.31\n    c0-105.48,73.19-180.82,161.45-180.82c83.95,0,116.24,66.73,116.24,127.01C1973.63,994.52,1893.98,1078.47,1812.18,1078.47z\n     M3129.6,1134.44c-103.33,0-157.14-49.51-157.14-165.75c0-114.22,49.59-220.93,100.92-328.09\n    c42.95,193.82,192.96,344.52,415.18,389.57C3379.68,1061.57,3257.95,1134.44,3129.6,1134.44z M3631.16,654.4\n    c-75.34,0-127.01-62.43-127.01-152.84s51.66-150.68,127.01-150.68s122.7,60.27,122.7,150.68S3706.5,654.4,3631.16,654.4z"},null,2)])}var d={props:["color"]},u=s(3744);const g=(0,u.Z)(d,[["render",p]]);var f=g,v={props:["colors"],computed:{display(){return this.colors?.length}},components:{AppLogo:f}};const y=(0,u.Z)(v,[["render",c]]);var h=y},7355:function(o,t,s){s.d(t,{Z:function(){return L}});var e=s(6252),l=s(3577);const n={key:0},r={key:1};function i(o,t,s,i,c,a){const p=(0,e.up)("AppHeader"),d=(0,e.up)("AppLoader"),u=(0,e.up)("AppFooter"),g=(0,e.up)("WalletConnect");return(0,e.wg)(),(0,e.iD)("div",{class:(0,l.C_)([a.salonClass,"min-h-screen"])},[a.walletAddress?((0,e.wg)(),(0,e.iD)("div",n,[(0,e.Wm)(p,{colors:s.colors},null,8,["colors"]),a.ready?(0,e.kq)("",!0):((0,e.wg)(),(0,e.j4)(d,{key:0})),a.ready?(0,e.WI)(o.$slots,"default",{key:1}):(0,e.kq)("",!0),(0,e.Wm)(u,{colors:s.colors},null,8,["colors"])])):(0,e.kq)("",!0),a.walletAddress?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",r,[(0,e.Wm)(g,{textClass:"text-black",backgroundClass:"bg-tope",fillClass:"fill-black",class:"fixed h-full"})]))],2)}var c=s(5350),a=s(9998);const p=o=>((0,e.dD)("data-v-67d61449"),o=o(),(0,e.Cn)(),o),d={class:"min-h-screen flex items-center"},u=p((()=>(0,e._)("span",{class:"loader"},null,-1))),g=[u];function f(o,t){return(0,e.wg)(),(0,e.iD)("div",d,g)}var v=s(3744);const y={},h=(0,v.Z)(y,[["render",f],["__scopeId","data-v-67d61449"]]);var w=h;const m=(0,e.uE)('<svg xmlns="http://www.w3.org/2000/svg" class="w-48 h-48 relative left-20 bottom-20" viewBox="0 0 212 189"><g fill="none" fill-rule="evenodd"><polygon fill="#CDBDB2" points="60.75 173.25 88.313 180.563 88.313 171 90.563 168.75 106.313 168.75 106.313 180 106.313 187.875 89.438 187.875 68.625 178.875"></polygon><polygon fill="#CDBDB2" points="105.75 173.25 132.75 180.563 132.75 171 135 168.75 150.75 168.75 150.75 180 150.75 187.875 133.875 187.875 113.063 178.875" transform="matrix(-1 0 0 1 256.5 0)"></polygon><polygon fill="#393939" points="90.563 152.438 88.313 171 91.125 168.75 120.375 168.75 123.75 171 121.5 152.438 117 149.625 94.5 150.188"></polygon><polygon fill="#F89C35" points="75.375 27 88.875 58.5 95.063 150.188 117 150.188 123.75 58.5 136.125 27"></polygon><polygon fill="#F89D35" points="16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"></polygon><polygon fill="#D87C30" points="46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"></polygon><polygon fill="#EA8D3A" points="46.125 101.813 65.25 119.813 65.25 137.813"></polygon><polygon fill="#F89D35" points="65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"></polygon><polygon fill="#EB8F35" points="65.25 138.375 60.75 173.25 90.563 152.438"></polygon><polygon fill="#EA8E3A" points="92.25 102.375 95.063 150.188 86.625 125.719"></polygon><polygon fill="#D87C30" points="39.375 138.938 65.25 138.375 60.75 173.25"></polygon><polygon fill="#EB8F35" points="12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"></polygon><polygon fill="#E8821E" points="88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"></polygon><polygon fill="#DFCEC3" points="60.75 173.25 90.563 152.438 88.313 170.438 88.313 180.563 68.063 176.625"></polygon><polygon fill="#DFCEC3" points="121.5 173.25 150.75 152.438 148.5 170.438 148.5 180.563 128.25 176.625" transform="matrix(-1 0 0 1 272.25 0)"></polygon><polygon fill="#393939" points="70.313 112.5 64.125 125.438 86.063 119.813" transform="matrix(-1 0 0 1 150.188 0)"></polygon><polygon fill="#E88F35" points="12.375 .563 88.875 58.5 75.938 27"></polygon><path fill="#8E5A30" d="M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"></path><g transform="matrix(-1 0 0 1 211.5 0)"><polygon fill="#F89D35" points="16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"></polygon><polygon fill="#D87C30" points="46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"></polygon><polygon fill="#EA8D3A" points="46.125 101.813 65.25 119.813 65.25 137.813"></polygon><polygon fill="#F89D35" points="65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"></polygon><polygon fill="#EB8F35" points="65.25 138.375 60.75 173.25 90 153"></polygon><polygon fill="#EA8E3A" points="92.25 102.375 95.063 150.188 86.625 125.719"></polygon><polygon fill="#D87C30" points="39.375 138.938 65.25 138.375 60.75 173.25"></polygon><polygon fill="#EB8F35" points="12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"></polygon><polygon fill="#E8821E" points="88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"></polygon><polygon fill="#393939" points="70.313 112.5 64.125 125.438 86.063 119.813" transform="matrix(-1 0 0 1 150.188 0)"></polygon><polygon fill="#E88F35" points="12.375 .563 88.875 58.5 75.938 27"></polygon><path fill="#8E5A30" d="M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"></path></g></g></svg>',1),C=[m];function x(o,t,s,n,r,i){const c=(0,e.up)("AppHeader"),a=(0,e.up)("AppFooter");return(0,e.wg)(),(0,e.iD)("div",{class:(0,l.C_)(["flex w-full items-center justify-center",{[s.textClass]:!0,[s.backgroundClass]:!0}])},[(0,e.Wm)(c,{backgroundClass:s.backgroundClass,textClass:s.textClass},null,8,["backgroundClass","textClass"]),(0,e._)("button",{class:"bg-electric text-silver rounded px-8 py-6 text-2xl shadow-sm op flex items-center",onClick:t[0]||(t[0]=(...o)=>i.connect&&i.connect(...o))},C),(0,e.Wm)(a,{backgroundClass:s.backgroundClass,fillClass:s.fillClass},null,8,["backgroundClass","fillClass"])],2)}var k={props:["backgroundClass","textClass","fillClass"],components:{AppFooter:c.Z,AppHeader:a.Z},methods:{connect(){this.$store.dispatch("connect")}}};const A=(0,v.Z)(k,[["render",x]]);var b=A,_={components:{AppFooter:c.Z,AppLoader:w,AppHeader:a.Z,WalletConnect:b},props:["colors","isLoaded"],computed:{salonClass(){return"bg-"+this.colors[0]+" text-"+this.colors[1]},profile(){return this.$store.state.profile},walletAddress(){return this.$store.state.walletAddress},connecting(){return this.$store.state.connecting},ready(){return this.walletAddress&&!("loading"in this.profile)&&this.isLoaded}},methods:{mounted(){console.log(this.background)},connect(){this.$store.dispatch("connect")},disconnect(){this.$store.dispatch("disconnect")}}};const D=(0,v.Z)(_,[["render",i]]);var L=D},1209:function(o,t,s){s.r(t),s.d(t,{default:function(){return J}});var e=s(6252);function l(o,t,s,l,n,r){const i=(0,e.up)("ListGovernance"),c=(0,e.up)("AppContent"),a=(0,e.up)("AppShell");return(0,e.wg)(),(0,e.j4)(a,{backgroundClass:"bg-white",textClass:"text-lilac",fillClass:"fill-lilac"},{default:(0,e.w5)((()=>[(0,e.Wm)(c,null,{default:(0,e.w5)((()=>[(0,e.Wm)(i,{class:"mt-16"})])),_:1})])),_:1})}var n=s(7355),r=s(5820),i=s(3577);const c={class:"grid grid-cols-12 w-full"},a={class:"col-span-12"},p={class:"col-span-4"},d={class:"text-3xl mb-8"},u={class:"col-span-4 flex justify-center"},g={class:"col-span-4"},f=["onClick"],v=(0,e._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,e._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1),y=(0,e.Uk)(" Execute "),h=[v,y];function w(o,t,s,l,n,r){const v=(0,e.up)("ButtonYes"),y=(0,e.up)("ButtonNo"),w=(0,e.up)("CounterVote");return(0,e.wg)(),(0,e.iD)("div",c,[(0,e._)("div",a,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.proposals,((o,t)=>((0,e.wg)(),(0,e.iD)("div",{class:"border-b mb-6 p-4 w-full grid grid-cols-12",key:t},[(0,e._)("div",p,[(0,e._)("p",d,(0,i.zw)(o.fields.proposalType["en-US"][0])+" #"+(0,i.zw)(o.sys.id),1),(0,e._)("p",null,(0,i.zw)(o),1)]),(0,e._)("div",u,[(0,e._)("div",null,[(0,e.Wm)(v,{id:o.sys.id,votes:o.fields.votes},null,8,["id","votes"]),(0,e.Wm)(y,{id:o.sys.id,votes:o.fields.votes},null,8,["id","votes"])])]),(0,e._)("div",g,[(0,e.Wm)(w,{votes:o.fields.votes},null,8,["votes"]),(0,e._)("button",{onClick:t=>r.execute(o.sys.id),class:"mt-2 text-pink flex"},h,8,f)])])))),128))])])}var m=s(9669),C=s.n(m);const x=["disabled"],k=(0,e.Uk)(" Yes "),A={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},b=(0,e._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),_=[b];function D(o,t,s,l,n,r){return(0,e.wg)(),(0,e.iD)("button",{onClick:t[0]||(t[0]=o=>r.yes()),disabled:o.processing,class:"mx-auto mt-3 bg-lilac text-white rounded px-4 py-3 text-xl shadow-sm op flex items-center w-32 justify-center"},[k,r.voted?((0,e.wg)(),(0,e.iD)("svg",A,_)):(0,e.kq)("",!0)],8,x)}var L={props:["id","votes"],computed:{profile(){return this.$store.state.profile},walletAddress(){return this.$store.state.walletAddress},voted(){if(!this.votes)return!1;var o=!1;return"en-US"in this.votes&&this.votes["en-US"].votes.forEach((t=>{t.address==this.walletAddress&&t.vote&&(o=!0)})),o}},methods:{async yes(){const o=JSON.stringify({address:this.walletAddress,vote:!0,proposal:this.id});try{const t=await this.$store.state.signer.signMessage(o);console.log("Sending Vote!");const s=await C().post("https://salontest-terrifickid.cloud.okteto.net/vote",{address:this.walletAddress,vote:o,signature:t});console.log(s.data),location.reload()}catch(t){console.log(t)}}}},E=s(3744);const Z=(0,E.Z)(L,[["render",D]]);var B=Z;const F=(0,e.Uk)(" No "),S={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},W=(0,e._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),$=[W];function z(o,t,s,l,n,r){return(0,e.wg)(),(0,e.iD)("button",{onClick:t[0]||(t[0]=o=>r.no()),class:"mx-auto mt-3 bg-lilac text-white rounded px-4 py-3 text-xl shadow-sm op flex items-center w-32 justify-center"},[F,r.voted?((0,e.wg)(),(0,e.iD)("svg",S,$)):(0,e.kq)("",!0)])}var M={props:["id","votes"],computed:{voted(){if(!this.votes)return!1;var o=!1;return"en-US"in this.votes&&this.votes["en-US"].votes.forEach((t=>{t.address!=this.$store.state.userAddress||t.vote||(o=!0)})),o}},methods:{async no(){const o=JSON.stringify({address:this.$store.state.userAddress,vote:!1,proposal:this.id});try{const t=await this.$store.state.signer.signMessage(o);console.log("Sending Vote!");const s=await C().post("https://salontest-terrifickid.cloud.okteto.net/vote",{address:this.$store.state.userAddress,vote:o,signature:t});console.log(s.data),location.reload()}catch(t){console.log(t)}}}};const U=(0,E.Z)(M,[["render",z]]);var j=U;function q(o,t,s,l,n,r){return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",null,"Total Votes: "+(0,i.zw)(r.total),1),(0,e._)("div",null,"Yes: "+(0,i.zw)(r.yesTotal),1),(0,e._)("div",null,"No: "+(0,i.zw)(r.noTotal),1)])}var H={props:["votes"],computed:{total(){return this.votes["en-US"].votes.length},yesTotal(){return this.votes["en-US"].votes.filter((o=>{if(o.vote)return!0})).length},noTotal(){return this.votes["en-US"].votes.filter((o=>{if(!o.vote)return!0})).length}}};const N=(0,E.Z)(H,[["render",q]]);var T=N,V={components:{ButtonYes:B,ButtonNo:j,CounterVote:T},data(){return{proposals:[]}},methods:{async execute(o){console.log("execute!");try{const t=await C().post("https://salontest-terrifickid.cloud.okteto.net/execute",{id:o});console.log("executed!",t.data)}catch(t){console.log("error",t)}}},async beforeMount(){console.log("GLOad!");try{const o=await C().get("https://salontest-terrifickid.cloud.okteto.net/governance");this.proposals=o.data}catch(o){console.log("error",o)}}};const Y=(0,E.Z)(V,[["render",w]]);var G=Y,I={components:{AppShell:n.Z,ListGovernance:G,AppContent:r.Z}};const O=(0,E.Z)(I,[["render",l]]);var J=O}}]);
//# sourceMappingURL=ViewGovernance.880132dc.js.map