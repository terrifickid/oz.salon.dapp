{"version":3,"file":"js/ViewGovernance.2a3398e3.js","mappings":"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","sources":["webpack://Salon/./src/components/AppFullpage.vue","webpack://Salon/./src/components/AppFullpage.vue?b4a0","webpack://Salon/./src/views/ViewGovernance.vue","webpack://Salon/./src/components/AppButtonVote.vue","webpack://Salon/./src/components/AppButtonVote.vue?f967","webpack://Salon/./src/components/CounterVote.vue","webpack://Salon/./src/components/CounterVote.vue?dad4","webpack://Salon/./src/components/AppCountdown.vue","webpack://Salon/./src/components/AppCountdown.vue?3e11","webpack://Salon/./src/views/ViewGovernance.vue?2954"],"sourcesContent":["<template>\n  <full-page ref=\"fullpage\" :options=\"options\" class=\"pr-16\">\n    <slot></slot>\n  </full-page>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      options: {\n        licenseKey: \"K9EP6-N164H-2BKM8-MJLGI-KSURM\",\n        controlArrows: true,\n        scrollBar: false,\n        scrollingSpeed: 500,\n        navigation: true,\n        navigationPosition: \"right\",\n      },\n    };\n  },\n  methods: {\n    async next() {\n      this.$refs.fullpage.api.moveSectionDown();\n    },\n    async resize() {\n      console.log(\"resize!\");\n      this.$refs.fullpage.api.fitToSection();\n      this.$refs.fullpage.api.reBuild();\n    },\n  },\n  mounted() {\n    console.log(\"mounted!\");\n  },\n  unmounted() {\n    window.removeEventListener(\"resize\", this.resize);\n  },\n};\n</script>\n<style>\n.fullpage-wrapper {\n  padding-right: 0 !important;\n}\n</style>\n","import { render } from \"./AppFullpage.vue?vue&type=template&id=f9d938ee\"\nimport script from \"./AppFullpage.vue?vue&type=script&lang=js\"\nexport * from \"./AppFullpage.vue?vue&type=script&lang=js\"\n\nimport \"./AppFullpage.vue?vue&type=style&index=0&id=f9d938ee&lang=css\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <AppShell\n    :colors=\"colors\"\n    :isLoaded=\"loaded\"\n    :protected=\"true\"\n    class=\"font-haffer\"\n  >\n    <div\n      class=\"pt-24 text-center w-full absolute z-40 keyboard-off font-haffer\"\n    >\n      <select class=\"text-right p-2 font-bold\">\n        <option>Active</option>\n        <option>Completed</option>\n      </select>\n    </div>\n    <AppFullpage>\n      <div v-for=\"(item, index) in proposals\" :key=\"index\" class=\"section\">\n        <div class=\"grid grid-cols-12 w-full gap-3 px-3\" style=\"height: 50vh\">\n          <div class=\"col-span-6 sm:col-span-4 lg:col-span-3 xl:col-span-2\">\n            <b class=\"uppercase\">{{ item.contentType }}</b\n            ><br />\n            {{ item.id }}\n\n            <CounterVote :votes=\"item.votes\" :weights=\"this.weights\" />\n\n            <AppCountdown :start=\"item.createdAt\" class=\"mt-2\" />\n\n            <div class=\"mt-3 flex\">\n              <AppButtonVote\n                :id=\"item.id\"\n                :votes=\"item.votes\"\n                :choice=\"true\"\n                :label=\"'Yes'\"\n                class=\"mr-2\"\n              />\n              <AppButtonVote\n                :id=\"item.id\"\n                :votes=\"item.votes\"\n                :choice=\"false\"\n                :label=\"'No'\"\n              />\n            </div>\n          </div>\n          <div class=\"col-span-6 sm:col-span-8 lg:col-span-9 xl:col-span-10\">\n            <ul>\n              <li\n                v-for=\"(field, index) in item.fields\"\n                :key=\"index\"\n                class=\"mr-5 mb-5 text-sm text-right\"\n              >\n                <b>{{ field.label }}</b\n                ><br />{{ field.value }}\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n    </AppFullpage>\n  </AppShell>\n</template>\n<script>\n// @ is an alias to /src\nimport axios from \"axios\";\nimport AppButtonVote from \"@/components/AppButtonVote\";\nimport CounterVote from \"@/components/CounterVote\";\nimport AppCountdown from \"@/components/AppCountdown\";\nimport AppShell from \"@/components/AppShell\";\nimport AppFullpage from \"@/components/AppFullpage\";\n\nexport default {\n  components: {\n    AppFullpage,\n    AppShell,\n    AppButtonVote,\n    CounterVote,\n    AppCountdown,\n  },\n  data() {\n    return {\n      colors: [\"white\", \"black\"],\n      proposals: [],\n      weights: [],\n      types: [\"collect\", \"invest\", \"propose\", \"sell\", \"transfer\", \"onboard\"],\n      loaded: false,\n    };\n  },\n  computed: {},\n  methods: {\n    async getWeights() {\n      try {\n        const res = await axios.get(\n          process.env.VUE_APP_URI + \"/members?cache=true\"\n        );\n        this.weights = res.data;\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    },\n    getFieldLabel(fields, id) {\n      for (let field of fields) {\n        if (field.id == id) return field.name;\n      }\n    },\n    async assembleProposalType(type) {\n      var endpoints = [\n        process.env.VUE_APP_URI + \"/type/\" + type + \"?cache=true\",\n        process.env.VUE_APP_URI + \"/form/\" + type + \"?cache=true\",\n      ];\n      var scope = this;\n      try {\n        var items = [];\n        var e = await Promise.all(\n          endpoints.map((endpoint) => axios.get(endpoint))\n        );\n        for (const value of Object.values(e[0].data.message.items)) {\n          var votes = { votes: [] };\n          if (\"votes\" in value.fields) {\n            votes = value.fields.votes;\n            delete value.fields.votes;\n          }\n\n          var fields = await Object.entries(value.fields).map(function (field) {\n            var label = scope.getFieldLabel(e[1].data.fields, field[0]);\n            return {\n              label: label,\n              value: field[1],\n            };\n          });\n\n          var item = {\n            id: value.sys.id,\n            createdAt: value.sys.createdAt,\n            contentType: value.sys.contentType.sys.id,\n            votes: votes,\n            fields: fields,\n          };\n          items.push(item);\n        }\n\n        return items;\n      } catch (error) {\n        console.error(error);\n        return [];\n      }\n    },\n  },\n  async beforeMount() {\n    console.log(\"proposals load!\");\n    var data = await Promise.all(\n      this.types.map((type) => this.assembleProposalType(type))\n    );\n    this.proposals = data.flat();\n    await this.getWeights();\n    this.loaded = true;\n    console.log(\"loaded!\");\n    console.log(this.proposals);\n  },\n};\n</script>\n<style scoped>\nselect {\n  border: 0px;\n  outline: 0px;\n}\n</style>\n","<template>\n  <AppButton\n    @click=\"vote()\"\n    :disabled=\"processing\"\n    class=\"flex items-center\"\n    :class=\"{ active: voted }\"\n  >\n    {{ label }}\n    <svg\n      v-if=\"voted\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      class=\"h-5 w-5 ml-1\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      stroke-width=\"2\"\n    >\n      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n    </svg>\n  </AppButton>\n</template>\n<script>\nimport axios from \"axios\";\nimport AppButton from \"@/components/AppButton.vue\";\nexport default {\n  components: { AppButton },\n  props: [\"id\", \"votes\", \"choice\", \"label\"],\n  data() {\n    return {\n      processing: false,\n    };\n  },\n  computed: {\n    walletAddress() {\n      return this.$store.state.walletAddress;\n    },\n    voted() {\n      if (!this.votes) return false;\n      var voted = false;\n      this.votes.votes.forEach((vote) => {\n        var v = JSON.parse(vote.vote);\n        if (v.address == this.walletAddress && v.vote == this.choice)\n          voted = true;\n      });\n\n      return voted;\n    },\n  },\n  methods: {\n    async vote() {\n      const vote = JSON.stringify({\n        address: this.walletAddress,\n        vote: this.choice,\n        proposal: this.id,\n      });\n\n      //Sign Message and Vote\n      try {\n        const signature = await this.$store.state.signer.signMessage(vote);\n        console.log(\"Sending Vote!\");\n        const res = await axios.post(\n          \"https://salontest-terrifickid.cloud.okteto.net/vote/\" + this.id,\n          {\n            address: this.walletAddress,\n            vote: vote,\n            signature: signature,\n          }\n        );\n        console.log(res.data);\n        location.reload();\n      } catch (err) {\n        console.log(err);\n      }\n    },\n  },\n};\n</script>\n<style scoped>\n.active {\n  background: black !important;\n  color: white !important;\n}\n</style>\n","import { render } from \"./AppButtonVote.vue?vue&type=template&id=203bd7e2&scoped=true\"\nimport script from \"./AppButtonVote.vue?vue&type=script&lang=js\"\nexport * from \"./AppButtonVote.vue?vue&type=script&lang=js\"\n\nimport \"./AppButtonVote.vue?vue&type=style&index=0&id=203bd7e2&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-203bd7e2\"]])\n\nexport default __exports__","<template>\n  <div class=\"text-xs\">\n    <div class=\"bg-black w-full relative my-3\" style=\"height: 2px\">\n      <div\n        class=\"bg-green-400 absolute z-20\"\n        style=\"height: 2px\"\n        :style=\"{ width: percentageYes + '%' }\"\n      ></div>\n      <div\n        class=\"bg-red-400 absolute z-10\"\n        style=\"height: 2px\"\n        :style=\"{ width: percentageYes + percentageNo + '%' }\"\n      ></div>\n    </div>\n\n    <div>Total Votes: {{ total }}</div>\n    <div>Yes: {{ yesTotal }}</div>\n    <div>No: {{ noTotal }}</div>\n  </div>\n</template>\n<script>\nexport default {\n  props: [\"votes\", \"weights\"],\n  computed: {\n    total() {\n      return this.votes.votes.length;\n    },\n    yesTotal() {\n      return this.votes.votes.filter((vote) => {\n        var v = JSON.parse(vote.vote);\n        if (v.vote) return true;\n      }).length;\n    },\n    noTotal() {\n      return this.votes.votes.filter((vote) => {\n        var v = JSON.parse(vote.vote);\n        if (!v.vote) return true;\n      }).length;\n    },\n    w() {\n      var weight = {};\n      for (let w of this.weights) {\n        weight[w.fields.walletAddress] = w.fields.units;\n      }\n      return weight;\n    },\n    totalUnits() {\n      var total = 0;\n      Object.values(this.w).forEach(\n        (e) => (total = parseInt(total) + parseInt(e))\n      );\n      return total;\n    },\n    wNormal() {\n      var max = this.totalUnits * 0.1;\n      var weight = {};\n      for (let w of this.weights) {\n        weight[w.fields.walletAddress] = w.fields.units;\n        if (w.fields.units > max) weight[w.fields.walletAddress] = max;\n      }\n      return weight;\n    },\n    yesWeight() {\n      var weight = 0;\n      var scope = this;\n      this.votes.votes.forEach(function (vote) {\n        var v = JSON.parse(vote.vote);\n        if (v.vote)\n          weight = parseInt(weight) + parseInt(scope.wNormal[v.address]);\n      });\n      return weight;\n    },\n    noWeight() {\n      var weight = 0;\n      var scope = this;\n      this.votes.votes.forEach(function (vote) {\n        var v = JSON.parse(vote.vote);\n        if (!v.vote)\n          weight = parseInt(weight) + parseInt(scope.wNormal[v.address]);\n      });\n      return weight;\n    },\n    percentageYes() {\n      if (!this.totalUnits || !this.yesWeight) return 0;\n      return Math.round((this.yesWeight / this.totalUnits) * 100);\n    },\n    percentageNo() {\n      if (!this.totalUnits || !this.noWeight) return 0;\n      return Math.round((this.noWeight / this.totalUnits) * 100);\n    },\n  },\n};\n</script>\n","import { render } from \"./CounterVote.vue?vue&type=template&id=33d53692\"\nimport script from \"./CounterVote.vue?vue&type=script&lang=js\"\nexport * from \"./CounterVote.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"text-xs\">\n    <vue-countdown :time=\"this.time\" v-slot=\"{ days, hours, minutes, seconds }\">\n      Time Remaining：{{ days }} days, {{ hours }} hours, {{ minutes }} minutes,\n      {{ seconds }} seconds.\n    </vue-countdown>\n  </div>\n</template>\n<script>\nexport default {\n  props: [\"start\"],\n  computed: {\n    startDate() {\n      return new Date(this.start);\n    },\n    endDate() {\n      const end = new Date();\n      end.setDate(this.startDate.getDate() + 4);\n      return end;\n    },\n    time() {\n      var now = new Date();\n      return this.endDate.getTime() - now.getTime();\n    },\n  },\n};\n</script>\n","import { render } from \"./AppCountdown.vue?vue&type=template&id=faec2372\"\nimport script from \"./AppCountdown.vue?vue&type=script&lang=js\"\nexport * from \"./AppCountdown.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ViewGovernance.vue?vue&type=template&id=85cbe3e4&scoped=true\"\nimport script from \"./ViewGovernance.vue?vue&type=script&lang=js\"\nexport * from \"./ViewGovernance.vue?vue&type=script&lang=js\"\n\nimport \"./ViewGovernance.vue?vue&type=style&index=0&id=85cbe3e4&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-85cbe3e4\"]])\n\nexport default __exports__"],"names":["ref","options","class","data","licenseKey","controlArrows","scrollBar","scrollingSpeed","navigation","navigationPosition","methods","async","this","$refs","fullpage","api","moveSectionDown","console","log","fitToSection","reBuild","mounted","unmounted","window","removeEventListener","resize","__exports__","render","style","colors","isLoaded","loaded","protected","proposals","item","index","key","contentType","id","votes","weights","start","createdAt","choice","label","fields","field","value","xmlns","fill","viewBox","stroke","d","vote","disabled","processing","voted","components","AppButton","props","computed","walletAddress","$store","state","forEach","v","JSON","parse","address","stringify","proposal","signature","signer","signMessage","res","location","reload","err","percentageYes","percentageNo","total","yesTotal","noTotal","length","filter","w","weight","units","totalUnits","Object","values","e","parseInt","wNormal","max","yesWeight","scope","noWeight","Math","round","time","days","hours","minutes","seconds","startDate","Date","endDate","end","setDate","getDate","now","getTime","AppFullpage","AppShell","AppButtonVote","CounterVote","AppCountdown","types","error","getFieldLabel","name","type","endpoints","items","Promise","all","map","endpoint","message","entries","sys","push","assembleProposalType","flat","getWeights"],"sourceRoot":""}