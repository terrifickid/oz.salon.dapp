"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{7975:function(s,e,t){t.d(e,{Z:function(){return h}});var l=t(6252);const o={id:"links",class:"grid grid-cols-12"},a={class:"col-span-6 md:col-span-12"},i={class:"mb-10"},r=(0,l.Uk)("Start"),n=(0,l.Uk)("Treasury"),d=(0,l.Uk)("Proposals"),c={class:"col-span-6 md:col-span-12"},p={class:"mb-10"},u=(0,l.Uk)("Profile"),f=(0,l.Uk)("Members");function m(s,e){const t=(0,l.up)("router-link");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l._)("div",a,[(0,l._)("ul",i,[(0,l._)("li",null,[(0,l.Wm)(t,{to:"/manage/start"},{default:(0,l.w5)((()=>[r])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(t,{to:"/manage/treasury"},{default:(0,l.w5)((()=>[n])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(t,{to:"/manage/proposals"},{default:(0,l.w5)((()=>[d])),_:1})])])]),(0,l._)("div",c,[(0,l._)("ul",p,[(0,l._)("li",null,[(0,l.Wm)(t,{to:"/manage/profile"},{default:(0,l.w5)((()=>[u])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(t,{to:"/manage/members"},{default:(0,l.w5)((()=>[f])),_:1})])])])])}var g=t(3744);const _={},v=(0,g.Z)(_,[["render",m],["__scopeId","data-v-687eb406"]]);var h=v},9968:function(s,e,t){t.r(e),t.d(e,{default:function(){return M}});var l=t(6252),o=t(3577);const a=s=>((0,l.dD)("data-v-7d4d52c7"),s=s(),(0,l.Cn)(),s),i={class:"container-fluid px-5"},r={class:"grid grid-cols-12"},n={class:"col-span-12 md:col-span-3"},d={class:"hidden md:block"},c=a((()=>(0,l._)("span",{class:"opacity-50"},"Filters",-1))),p={class:"col-span-12 md:col-span-9"},u={key:0};function f(s,e,t,a,f,m){const g=(0,l.up)("ManageNav"),_=(0,l.up)("router-link"),v=(0,l.up)("ListProposalItem");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",r,[(0,l._)("div",n,[(0,l.Wm)(g),(0,l._)("div",d,[c,(0,l._)("ul",null,[(0,l.Wm)(_,{to:"/manage/proposals"},{default:(0,l.w5)((()=>[(0,l._)("li",{class:(0,o.C_)({"opacity-50":"all"!=f.filter,"opacity-100":"all"==f.filter})},[(0,l._)("button",{onClick:e[0]||(e[0]=s=>f.filter="all")},"All")],2)])),_:1}),(0,l.Wm)(_,{to:"/manage/proposals"},{default:(0,l.w5)((()=>[(0,l._)("li",{class:(0,o.C_)({"opacity-50":"pending"!=f.filter,"opacity-100":"pending"==f.filter})},[(0,l._)("button",{onClick:e[1]||(e[1]=s=>f.filter="pending")},"Pending")],2)])),_:1}),(0,l.Wm)(_,{to:"/manage/proposals"},{default:(0,l.w5)((()=>[(0,l._)("li",{class:(0,o.C_)({"opacity-50":"voted"!=f.filter,"opacity-100":"voted"==f.filter})},[(0,l._)("button",{onClick:e[2]||(e[2]=s=>f.filter="voted")},"Voted")],2)])),_:1}),(0,l.Wm)(_,{to:"/manage/proposals"},{default:(0,l.w5)((()=>[(0,l._)("li",{class:(0,o.C_)({"opacity-50":"closed"!=f.filter,"opacity-100":"closed"==f.filter})},[(0,l._)("button",{onClick:e[3]||(e[3]=s=>f.filter="closed")},"Closed")],2)])),_:1}),(0,l.Wm)(_,{to:"/manage/proposals"},{default:(0,l.w5)((()=>[(0,l._)("li",{class:(0,o.C_)({"opacity-50":"my"!=f.filter,"opacity-100":"my"==f.filter})},[(0,l._)("button",{onClick:e[4]||(e[4]=s=>f.filter="my")},"My Proposals")],2)])),_:1})])])]),(0,l._)("div",p,[m.filteredProposals.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("p",u,"No proposals.")),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(m.filteredProposals,((s,e)=>((0,l.wg)(),(0,l.j4)(v,{key:e,item:s},null,8,["item"])))),128))])])])}var m=t(9669),g=t.n(m),_=t(7975);const v={class:"capitalize"},h={class:"col-start-2 col-span-10 xl:col-span-7"},y={class:"col-start-2 col-span-10 xl:col-span-2"},w=(0,l._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function k(s,e,t,a,i,r){const n=(0,l.up)("AppCountdown"),d=(0,l.up)("router-link");return(0,l.wg)(),(0,l.j4)(d,{to:"/manage/"+t.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,l.w5)((()=>[(0,l._)("div",{class:(0,o.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!r.hasPassed,"mb-5":r.hasPassed}])},[(0,l._)("div",{class:(0,o.C_)(["col-span-1",{"text-green-500":!r.hasPassed}])},(0,o.zw)(r.lpad),3),(0,l._)("div",{class:(0,o.C_)(["col-span-1 col-start-2",{"text-green-500":!r.hasPassed}])},[(0,l._)("b",v,(0,o.zw)(t.item.sys.contentType.sys.id),1)],2),(0,l._)("div",h,[(0,l.Wm)(n,{start:t.item.sys.createdAt},null,8,["start"])]),(0,l._)("div",y,(0,o.zw)(t.item.fields.profile.firstName)+" "+(0,o.zw)(t.item.fields.profile.lastName),1),w],2)])),_:1},8,["to"])}var b=t(6486),P=t.n(b),C=t(8687),W={components:{AppCountdown:C.Z},props:["item"],computed:{lpad(){var s=new Array(4).join("0");return(s+this.item.sys.id.replace(/\D/g,"")).slice(-3)},hasPassed(){return"boolean"==typeof P().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},x=t(3744);const A=(0,x.Z)(W,[["render",k]]);var D=A,Z={components:{ManageNav:_.Z,ListProposalItem:D},data(){return{proposals:[],weights:[],loaded:!1,filter:"all"}},computed:{filteredProposals(){var s;switch(this.filter){case"my":s=this.myProposals;break;case"pending":s=this.activeProposals;break;case"voted":s=this.votedProposals;break;case"closed":s=this.closedProposals;break;default:s=this.proposals}return s},walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>P().get(s,"fields.profile.walletAddress")==this.walletAddress))},votedProposals(){return this.activeProposals.filter((s=>P().get(s,"fields.votes.votes.length")>0))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof P().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof P().get(s,"fields.votes.passed")))},uri(){return"https://salonnode-salondev-terrifickid.cloud.okteto.net/types/"}},methods:{async getWeights(){try{const s=await g().get("https://salonnode-salondev-terrifickid.cloud.okteto.net/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await g().post(this.uri,{types:"collect,invest,propose,sell,onboard,kick"});this.proposals=P().get(s,"data.message"),console.log(this.proposals),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const z=(0,x.Z)(Z,[["render",f],["__scopeId","data-v-7d4d52c7"]]);var M=z}}]);
//# sourceMappingURL=ViewProposals.293534c8.js.map