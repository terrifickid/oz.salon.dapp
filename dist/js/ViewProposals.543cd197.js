"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{136:function(s,e,t){t.d(e,{Z:function(){return x}});var o=t(6252),a=t(3577);const l=s=>((0,o.dD)("data-v-6e0d8083"),s=s(),(0,o.Cn)(),s),r={id:"links",class:"grid grid-cols-12"},i={class:"col-span-6 md:col-span-12"},n={class:"mb-10"},p=(0,o.Uk)("Start"),d=(0,o.Uk)("Treasury"),c=(0,o.Uk)("Proposals "),u={class:"text-green-500 dot"},m=l((()=>(0,o._)("span",{style:{"margin-right":"1px"},class:"ml-1"},"(",-1))),g=l((()=>(0,o._)("span",{style:{"margin-left":"-2px"}},")",-1))),f={class:"col-span-6 md:col-span-12"},_={class:"mb-10"},y=(0,o.Uk)("Profile"),h=(0,o.Uk)("Members "),v=l((()=>(0,o._)("span",{style:{"margin-right":"1px"},class:"ml-1"},"(",-1))),w=l((()=>(0,o._)("span",{style:{"margin-left":"1px"}},")",-1)));function k(s,e,t,l,k,b){const P=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,[(0,o._)("ul",n,[(0,o._)("li",null,[(0,o.Wm)(P,{to:"/manage/start"},{default:(0,o.w5)((()=>[p])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(P,{to:"/manage/treasury"},{default:(0,o.w5)((()=>[d])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(P,{class:"flex items-center",to:"/manage/proposals"},{default:(0,o.w5)((()=>[c,(0,o._)("p",u,[m,(0,o.Uk)((0,a.zw)(b.activeProposalsCount)+" ",1),g])])),_:1})])])]),(0,o._)("div",f,[(0,o._)("ul",_,[(0,o._)("li",null,[(0,o.Wm)(P,{to:"/manage/profile"},{default:(0,o.w5)((()=>[y])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(P,{to:"/manage/members"},{default:(0,o.w5)((()=>[h,v,(0,o.Uk)((0,a.zw)(b.membersCount),1),w])),_:1})])])])])}var b={computed:{activeProposalsCount(){return this.$store.getters.activeProposalsCount},membersCount(){return this.$store.getters.membersCount}}},P=t(3744);const C=(0,P.Z)(b,[["render",k],["__scopeId","data-v-6e0d8083"]]);var x=C},6954:function(s,e,t){t.r(e),t.d(e,{default:function(){return N}});var o=t(6252),a=t(3577);const l=s=>((0,o.dD)("data-v-28d69b36"),s=s(),(0,o.Cn)(),s),r={class:"container-fluid px-5"},i={class:"grid grid-cols-12"},n={class:"col-span-12 md:col-span-3"},p={class:"md:fixed"},d={class:"hidden md:block"},c=l((()=>(0,o._)("span",{class:"opacity-50"},"Filters",-1))),u={class:"col-span-12 md:col-span-9"},m={key:0},g=l((()=>(0,o._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,o._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})],-1))),f=(0,o.Uk)(" Load More "),_=[g,f];function y(s,e,t,l,g,f){const y=(0,o.up)("ManageNav"),h=(0,o.up)("router-link"),v=(0,o.up)("ListProposalItem");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",i,[(0,o._)("div",n,[(0,o._)("div",p,[(0,o.Wm)(y),(0,o._)("div",d,[c,(0,o._)("ul",null,[(0,o.Wm)(h,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,a.C_)({"opacity-50":"all"!=g.filter,"opacity-100":"all"==g.filter})},[(0,o._)("button",{onClick:e[0]||(e[0]=s=>g.filter="all")},"All")],2)])),_:1}),(0,o.Wm)(h,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,a.C_)({"opacity-50":"pending"!=g.filter,"opacity-100":"pending"==g.filter})},[(0,o._)("button",{onClick:e[1]||(e[1]=s=>g.filter="pending")},"Pending")],2)])),_:1}),(0,o.Wm)(h,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,a.C_)({"opacity-50":"voted"!=g.filter,"opacity-100":"voted"==g.filter})},[(0,o._)("button",{onClick:e[2]||(e[2]=s=>g.filter="voted")},"Voted")],2)])),_:1}),(0,o.Wm)(h,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,a.C_)({"opacity-50":"closed"!=g.filter,"opacity-100":"closed"==g.filter})},[(0,o._)("button",{onClick:e[3]||(e[3]=s=>g.filter="closed")},"Closed")],2)])),_:1}),(0,o.Wm)(h,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,a.C_)({"opacity-50":"my"!=g.filter,"opacity-100":"my"==g.filter})},[(0,o._)("button",{onClick:e[4]||(e[4]=s=>g.filter="my")},"My Proposals")],2)])),_:1})])])])]),(0,o._)("div",u,[f.filteredProposals.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",m,"No proposals.")),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(f.filteredProposals.slice(0,g.perPage),((s,e)=>((0,o.wg)(),(0,o.j4)(v,{key:e,item:s},null,8,["item"])))),128)),g.perPage<=f.filteredProposals.length?((0,o.wg)(),(0,o.iD)("button",{key:1,class:"flex opacity-50 mt-12 mb-32 cursor-pointer",onClick:e[5]||(e[5]=s=>g.perPage+=10)},_)):(0,o.kq)("",!0)])])])}var h=t(9669),v=t.n(h),w=t(136);const k={class:"capitalize"},b={class:"col-start-2 col-span-10 xl:col-span-7"},P={class:"col-start-2 col-span-10 xl:col-span-2 truncate"},C=(0,o._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function x(s,e,t,l,r,i){const n=(0,o.up)("AppCountdown"),p=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(p,{to:"/manage/"+t.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,a.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!i.hasPassed,"mb-5":i.hasPassed}])},[(0,o._)("div",{class:(0,a.C_)(["col-span-1",{"text-green-500":!i.hasPassed}])},[(0,o._)("span",{class:(0,a.C_)(["",{"text-green-500":!i.hasPassed}])},(0,a.zw)(i.prettyId),3)],2),(0,o._)("div",{class:(0,a.C_)(["col-span-1 col-start-2",{"text-green-500":!i.hasPassed}])},[(0,o._)("b",k,(0,a.zw)(t.item.sys.contentType.sys.id),1)],2),(0,o._)("div",b,[i.hasPassed?((0,o.wg)(),(0,o.j4)(n,{key:0,start:0,type:t.item.sys.contentType.sys.id},null,8,["type"])):((0,o.wg)(),(0,o.j4)(n,{key:1,start:t.item.sys.createdAt,type:t.item.sys.contentType.sys.id},null,8,["start","type"]))]),(0,o._)("div",P,(0,a.zw)(t.item.fields.profile.firstName)+" "+(0,a.zw)(t.item.fields.profile.lastName),1),C],2)])),_:1},8,["to"])}var W=t(6486),A=t.n(W),D=t(63),U={components:{AppCountdown:D.Z},props:["item"],computed:{prettyId(){var s=new Array(4).join("0");return(s+this.item.fields.prettyId.toString().replace(/\D/g,"")).slice(-3)},hasPassed(){return"boolean"==typeof A().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},z=t(3744);const I=(0,z.Z)(U,[["render",x]]);var M=I,j={components:{ManageNav:w.Z,ListProposalItem:M},data(){return{weights:[],loaded:!1,filter:"all",perPage:10}},computed:{filteredProposals(){var s;switch(this.filter){case"my":s=this.myProposals;break;case"pending":s=this.activeProposals;break;case"voted":s=this.votedProposals;break;case"closed":s=this.closedProposals;break;default:s=this.proposals}return s},proposals(){return this.$store.state.proposals},walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>A().get(s,"fields.profile.walletAddress")==this.walletAddress))},votedProposals(){return this.activeProposals.filter((s=>A().get(s,"fields.votes.votes.length")>0))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof A().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof A().get(s,"fields.votes.passed")))},uri(){return"https://salonnode-salondev-terrifickid.cloud.okteto.net/types/"}},methods:{async getWeights(){try{const s=await v().get("https://salonnode-salondev-terrifickid.cloud.okteto.net/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await v().post(this.uri,{types:"exchange,acquire,invest,propose,sell,onboard,kick"});this.$store.state.proposals=A().get(s,"data.message"),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const Z=(0,z.Z)(j,[["render",y],["__scopeId","data-v-28d69b36"]]);var N=Z}}]);
//# sourceMappingURL=ViewProposals.543cd197.js.map