{"version":3,"file":"js/ViewProposals.fc2ea3d4.js","mappings":"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","sources":["webpack://Salon/./src/views/manage/ViewProposals.vue","webpack://Salon/./src/components/ListProposalItem.vue","webpack://Salon/./src/components/ListProposalItem.vue?998a","webpack://Salon/./src/views/manage/ViewProposals.vue?db40"],"sourcesContent":["<template>\n  <div class=\"grid grid-cols-12 gap-5 mb-32\">\n    <div class=\"hidden md:block md:col-span-3\">\n      <span class=\"opacity-50\">Filters</span>\n      <ul>\n        <router-link to=\"/manage/proposals\">\n          <li>All</li>\n        </router-link>\n        <router-link to=\"/manage/proposals\">\n          <li class=\"opacity-50\">Pending</li>\n        </router-link>\n        <router-link to=\"/manage/proposals\">\n          <li class=\"opacity-50\">Voted</li>\n        </router-link>\n        <router-link to=\"/manage/proposals\">\n          <li class=\"opacity-50\">Closed</li>\n        </router-link>\n        <router-link to=\"/manage/proposals\">\n          <li class=\"opacity-50\">My Proposals</li>\n        </router-link>\n      </ul>\n    </div>\n    <div class=\"col-span-12 md:col-span-9\">\n      <p v-if=\"!myProposals.length\">No proposals.</p>\n      <ListProposalItem\n        v-for=\"(item, index) in proposals\"\n        :key=\"index\"\n        :item=\"item\"\n      />\n    </div>\n  </div>\n</template>\n<script>\n// @ is an alias to /src\n//import _ from \"lodash\";\nimport axios from \"axios\";\n\nimport ListProposalItem from \"@/components/ListProposalItem\";\nimport _ from \"lodash\";\nexport default {\n  components: {\n    ListProposalItem,\n  },\n  data() {\n    return {\n      proposals: [],\n      weights: [],\n      loaded: false,\n    };\n  },\n  computed: {\n    walletAddress() {\n      return this.$store.state.walletAddress;\n    },\n    myProposals() {\n      return this.proposals.filter(\n        (item) =>\n          _.get(item, \"fields.profile.walletAddress\") == this.walletAddress\n      );\n    },\n    activeProposals() {\n      return this.proposals.filter(\n        (item) => typeof _.get(item, \"fields.votes.passed\") != \"boolean\"\n      );\n    },\n    closedProposals() {\n      return this.proposals.filter(\n        (item) => typeof _.get(item, \"fields.votes.passed\") == \"boolean\"\n      );\n    },\n    uri() {\n      return process.env.VUE_APP_URI + \"/types/\";\n    },\n  },\n  methods: {\n    async getWeights() {\n      try {\n        const res = await axios.get(\n          process.env.VUE_APP_URI + \"/members?cache=true\"\n        );\n        this.weights = res.data;\n      } catch (error) {\n        console.log(\"error\", error);\n      }\n    },\n  },\n  async beforeMount() {\n    console.log(\"proposals load!\");\n    const res = await axios.post(this.uri, {\n      types: \"collect,invest,propose,sell,onboard,kick\",\n    });\n    this.proposals = _.get(res, \"data.message\");\n    console.log(this.proposals);\n\n    await this.getWeights();\n    this.loaded = true;\n    console.log(\"loaded!\");\n  },\n};\n</script>\n<style scoped>\nselect {\n  border: 0px;\n  outline: 0px;\n}\n</style>\n","<template>\n  <router-link\n    :to=\"'/governance/' + item.sys.id\"\n    class=\"opacity-50 hover:opacity-100\"\n  >\n    <div\n      class=\"grid grid-cols-12 flex items-center gap-x-5\"\n      :class=\"{ 'mb-10': !hasPassed, 'mb-5': hasPassed }\"\n    >\n      <div class=\"col-span-1\" :class=\"{ 'text-green-500': !hasPassed }\">\n        000\n      </div>\n      <div\n        class=\"col-span-1 col-start-2\"\n        :class=\"{ 'text-green-500': !hasPassed }\"\n      >\n        <b class=\"capitalize\">{{ item.sys.contentType.sys.id }} </b>\n      </div>\n      <div class=\"col-start-2 col-span-10 xl:col-span-7\">\n        <AppCountdown :start=\"item.sys.createdAt\" />\n      </div>\n      <div class=\"col-start-2 col-span-10 xl:col-span-2\">\n        {{ item.fields.profile.firstName }}\n        {{ item.fields.profile.lastName }}\n      </div>\n      <div class=\"hidden xl:block xl:col-span-1 md:text-right\">0% / 0%</div>\n    </div>\n  </router-link>\n</template>\n<script>\nimport _ from \"lodash\";\nimport AppCountdown from \"@/components/AppCountdown\";\nexport default {\n  components: { AppCountdown },\n  props: [\"item\"],\n  computed: {\n    hasPassed() {\n      return typeof _.get(this.item, \"fields.votes.passed\") == \"boolean\";\n    },\n  },\n  mounted() {\n    console.log();\n  },\n};\n</script>\n","import { render } from \"./ListProposalItem.vue?vue&type=template&id=7b97de00\"\nimport script from \"./ListProposalItem.vue?vue&type=script&lang=js\"\nexport * from \"./ListProposalItem.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ViewProposals.vue?vue&type=template&id=57d70cb9&scoped=true\"\nimport script from \"./ViewProposals.vue?vue&type=script&lang=js\"\nexport * from \"./ViewProposals.vue?vue&type=script&lang=js\"\n\nimport \"./ViewProposals.vue?vue&type=style&index=0&id=57d70cb9&scoped=true&lang=css\"\n\nimport exportComponent from \"/Users/tk/salon/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-57d70cb9\"]])\n\nexport default __exports__"],"names":["class","to","myProposals","length","proposals","item","index","key","sys","id","hasPassed","contentType","start","createdAt","fields","profile","firstName","lastName","components","AppCountdown","props","computed","this","mounted","console","log","__exports__","ListProposalItem","data","weights","loaded","walletAddress","$store","state","filter","activeProposals","closedProposals","uri","methods","async","res","error","types","getWeights","render"],"sourceRoot":""}