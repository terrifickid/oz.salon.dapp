(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[869],{5090:function(e){e.exports=function(){"use strict";var e={612:function(e,t,r){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function i(e){var t="function"==typeof Map?new Map:void 0;return(i=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function s(e,t,r){return(s=a()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&l(o,r.prototype),o}).apply(null,arguments)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.r(t),r.d(t,{AccountFeaturesPreset:function(){return u},AccountQuotasPreset:function(){return d},ApiError:function(){return w},ApiKeyType:function(){return p},FilesService:function(){return F},FreeTrialPackageId:function(){return h},FreeUploadPlanId:function(){return f},OpenAPI:function(){return E},PaidUploadPlanId:function(){return m},PublicKeyFingerprintHashAlgorithm:function(){return g},TemplateIcon:function(){return y},TransformationCacheStatus:function(){return v},UserRoleType:function(){return b},request:function(){return k}});var u,d,p,h,f,m,g,y,v,b,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,r,n=(t=i,r=a(),function(){var e,n=c(t);if(r){var i=c(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return o(this,e)});function i(e,t){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(r=n.call(this,t)).url=e.url,r.status=e.status,r.statusText=e.statusText,r.body=e.body,r}return i}(i(Error)),E={BASE:"/",VERSION:"0.1.1259",WITH_CREDENTIALS:!1,TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0};function _(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function A(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function x(e){return null!=e}function S(e){return"string"==typeof e}function O(e){return S(e)&&""!==e}function P(e){return e instanceof Blob}!function(e){e.FREE_TRIAL="freeTrial",e.FREE="free",e.BASIC="basic",e.PRO="pro",e.BUSINESS="business"}(u||(u={})),function(e){e._10="10",e._50="50",e._100="100",e._150="150",e._200="200",e._250="250",e._300="300",e._500="500",e._750="750",e._1024="1024",e.FREE_TRIAL="freeTrial",e.FREE="free"}(d||(d={})),function(e){e.PUBLIC="public",e.SECRET="secret"}(p||(p={})),function(e){e.GB10TRIAL="gb10Trial",e.GB50TRIAL="gb50Trial",e.GB300TRIAL="gb300Trial"}(h||(h={})),function(e){e.GB10TRIAL="gb10Trial",e.GB50TRIAL="gb50Trial",e.GB300TRIAL="gb300Trial"}(f||(f={})),function(e){e.GB10="gb10",e.GB50="gb50",e.GB300="gb300"}(m||(m={})),function(e){e.SHA256="sha256"}(g||(g={})),function(e){e.VIDEO_WATERMARK="VideoWatermark",e.VIDEO_TRIM="VideoTrim",e.VIDEO_TRANSCODE="VideoTranscode",e.VIDEO_THUMBNAILS="VideoThumbnails",e.VIDEO_RESIZE="VideoResize",e.VIDEO_QUALITY="VideoQuality",e.ANTI_VIRUS="AntiVirus",e.ARCHIVE_COMPRESS="ArchiveCompress",e.ARCHIVE_EXTRACT="ArchiveExtract",e.CUSTOM_CODE="CustomCode",e.IMAGE_WATERMARK="ImageWatermark",e.IMAGE_RESIZE="ImageResize",e.IMAGE_CROP="ImageCrop",e.IMAGE_CONVERT="ImageConvert",e.IMAGE_QUALITY="ImageQuality",e.IMAGE_EXIF="ImageExif"}(y||(y={})),function(e){e.OK="ok",e.DELETING="deleting"}(v||(v={})),function(e){e.ACCOUNT_ADMIN="AccountAdmin",e.ACCOUNT_OBSERVER="AccountObserver",e.SYSTEM_ADMIN="SystemAdmin",e.SYSTEM_OBSERVER="SystemObserver"}(b||(b={}));var k=_((function(e){var t=function(e){var t,r,n=e.path.replace(/[:]/g,"_"),o="".concat(E.BASE).concat(n);return e.query?"".concat(o).concat((t=e.query,r=[],Object.keys(t).forEach((function(e){var n=t[e];x(n)&&(Array.isArray(n)?n.forEach((function(t){r.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(t))))})):r.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(String(n)))))})),r.length>0?"?".concat(r.join("&")):"")):o}(e);return A(T(e,t),(function(r){var n,o=function(e){try{var t=e.getResponseHeader("Content-Type");if(t)return t.toLowerCase().startsWith("application/json")?JSON.parse(e.responseText):e.responseText}catch(e){console.error(e)}return null}(r),i=function(e,t){if(t){var r=e.getResponseHeader(t);if(S(r))return r}return null}(r,e.responseHeader),s={url:t,ok:(n=r.status,n>=200&&n<300),status:r.status,statusText:r.statusText,body:i||o};return function(e,t){var r=Object.assign({400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"},e.errors)[t.status];if(r)throw new w(t,r);if(!t.ok)throw new w(t,"Generic Error")}(e,s),s}))})),T=_((function(e,t){var r=new XMLHttpRequest;return r.open(e.method,t,!0),r.withCredentials=E.WITH_CREDENTIALS,A(R(e),(function(t){return t.forEach((function(e,t){r.setRequestHeader(t,e)})),new Promise((function(t){r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&t(r)},r.send(function(e){return e.formData?(t=e.formData,r=new FormData,Object.keys(t).forEach((function(e){var n=t[e];x(n)&&r.append(e,n)})),r):e.body?S(e.body)||P(e.body)?e.body:JSON.stringify(e.body):void 0;var t,r}(e))}))}))})),R=_((function(e){return A(I(e,E.TOKEN),(function(t){return A(I(e,E.USERNAME),(function(r){return A(I(e,E.PASSWORD),(function(n){return A(I(e,E.HEADERS),(function(o){var i=new Headers(Object.assign(Object.assign({Accept:"application/json"},o),e.headers));if(O(t)&&i.append("Authorization","Bearer ".concat(t)),O(r)&&O(n)){var s=btoa("".concat(r,":").concat(n));i.append("Authorization","Basic ".concat(s))}return e.body&&(P(e.body)?i.append("Content-Type",e.body.type||"application/octet-stream"):S(e.body)?i.append("Content-Type","text/plain"):i.append("Content-Type","application/json")),i}))}))}))}))})),I=_((function(e,t){return"function"==typeof t?t(e):t}));function j(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r;return t=e,r=[{key:"beginMultipartUpload",value:function(e){try{return j(k({method:"POST",path:"/v1/files",body:e,errors:{401:"Unauthenticated."}}),(function(e){return e.body}))}catch(e){return Promise.reject(e)}}},{key:"completeUploadPart",value:function(e,t,r){try{return j(k({method:"PUT",path:"/v1/files/".concat(e,"/upload_parts/").concat(t),body:r,errors:{401:"Unauthenticated.",403:"Unauthorized.",404:"File or upload part not found."}}),(function(e){return e.body}))}catch(e){return Promise.reject(e)}}},{key:"getUploadPart",value:function(e,t){try{return j(k({method:"GET",path:"/v1/files/".concat(e,"/upload_parts/").concat(t),errors:{401:"Unauthenticated.",403:"Unauthorized.",404:"File or upload part not found."}}),(function(e){return e.body}))}catch(e){return Promise.reject(e)}}},{key:"getUploadParts",value:function(e){try{return j(k({method:"GET",path:"/v1/files/".concat(e,"/upload_parts"),errors:{401:"Unauthenticated.",403:"Unauthorized.",404:"File not found."}}),(function(e){return e.body}))}catch(e){return Promise.reject(e)}}}],r&&U(t,r),e}()}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(612)}()},2493:function(e){e.exports=function(){"use strict";var e={881:function(e,t,r){function n(e){var t,r,n,o=null!==(t=e.minDelayUntilFirstValue)&&void 0!==t?t:0,i=null!==(r=e.teardownTime)&&void 0!==r?r:0,s=e.valueIncreaseRatePerSecond,a=e.averageTimeBetweenValues,l=e.maxValue,c=e.valueIncreaseDelta,u=Date.now(),d=0,p=0;function h(e){return e.value===l}function f(e,t,r){var n=function(e,t){return 1-Math.exp(-(e-t)/(3.5*a))}(t,r);return n*e+(1-n)*p}function m(e){return t=null!=e?e:Date.now(),(r=void 0!==n?function(e,t){if(h(e)){var r=Math.max(1e3,i),n=(t-e.time)/r,o=(a=Math.min(1,n))*a,s=e.value-p;return p+s*o}var a;return f(e.value,t,u)}(n,t):function(e){var t=Math.min(c,.33*l),r=(e-u)/(o+t/s*1e3);return Math.min(1,r)*t}(t))>d&&(d=r),d;var t,r}return{setValue:function(e,t){if(void 0!==n){if(h(n))return;p=f(n.value,n.time,u),u=n.time}n={time:null!=t?t:Date.now(),value:Math.min(e,l)}},smoothedValue:m,smoothedFactor:function(e){return m(e)/l}}}r.r(t),r.d(t,{ProgressSmoother:function(){return n}})}},t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}return r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(881)}()},3502:function(e,t,r){e.exports=function(){"use strict";var e={805:function(e,t,n){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return l(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function l(e,t,r){return(l=c()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&u(o,r.prototype),o}).apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.r(t),n.d(t,{Upload:function(){return M},UploadError:function(){return T}});var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(a,e);var t,r,n,o=(t=a,r=c(),function(){var e,n=d(t);if(r){var o=d(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return i(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=o.call(this,e),Object.setPrototypeOf(s(t),a.prototype),t}return n=a,Object.defineProperty(n,"prototype",{writable:!1}),n}(a(Error)),h=r(5090);function f(){}function m(e,t,r){if(!e.s){if(r instanceof g){if(!r.s)return void(r.o=m.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(m.bind(null,e,t),m.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var g=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var i=1&o?t:r;if(i){try{m(n,1,i(this.v))}catch(e){m(n,2,e)}return n}return this}return this.o=function(e){try{var o=e.v;1&e.s?m(n,1,t?t(o):o):r?m(n,1,r(o)):m(n,2,o)}catch(e){m(n,2,e)}},n},e}();function y(e){return e instanceof g&&1&e.s}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b,w=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mutex=void 0,this.resolver=void 0}var t,r;return t=e,(r=[{key:"safe",value:function(e){try{var t=this;return r=t.acquire(),n=function(){return function(e,t){try{var r=e()}catch(e){return t(!0,e)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,r)}(e,(function(e,r){return t.release(),function(e,t){if(e)throw t;return t}(e,r)}))},r&&r.then||(r=Promise.resolve(r)),n?r.then(n):r}catch(e){return Promise.reject(e)}var r,n}},{key:"acquire",value:function(){try{var e=this;return t=function(e,t,r){for(var n;;){var o=e();if(y(o)&&(o=o.v),!o)return s;if(o.then){n=0;break}var i,s=r();if(s&&s.then){if(!y(s)){n=1;break}s=s.s}}var a=new g,l=m.bind(null,a,2);return(0===n?o.then(u):1===n?s.then(c):i.then(d)).then(void 0,l),a;function c(t){s=t;do{if(!(o=e())||y(o)&&!o.v)return void m(a,1,s);if(o.then)return void o.then(u).then(void 0,l);y(s=r())&&(s=s.v)}while(!s||!s.then);s.then(c).then(void 0,l)}function u(e){e?(s=r())&&s.then?s.then(c).then(void 0,l):c(s):m(a,1,s)}function d(){(o=e())?o.then?o.then(u).then(void 0,l):u(o):m(a,1,s)}}((function(){return void 0!==e.mutex}),0,(function(){return function(e,t){return e&&e.then?e.then(f):Promise.resolve()}(e.mutex)})),r=function(){e.mutex=new Promise((function(t){e.resolver=t}))},t&&t.then?t.then(r):r()}catch(e){return Promise.reject(e)}var t,r}},{key:"release",value:function(){if(void 0===this.resolver)throw new Error("Unable to release mutex: already released.");this.resolver(),this.resolver=void 0,this.mutex=void 0}}])&&v(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();!function(e){e.is=function(e){return void 0!==e.slice}}(b||(b={}));var E=r(2493);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function x(e){var t="function"==typeof Map?new Map:void 0;return(x=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,k(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),P(n,e)})(e)}function S(e,t,r){return(S=O()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&P(o,r.prototype),o}).apply(null,arguments)}function O(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(i,e);var t,r,n,o=(t=i,r=O(),function(){var e,n=k(t);if(r){var o=k(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return A(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e.error.message)).errorCode=e.error.code,t.details=e.error.details,t}return n=i,Object.defineProperty(n,"prototype",{writable:!1}),n}(x(Error));function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function I(){}function j(e,t){if(!t)return e&&e.then?e.then(I):Promise.resolve()}function U(e,t,r){return r?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function F(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function z(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function C(e,t,r){if(r)return t?t(e()):e();try{var n=Promise.resolve(e());return t?n.then(t):n}catch(e){return Promise.reject(e)}}function N(e,t){if(e)throw t;return t}function D(e,t){try{var r=e()}catch(e){return t(!0,e)}return r&&r.then?r.then(t.bind(null,!1),t.bind(null,!0)):t(!1,r)}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var M=function(){function e(t){var r,n,o,i,s,a,l,c,u;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.accountIdLength=7,this.specialApiKeyAccountId="W142hJk",this.specialApiKeys=["free","demo"],this.apiKeyPrefix="public_",this.maxUploadConcurrency=5,this.refreshBeforeExpirySeconds=20,this.onProgressInterval=100,this.retryAuthAfterErrorSeconds=5,this.accessTokenPathBase="/api/v1/access_tokens/",this.authMutex=new w,this.lastAuthSession=void 0,void 0===(null!=t?t:void 0))throw new Error("[upload-js] Please provide a configuration object to the constructor.");if(!0===t.debug&&console.log("[upload-js] Initialized with API key '".concat(t.apiKey,"'")),this.apiUrl=null!==(n=null===(r=t.internal)||void 0===r?void 0:r.apiUrl)&&void 0!==n?n:"https://api.upload.io",this.cdnUrl=null!==(i=null===(o=t.internal)||void 0===o?void 0:o.cdnUrl)&&void 0!==i?i:"https://upcdn.io",this.authenticateWithApiKey=null===(a=null===(s=t.internal)||void 0===s?void 0:s.authenticateWithApiKey)||void 0===a||a,this.headers=null===(l=t.internal)||void 0===l?void 0:l.headers,this.debugMode=!0===t.debug,void 0===(null!==(c=t.apiKey)&&void 0!==c?c:void 0))throw new Error("[upload-js] Please provide an API key via the 'apiKey' config parameter.");if(t.apiKey.trim()!==t.apiKey)throw new Error("[upload-js] Please enter a valid API key: whitespace was detected in your API key, please remove it and try again.");if(!1===(null===(u=t.internal)||void 0===u?void 0:u.authenticateWithApiKey))this.accountId=t.internal.accountId;else if(this.specialApiKeys.includes(t.apiKey))this.accountId=this.specialApiKeyAccountId;else{if(!t.apiKey.startsWith(this.apiKeyPrefix))throw new Error('[upload-js] Please enter a valid API key: it must begin with "'.concat(this.apiKeyPrefix,'".'));if(this.accountId=t.apiKey.substr(this.apiKeyPrefix.length,this.accountIdLength),this.accountId.length!==this.accountIdLength)throw new Error("[upload-js] Please enter a valid API key: it must be at least ".concat(this.apiKeyPrefix.length+this.accountIdLength," characters long, but the API key you provided is ").concat(this.apiKeyPrefix.length+this.accountId.length,"."))}}var t,r;return t=e,(r=[{key:"beginAuthSession",value:function(e,t){try{var r=this;return U(r.endAuthSession(),(function(){var n={accessToken:void 0,accessTokenRefreshHandle:void 0,isActive:!0};return r.lastAuthSession=n,j(r.refreshAccessToken(e,t,n))}))}catch(e){return Promise.reject(e)}}},{key:"endAuthSession",value:function(){try{var e=this;return j(e.authMutex.safe(F((function(){if(void 0!==e.lastAuthSession){var t=e.lastAuthSession;return e.lastAuthSession=void 0,void 0!==t.accessTokenRefreshHandle&&clearTimeout(t.accessTokenRefreshHandle),t.isActive=!1,j(e.deleteAccessToken())}}))))}catch(e){return Promise.reject(e)}}},{key:"createFileInputHandler",value:function(e){var t=this;return function(r){var n=r.target;if(void 0===n.files||null===n.files)throw new Error("No property 'files' on input element: ensure 'createFileInputHandler' is set to the 'onchange' attribute on an input of type 'file'.");if(void 0===n.files[0])throw new Error("No file selected.");t.uploadFile(Object.assign(Object.assign({},e),{file:n.files[0]})).then(e.onUploaded,(function(t){void 0!==e.onError?e.onError(t):console.error("Cannot upload file. To remove this console message, handle the error explicitly by providing an 'onError' parameter: upload.createFileInputHandler({onUploaded, onError})",t)}))}}},{key:"uploadFile",value:function(e){try{var t,r=this,n=[],o=function(e){n.push(e)},i=function(){return n.forEach((function(e){return e()}))},s=b.is(e)?{file:e}:e;return void 0!==s.onBegin&&s.onBegin({cancel:i}),z((function(){return U(r.beginFileUpload(s.file,s,o))}),(function(e){if(i(),e instanceof h.ApiError){var r=e.body;if("string"==typeof(null===(t=null==r?void 0:r.error)||void 0===t?void 0:t.code))throw new T(r)}throw e}))}catch(e){return Promise.reject(e)}}},{key:"url",value:function(e,t){var r="".concat(this.cdnUrl,"/").concat(e);return void 0===t?r:"".concat(r,"/").concat(t)}},{key:"withProgressReporting",value:function(e,t,r){try{var n,o=new Promise((function(e){n=e})),i=!0,s=function(){i&&(n(),clearInterval(a),i=!1)},a=setInterval((function(){return t(s)}),e);return D((function(){return C(r,(function(e){return U(o,(function(){return e}))}))}),(function(e,t){return s(),N(e,t)}))}catch(e){return Promise.reject(e)}}},{key:"beginFileUpload",value:function(e,t,r){try{var n=this,o=(0,E.ProgressSmoother)({maxValue:e.size,teardownTime:1e3,minDelayUntilFirstValue:2e3,valueIncreaseDelta:204800,valueIncreaseRatePerSecond:51200,averageTimeBetweenValues:1e3});return U(n.withProgressReporting(n.onProgressInterval,(function(r){if(void 0===t.onProgress)r();else{var n=o.smoothedValue(),i=e.size;n===i&&r(),t.onProgress({bytesSent:n,bytesTotal:i,progress:Math.round(n/i*100)})}}),F((function(){var i,s={accountId:n.accountId,fileSize:e.size,fileName:e.name,mime:n.normalizeMimeType(e.type),tags:(null!==(i=t.tags)&&void 0!==i?i:[]).map((function(e){return"string"==typeof e?{name:e,searchable:!0}:e}))};return n.debug("Initiating file upload. Params = ".concat(JSON.stringify(s))),n.preflight(),U(h.FilesService.beginMultipartUpload(s),(function(t){var i=t.uploadParts.count>1;n.debug("Initiated file upload. Metadata = ".concat(JSON.stringify(t)));var a,l,c=(a=0,function(){if(a!==t.uploadParts.count-1)return++a}),u=[t.uploadParts.first],d=F((function(e){var r=u.pop();if(void 0!==r)return n.debug("Dequeued part ".concat(r.uploadPartIndex,"."),e),r;var o=c();if(void 0!==o)return n.preflight(),n.debug("Fetching metadata for part ".concat(o,"."),e),h.FilesService.getUploadPart(t.file.fileId,o);n.debug("No parts remaining.",e)})),p=[],f=function s(a){return U(d(a),(function(l){return function(c){var u=function(){if(void 0!==l){var c=0;return U(n.uploadPart(e,t.file,i,l,(function(e){var t=e.bytesSent;void 0===p[a]?p[a]=t:(p[a]-=c,p[a]+=t),c=t;var r=p.reduce((function(e,t){return e+t}));o.setValue(r)}),r,a),(function(){return j(s(a))}))}}();if(u&&u.then)return u.then(I)}()}))};return U(Promise.all((l=Array(n.maxUploadConcurrency).keys(),function(e){if(Array.isArray(e))return R(e)}(l)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(l)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(l)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return U(f(e))}))),(function(){var r={accountId:s.accountId,file:e,fileId:t.file.fileId,fileSize:t.file.size,fileUrl:n.url(t.file.fileId),tags:t.file.tags,mime:t.file.mime,suggestedOptimization:void 0===t.suggestedOptimizationUrlSlug?void 0:{transformationSlug:t.suggestedOptimizationUrlSlug,transformationUrl:n.url(t.file.fileId,t.suggestedOptimizationUrlSlug)}};return n.debug("FileLike upload completed. FileLike = ".concat(JSON.stringify(r))),r}))}))}))))}catch(e){return Promise.reject(e)}}},{key:"debug",value:function(e,t){this.debugMode&&console.log("[upload-js] ".concat(e).concat(void 0!==t?" (Worker ".concat(t,")"):""))}},{key:"error",value:function(e){console.error("[upload-js] ".concat(e))}},{key:"normalizeMimeType",value:function(e){var t=e.toLowerCase();return/^[a-z0-9]+\/[a-z0-9+\-._]+$/.test(t)?t:void 0}},{key:"preflight",value:function(){var e,t=this;h.OpenAPI.BASE=this.apiUrl,this.authenticateWithApiKey?(h.OpenAPI.WITH_CREDENTIALS=!0,h.OpenAPI.USERNAME="apikey",h.OpenAPI.PASSWORD=this.config.apiKey):(h.OpenAPI.WITH_CREDENTIALS=!1,delete h.OpenAPI.USERNAME,delete h.OpenAPI.PASSWORD);var r=this.headers,n=null===(e=this.lastAuthSession)||void 0===e?void 0:e.accessToken;void 0!==r||void 0!==n?h.OpenAPI.HEADERS=F((function(){var e;return U(void 0===r?{}:r(),(function(r){var n=null===(e=t.lastAuthSession)||void 0===e?void 0:e.accessToken;return Object.assign(Object.assign({},r),void 0===n?{}:{"authorization-user":n})}),void 0===r)})):delete h.OpenAPI.HEADERS}},{key:"preflightExternalApi",value:function(e,t){h.OpenAPI.BASE=e,h.OpenAPI.WITH_CREDENTIALS=t,delete h.OpenAPI.USERNAME,delete h.OpenAPI.PASSWORD,delete h.OpenAPI.HEADERS}},{key:"putUploadPart",value:function(e,t,r,n,o,i){try{var s=new XMLHttpRequest,a=!0;return i((function(){a&&s.abort()})),D((function(){return U(new Promise((function(i,a){s.upload.addEventListener("progress",(function(e){e.lengthComputable&&o({bytesSent:e.loaded,bytesTotal:e.total})}),!1),s.addEventListener("load",(function(){if(o({bytesSent:n.size,bytesTotal:n.size}),2===Math.floor(s.status/100)){var e=s.getResponseHeader("etag");null==e?a(new Error("FileLike upload error: no etag header in upload response.")):i({etag:e})}else a(new Error("FileLike upload error: status code ".concat(s.status)))})),s.onabort=function(){return a(new p("FileLike upload cancelled."))},s.onerror=function(){return a(new Error("FileLike upload error."))},s.ontimeout=function(){return a(new Error("FileLike upload timeout."))},s.open("PUT",e),r||(s.setRequestHeader("content-type",t.mime),null!==t.name&&s.setRequestHeader("content-disposition",'inline; filename="'.concat(encodeURIComponent(t.name),"\"; filename*=UTF-8''").concat(encodeURIComponent(t.name)))),s.send(n)})))}),(function(e,t){return a=!1,N(e,t)}))}catch(e){return Promise.reject(e)}}},{key:"uploadPart",value:function(e,t,r,n,o,i,s){try{var a=this,l=-1===n.range.inclusiveEnd?new Blob:e.slice(n.range.inclusiveStart,n.range.inclusiveEnd+1);return a.debug("Uploading part ".concat(n.uploadPartIndex,"."),s),U(a.putUploadPart(n.uploadUrl,t,r,l,o,i),(function(e){var t=e.etag;return a.preflight(),U(h.FilesService.completeUploadPart(n.fileId,n.uploadPartIndex,{etag:t}),(function(){a.debug("Uploaded part ".concat(n.uploadPartIndex,"."),s)}))}))}catch(e){return Promise.reject(e)}}},{key:"accessTokenPath",value:function(){return"".concat(this.cdnUrl).concat(this.accessTokenPathBase).concat(this.accountId)}},{key:"deleteAccessToken",value:function(){try{return j(this.deleteNoResponse(this.accessTokenPath(),{},!0))}catch(e){return Promise.reject(e)}}},{key:"refreshAccessToken",value:function(e,t,r){try{var n=this;return function(e){if(e&&e.then)return e.then(I)}(z((function(){return j(n.authMutex.safe(F((function(){if(r.isActive){var o=n.getText;return C(t,(function(i){return U(o.call(n,e,i),(function(o){var i=n.handleApiError;return U(n.putJsonGetJson(n.accessTokenPath(),{},{accessToken:o},!0),(function(o){var s=i.call(n,o);r.accessToken=s.accessToken,r.accessTokenRefreshHandle=window.setTimeout((function(){n.refreshAccessToken(e,t,r).then((function(){}),(function(e){return n.error("Permanent error when refreshing access token: ".concat(e))}))}),Math.max(0,1e3*(s.ttlSeconds-n.refreshBeforeExpirySeconds)))}))}))}))}}))))}),(function(o){return n.debug("Error when refreshing access token: ".concat(o)),U(new Promise((function(e){return setTimeout(e,1e3*n.retryAuthAfterErrorSeconds)})),(function(){return j(n.refreshAccessToken(e,t,r))}))})))}catch(e){return Promise.reject(e)}}},{key:"putJsonGetJson",value:function(e,t,r,n){try{return U(this.nonUploadApiRequest({method:"PUT",path:e,headers:t,body:r},n),(function(e){return e.body}))}catch(e){return Promise.reject(e)}}},{key:"getText",value:function(e,t){try{return U(this.nonUploadApiRequest({method:"GET",path:e,headers:t},!1),(function(e){return e.body}))}catch(e){return Promise.reject(e)}}},{key:"deleteNoResponse",value:function(e,t,r){try{return j(this.nonUploadApiRequest({method:"DELETE",path:e,headers:t},r))}catch(e){return Promise.reject(e)}}},{key:"handleApiError",value:function(e){var t=e;if(void 0!==t.error)throw new Error("[upload-js] ".concat(t.error.message,". (Code: ").concat(t.error.code,")"));return e}},{key:"nonUploadApiRequest",value:function(e,t){try{return this.preflightExternalApi(e.path,t),U((0,h.request)(Object.assign(Object.assign({},e),{path:""})))}catch(e){return Promise.reject(e)}}}])&&L(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()}},t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}return n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(805)}()},5820:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(6252);const o={class:"h-screen flex px-3 overflow-scroll"};function i(e,t){return(0,n.wg)(),(0,n.iD)("div",o,[(0,n.WI)(e.$slots,"default")])}var s=r(3744);const a={},l=(0,s.Z)(a,[["render",i]]);var c=l},5083:function(e,t,r){"use strict";r.d(t,{Z:function(){return me}});var n=r(6252),o=r(9963);const i={class:"section"};function s(e,t,r,s,a,l){const c=(0,n.up)("AppLoader"),u=(0,n.up)("FormIntro"),d=(0,n.up)("FormField"),p=(0,n.up)("full-page");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.wy)((0,n.Wm)(c,null,null,512),[[o.F8,a.processing]]),a.ready?(0,n.wy)(((0,n.wg)(),(0,n.j4)(p,{key:0,ref:"fullpage",options:a.options,class:"pr-16"},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(u,{name:a.name,description:a.description,onReady:l.next},null,8,["name","description","onReady"])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.fields,((e,t)=>((0,n.wg)(),(0,n.iD)("div",{key:t,class:"section"},[(0,n.Wm)(d,{field:e,onReady:l.next,index:t,modelValue:a.form[e.id],"onUpdate:modelValue":t=>a.form[e.id]=t},null,8,["field","onReady","index","modelValue","onUpdate:modelValue"])])))),128))])),_:1},8,["options"])),[[o.F8,!a.processing]]):(0,n.kq)("",!0)],64)}var a=r(9669),l=r.n(a);const c={class:"grid grid-cols-12 px-3 mr-5 sm:mr-24"};function u(e,t,r,o,i,s){const a=(0,n.up)("InputChoice"),l=(0,n.up)("InputUpload"),u=(0,n.up)("InputText");return(0,n.wg)(),(0,n.iD)("div",c,[s.isChoice(r.field)?((0,n.wg)(),(0,n.j4)(a,{key:0,class:"app-frame",count:r.index+1,title:r.field.name,choices:r.field.validations[0].in,required:!0,onUpdate:s.updateValue,onReady:t[0]||(t[0]=t=>e.$emit("ready"))},null,8,["count","title","choices","onUpdate"])):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},["idScan"==r.field.id||"corporateDocuments"==r.field.id||"recentIncomeDocumentation"==r.field.id||"previousIncomeDocumentation"==r.field.id?((0,n.wg)(),(0,n.j4)(l,{key:0,class:"app-frame",count:r.index+1,title:r.field.name,required:!0,onUpdate:s.updateValue,onReady:t[1]||(t[1]=t=>e.$emit("ready"))},null,8,["count","title","onUpdate"])):((0,n.wg)(),(0,n.j4)(u,{key:1,class:"app-frame",count:r.index+1,title:r.field.name,required:!0,onUpdate:s.updateValue,onReady:t[2]||(t[2]=t=>e.$emit("ready"))},null,8,["count","title","onUpdate"]))],64))])}var d=r(3577);function p(e,t,r,i,s,a){const l=(0,n.up)("FormLabel"),c=(0,n.up)("FormButtonOk");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(l,{count:r.count,required:r.required},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(r.title),1)])),_:1},8,["count","required"]),(0,n.wy)((0,n._)("input",{type:"text",class:"font-haffer text-xl sm:ml-0 bg-transparent block border-b border-black w-full text-black py-3 outline-none placeholder-opb",placeholder:"...",required:"","onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),onInput:t[1]||(t[1]=t=>e.$emit("update",s.value)),onKeyup:t[2]||(t[2]=(0,o.D2)((t=>e.$emit("ready")),["enter"])),autocomplete:"off"},null,544),[[o.nr,s.value]]),(0,n.Wm)(c,{onReady:t[3]||(t[3]=t=>e.$emit("ready"))})])}const h={class:"block mb-4 flex items-center sm:-ml-10 font-haffer font-bold"},f={class:"text-sm"},m=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M13 7l5 5m0 0l-5 5m5-5H6"})],-1);function g(e,t,r,o,i,s){return(0,n.wg)(),(0,n.iD)("label",h,[(0,n._)("span",f,(0,d.zw)(r.count),1),m,(0,n.WI)(e.$slots,"default")])}var y={props:["count","required"]},v=r(3744);const b=(0,v.Z)(y,[["render",g]]);var w=b;const E={class:"flex mt-4 items-center sm:ml-0"},_=(0,n.Uk)(" Ok "),A=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,n._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})],-1),x=(0,n._)("span",{class:"text-xs ml-4 font-haffer"},[(0,n.Uk)("Press "),(0,n._)("span",{class:"font-haffer font-bold"},"Enter â†µ")],-1);function S(e,t,r,o,i,s){const a=(0,n.up)("AppButton");return(0,n.wg)(),(0,n.iD)("div",E,[(0,n.Wm)(a,{onClick:t[0]||(t[0]=t=>e.$emit("ready")),class:"flex items-center"},{default:(0,n.w5)((()=>[_,A])),_:1}),x])}var O=r(7175),P={components:{AppButton:O.Z}};const k=(0,v.Z)(P,[["render",S]]);var T=k,R={components:{FormLabel:w,FormButtonOk:T},props:["count","title","required","placeholder"],emits:["ready"],data(){return{value:""}}};const I=(0,v.Z)(R,[["render",p]]);var j=I;const U={class:"grid grid-cols-12 gap-2 sm:ml-0 font-haffer"},F=["onClick"],z={class:"w-6 h-6 flex items-center justify-center"},C={class:"text-left text-sm sm:text-md"};function N(e,t,r,o,i,s){const a=(0,n.up)("FormLabel"),l=(0,n.up)("FormButtonOk");return(0,n.wg)(),(0,n.iD)("div",null,[(0,n.Wm)(a,{count:r.count,required:r.required},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(r.title),1)])),_:1},8,["count","required"]),(0,n._)("div",U,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.choices,((t,o)=>((0,n.wg)(),(0,n.iD)("button",{class:(0,d.C_)([{"ring-1 ring-black":i.selectedIndex==o},"group flex col-span-12 items-center justify-start p-2 border border-black rounded hover:ring-1 ring-black"]),key:o,onClick:t=>{i.selectedIndex=o,e.$emit("update",r.choices[i.selectedIndex]),e.$emit("ready")}},[(0,n._)("span",{class:(0,d.C_)([{"bg-black text-white":i.selectedIndex==o,"bg-white text-black ":i.selectedIndex!=o},"flex border border-black rounded items-center justify-center text-xs sm:text-sm mr-2"])},[(0,n._)("span",z,(0,d.zw)(s.getSymbol(o)),1)],2),(0,n._)("span",C,(0,d.zw)(t),1)],10,F)))),128))]),(0,n.Wm)(l,{onReady:t[0]||(t[0]=t=>e.$emit("ready"))})])}var D={components:{FormLabel:w,FormButtonOk:T},props:["count","title","required","choices"],emits:["ready"],data(){return{selectedIndex:null}},methods:{getSymbol(e){var t=["A","B","C"];return t[e]}}};const L=(0,v.Z)(D,[["render",N]]);var M=L;const B={class:""},$={class:"ml-10 sm:ml-0 font-haffer"};function G(e,t,r,i,s,a){const l=(0,n.up)("FormLabel"),c=(0,n.up)("FormButtonOk");return(0,n.wg)(),(0,n.iD)("div",B,[(0,n.Wm)(l,{count:r.count,required:r.required},{default:(0,n.w5)((()=>[(0,n.Uk)((0,d.zw)(r.title),1)])),_:1},8,["count","required"]),(0,n.wy)((0,n._)("input",{type:"file",ref:"file",onChange:t[0]||(t[0]=(...e)=>a.execute&&a.execute(...e)),class:"sm:ml-0 font-haffer"},null,544),[[o.F8,!s.progress]]),(0,n.wy)((0,n._)("div",{class:"bg-black h-4 ml-10 sm:ml-0",style:(0,d.j5)({width:s.progress+"%"})},null,4),[[o.F8,s.progress]]),(0,n.wy)((0,n._)("span",$,[(0,n.Uk)((0,d.zw)(s.progress)+"% ",1),(0,n.wy)((0,n._)("span",null,"Uploading...",512),[[o.F8,100!=s.progress]]),(0,n.wy)((0,n._)("span",null,"Complete!",512),[[o.F8,100==s.progress]])],512),[[o.F8,0!=s.progress]]),(0,n.Wm)(c,{onReady:t[1]||(t[1]=t=>e.$emit("ready"))})])}var V=r(3502),q={components:{FormLabel:w,FormButtonOk:T},props:["count","title","required"],emits:["ready"],data(){return{upload:{},progress:0}},methods:{async execute(){console.log("Begin upload!"),this.uploading=!0;var e=this.$refs.file.files[0];const{fileUrl:t,fileId:r}=await this.upload.uploadFile({file:e,onProgress:({bytesSent:e,bytesTotal:t})=>{console.log(`${Math.round(e/t*100)}% complete`),this.progress=Math.round(e/t*100)}});console.log(t,r),this.$emit("update",t),this.$emit("ready")}},mounted(){this.upload=new V.Upload({apiKey:"public_12a1xmB3sgHFxd1HZqjm5Kh2y1zd"})}};const H=(0,v.Z)(q,[["render",G]]);var W=H,Y={components:{InputText:j,InputChoice:M,InputUpload:W},props:["modelValue","field","index"],methods:{isChoice(e){return console.log(e),e.validations.length&&"in"in e.validations[0]},updateValue(e){this.$emit("update:modelValue",e)}}};const K=(0,v.Z)(Y,[["render",u]]);var Z=K;const J={class:"grid grid-cols-12 px-3"},X={class:"app-frame"},Q={class:"sm:ml-0"},ee={class:"app-text mb-2 font-haffer font-bold"},te={class:"font-haffer"};function re(e,t,r,o,i,s){const a=(0,n.up)("FormButtonBegin");return(0,n.wg)(),(0,n.iD)("div",J,[(0,n._)("div",X,[(0,n._)("div",Q,[(0,n._)("p",ee,(0,d.zw)(r.name),1),(0,n._)("p",te,(0,d.zw)(r.description),1),(0,n.Wm)(a,{onReady:t[0]||(t[0]=t=>e.$emit("ready"))})])])])}const ne={class:"flex mt-4 items-center"},oe=(0,n.Uk)(" Begin ");function ie(e,t,r,o,i,s){const a=(0,n.up)("AppButton");return(0,n.wg)(),(0,n.iD)("div",ne,[(0,n.Wm)(a,{onClick:t[0]||(t[0]=t=>e.$emit("ready")),class:"flex items-center"},{default:(0,n.w5)((()=>[oe])),_:1})])}var se={components:{AppButton:O.Z}};const ae=(0,v.Z)(se,[["render",ie]]);var le=ae,ce={components:{FormButtonBegin:le},props:["name","description"]};const ue=(0,v.Z)(ce,[["render",re]]);var de=ue,pe=r(1245),he={components:{FormField:Z,AppLoader:pe.Z,FormIntro:de},props:["url"],emits:["success","ready"],data(){return{name:"",description:"",ready:!1,processing:!0,btnTxt:"Submit",fields:[],form:{},sending:!1,options:{licenseKey:"K9EP6-N164H-2BKM8-MJLGI-KSURM",controlArrows:!0,scrollBar:!1,scrollingSpeed:500,navigation:!0,navigationPosition:"right"}}},methods:{async next(){await this.validate()?this.submitForm():console.log("next")},async validate(){console.log("validate form!");var e=0,t=!1;for(let r of this.fields){if(""==this.form[r.id]&&(t=!0),[r.id]in this.form||(t=!0),t){this.$refs.fullpage.api.moveTo(e+2);break}e++}return console.log("error is",t),!t},async submitForm(){this.processing=!0,console.log("Ran Submit!");try{const e=await l().post(this.url,this.form);e.data.result?(console.log("success",e.data),this.$emit("success"),this.$store.dispatch("connect")):(alert("Error, Please try again."),this.processing=!1,console.log("error",e.data))}catch(e){this.processing=!1,console.log("error",e)}},async resize(){this.$refs.fullpage.api.reBuild()}},mounted(){console.log("mounted!")},beforeUnmount(){window.removeEventListener("resize",this.resize)},async beforeMount(){try{const e=await l().get(this.url);console.log("form",e.data),this.name=e.data.name,this.description=e.data.description,this.fields=e.data.fields.filter((function(e){var t=["votes","kycApproved","units","onboardProposal"];return!t.includes(e.id)})),this.$emit("ready"),this.ready=!0,this.processing=!1,window.addEventListener("resize",this.resize)}catch(e){console.log("error",e)}}};const fe=(0,v.Z)(he,[["render",s]]);var me=fe},1245:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(6252);const o=e=>((0,n.dD)("data-v-b2ab75de"),e=e(),(0,n.Cn)(),e),i={class:"min-h-screen flex items-center justify-center"},s=o((()=>(0,n._)("span",{class:"loader"},null,-1))),a=[s];function l(e,t){return(0,n.wg)(),(0,n.iD)("div",i,a)}var c=r(3744);const u={},d=(0,c.Z)(u,[["render",l],["__scopeId","data-v-b2ab75de"]]);var p=d},5869:function(e,t,r){"use strict";r.d(t,{Z:function(){return _r}});var n=r(6252),o=r(3577);const i={key:0},s={key:1};function a(e,t,r,a,l,c){const u=(0,n.up)("AppLoader"),d=(0,n.up)("AppFooter"),p=(0,n.up)("WalletConnect"),h=(0,n.up)("AppJoin");return(0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(c.salonClass)},[c.check?((0,n.wg)(),(0,n.iD)("div",i,[c.ready?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(u,{key:0})),c.ready?(0,n.WI)(e.$slots,"default",{key:1}):(0,n.kq)("",!0),(0,n.Wm)(d,{colors:r.colors},null,8,["colors"])])):(0,n.kq)("",!0),c.check?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",s,[this.walletAddress?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(p,{key:0})),this.walletAddress?((0,n.wg)(),(0,n.j4)(h,{key:1})):(0,n.kq)("",!0),(0,n.Wm)(d,{colors:r.colors},null,8,["colors"])]))],2)}var l=r(9963);const c=(0,n._)("div",{class:"grid grid-cols-10"},[(0,n._)("div",{class:"col-start-7 col-span-4 sm:col-start-8 sm:col-span-3 lg:col-start-9 lg:col-span-2"},[(0,n._)("a",{href:"/#/"},[(0,n._)("img",{src:"Salon_Logotype_RGB_3D.jpg"})])])],-1),u=[c];function d(e,t,r,i,s,a){return(0,n.wy)(((0,n.wg)(),(0,n.iD)("div",{class:(0,o.C_)(["fixed overflow-hidden left-0 right-0 bottom-0 p-3 z-10",{["bg-"+r.colors[0]]:!0}])},u,2)),[[l.F8,a.ui]])}var p={props:["colors"],components:{},computed:{ui(){return this.$store.state.ui}}},h=r(3744);const f=(0,h.Z)(p,[["render",d]]);var m=f,g=r(1245);const y={key:0},v=(0,n._)("h1",{class:"app-text text-center font-haffer"}," Your application is under review. ",-1);function b(e,t,r,o,i,s){const a=(0,n.up)("AppForm"),l=(0,n.up)("AppContent"),c=(0,n.up)("FormApply"),u=(0,n.up)("FormProposal");return s.ready?((0,n.wg)(),(0,n.iD)("div",y,[s.isNew?((0,n.wg)(),(0,n.j4)(a,{key:0,url:"https://salontest-terrifickid.cloud.okteto.net/form/members"})):(0,n.kq)("",!0),s.isKycApproved||s.isNew?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(l,{key:1,class:"items-center justify-center"},{default:(0,n.w5)((()=>[v])),_:1})),s.isKycApproved&&!s.isApplied?((0,n.wg)(),(0,n.j4)(c,{key:2})):(0,n.kq)("",!0),s.isApplied&&!s.isMember?((0,n.wg)(),(0,n.j4)(u,{key:3,id:s.profile.onboardProposal.sys.id},null,8,["id"])):(0,n.kq)("",!0)])):(0,n.kq)("",!0)}var w=r(5820),E=r(5083);const _={class:"grid grid-cols-12"},A={class:"col-span-12 sm:col-span-10 sm:col-start-2 lg:col-span-8 lg:col-start-3"},x=(0,n._)("label",{class:"block text-3xl md:text-4xl mb-4 flex items-center -ml-10 justify-center"},[(0,n._)("span",{class:"text-sm mr-1"},"1"),(0,n._)("svg",{height:"10",width:"11",class:"mr-4"},[(0,n._)("path",{d:"M7.586 5L4.293 1.707 5.707.293 10.414 5 5.707 9.707 4.293 8.293z"}),(0,n._)("path",{d:"M8 4v2H0V4z"})]),(0,n.Uk)("Become a Member *")],-1),S=(0,n._)("span",{class:"block text-lg lg:text-xl font-light opacity-75 mb-4"},"The amount sent will be held in escrow pending a member vote. If the proposal passes, the funds will be sent to the DAO. If the proposal fails, the funds will be refunded to you.",-1),O={class:"grid grid-cols-12 gap-6"},P={class:"col-span-12 sm:col-span-6"},k=(0,n._)("span",{class:"block text-xs md:text-base mt-3 lg:text-md font-light opacity-75 mb-4"},"This is the amount of USDC tokens you are putting into escrow pending a governance vote for membership.",-1),T={class:"col-span-12 sm:col-span-6"},R=(0,n._)("span",{class:"block mt-3 text-xs md:text-base lg:text-md font-light opacity-75 mb-4"},"This is the amount of DAO membership units you are requesting to be authorized in exchange.",-1),I=["disabled"];function j(e,t,r,i,s,a){const c=(0,n.up)("AppContent");return(0,n.wg)(),(0,n.j4)(c,{class:"items-center justify-center"},{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n._)("div",A,[(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,l.iM)(((...e)=>a.createProposal&&a.createProposal(...e)),["prevent"])),class:"w-full"},[x,S,(0,n._)("div",O,[(0,n._)("div",P,[(0,n.wy)((0,n._)("input",{type:"number",class:"text-3xl bg-transparent block border-b border-black w-full text-black py-3 outline-none placeholder-black font-light",placeholder:"$0.00","onUpdate:modelValue":t[0]||(t[0]=e=>s.usdcAmount=e),required:""},null,512),[[l.nr,s.usdcAmount]]),k]),(0,n._)("div",T,[(0,n.wy)((0,n._)("input",{type:"number",class:"text-3xl bg-transparent block border-b border-black w-full text-black py-3 outline-none placeholder-black font-light",placeholder:"S0",required:"","onUpdate:modelValue":t[1]||(t[1]=e=>s.sAmount=e)},null,512),[[l.nr,s.sAmount]]),R])]),(0,n._)("button",{type:"submit",disabled:s.processing,class:"mx-auto mt-6 bg-black text-canary rounded px-4 py-3 text-xl shadow-sm op flex items-center w-64 justify-center"},(0,o.zw)(s.btnTxt),9,I)],32)])])])),_:1})}var U=r(9669),F=r.n(U),z=r(6441),C=r(2593),N=r(6881),D=r(1581);const L="abi/5.6.3",M=new D.Yd(L);function B(e){const t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){const s=e.slice();s.push(i);try{r(s,n[i])}catch(o){t.push({path:s,error:o})}}};return r([],e),t}class ${constructor(e,t,r,n){this.name=e,this.type=t,this.localName=r,this.dynamic=n}_throwError(e,t){M.throwArgumentError(e,this.localName,t)}}class G{constructor(e){(0,N.zG)(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return(0,z.xs)(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData((0,z.zo)(e._data))}writeBytes(e){let t=(0,z.lE)(e);const r=t.length%this.wordSize;return r&&(t=(0,z.zo)([t,this._padding.slice(r)])),this._writeData(t)}_getValue(e){let t=(0,z.lE)(C.O$.from(e));return t.length>this.wordSize&&M.throwError("value out-of-bounds",D.Yd.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=(0,z.zo)([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class V{constructor(e,t,r,n){(0,N.zG)(this,"_data",(0,z.lE)(e)),(0,N.zG)(this,"wordSize",t||32),(0,N.zG)(this,"_coerceFunc",r),(0,N.zG)(this,"allowLoose",n),this._offset=0}get data(){return(0,z.Dv)(this._data)}get consumed(){return this._offset}static coerce(e,t){let r=e.match("^u?int([0-9]+)$");return r&&parseInt(r[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):V.coerce(e,t)}_peekBytes(e,t,r){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&r&&this._offset+t<=this._data.length?n=t:M.throwError("data out-of-bounds",D.Yd.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new V(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let r=this._peekBytes(0,e,!!t);return this._offset+=r.length,r.slice(0,e)}readValue(){return C.O$.from(this.readBytes(this.wordSize))}}var q=r(9485),H=r(2046),W=r(8197);class Y extends ${constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=(0,q.Kn)(t)}catch(r){this._throwError(r.message,t)}return e.writeValue(t)}decode(e){return(0,q.Kn)((0,z.$m)(e.readValue().toHexString(),20))}}class K extends ${constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const Z=new D.Yd(L);function J(e,t,r){let n=null;if(Array.isArray(r))n=r;else if(r&&"object"===typeof r){let e={};n=t.map((t=>{const n=t.localName;return n||Z.throwError("cannot encode object for signature with missing names",D.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]&&Z.throwError("cannot encode object for signature with duplicate names",D.Yd.errors.INVALID_ARGUMENT,{argument:"values",coder:t,value:r}),e[n]=!0,r[n]}))}else Z.throwArgumentError("invalid tuple value","tuple",r);t.length!==n.length&&Z.throwArgumentError("types/value length mismatch","tuple",r);let o=new G(e.wordSize),i=new G(e.wordSize),s=[];t.forEach(((e,t)=>{let r=n[t];if(e.dynamic){let t=i.length;e.encode(i,r);let n=o.writeUpdatableValue();s.push((e=>{n(e+t)}))}else e.encode(o,r)})),s.forEach((e=>{e(o.length)}));let a=e.appendWriter(o);return a+=e.appendWriter(i),a}function X(e,t){let r=[],n=e.subReader(0);t.forEach((t=>{let o=null;if(t.dynamic){let r=e.readValue(),s=n.subReader(r.toNumber());try{o=t.decode(s)}catch(i){if(i.code===D.Yd.errors.BUFFER_OVERRUN)throw i;o=i,o.baseType=t.name,o.name=t.localName,o.type=t.type}}else try{o=t.decode(e)}catch(i){if(i.code===D.Yd.errors.BUFFER_OVERRUN)throw i;o=i,o.baseType=t.name,o.name=t.localName,o.type=t.type}void 0!=o&&r.push(o)}));const o=t.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});t.forEach(((e,t)=>{let n=e.localName;if(!n||1!==o[n])return;if("length"===n&&(n="_length"),null!=r[n])return;const i=r[t];i instanceof Error?Object.defineProperty(r,n,{enumerable:!0,get:()=>{throw i}}):r[n]=i}));for(let i=0;i<r.length;i++){const e=r[i];e instanceof Error&&Object.defineProperty(r,i,{enumerable:!0,get:()=>{throw e}})}return Object.freeze(r)}class Q extends ${constructor(e,t,r){const n=e.type+"["+(t>=0?t:"")+"]",o=-1===t||e.dynamic;super("array",n,r,o),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let r=this.length;-1===r&&(r=t.length,e.writeValue(t.length)),Z.checkArgumentCount(t.length,r,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let o=0;o<t.length;o++)n.push(this.coder);return J(e,n,t)}decode(e){let t=this.length;-1===t&&(t=e.readValue().toNumber(),32*t>e._data.length&&Z.throwError("insufficient data length",D.Yd.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let r=[];for(let n=0;n<t;n++)r.push(new K(this.coder));return e.coerce(this.name,X(e,r))}}class ee extends ${constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class te extends ${constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=(0,z.lE)(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class re extends te{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,(0,z.Dv)(super.decode(e)))}}class ne extends ${constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=(0,z.lE)(t);return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return e.coerce(this.name,(0,z.Dv)(e.readBytes(this.size)))}}class oe extends ${constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}var ie=r(1046);class se extends ${constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let r=C.O$.from(t),n=ie.Bz.mask(8*e.wordSize);if(this.signed){let e=n.mask(8*this.size-1);(r.gt(e)||r.lt(e.add(ie.fh).mul(ie.tL)))&&this._throwError("value out-of-bounds",t)}else(r.lt(ie._Y)||r.gt(n.mask(8*this.size)))&&this._throwError("value out-of-bounds",t);return r=r.toTwos(8*this.size).mask(8*this.size),this.signed&&(r=r.fromTwos(8*this.size).toTwos(8*e.wordSize)),e.writeValue(r)}decode(e){let t=e.readValue().mask(8*this.size);return this.signed&&(t=t.fromTwos(8*this.size)),e.coerce(this.name,t)}}var ae=r(9251);class le extends te{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,(0,ae.Y0)(t))}decode(e){return(0,ae.ZN)(super.decode(e))}}class ce extends ${constructor(e,t){let r=!1;const n=[];e.forEach((e=>{e.dynamic&&(r=!0),n.push(e.type)}));const o="tuple("+n.join(",")+")";super("tuple",o,t,r),this.coders=e}defaultValue(){const e=[];this.coders.forEach((t=>{e.push(t.defaultValue())}));const t=this.coders.reduce(((e,t)=>{const r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e}),{});return this.coders.forEach(((r,n)=>{let o=r.localName;o&&1===t[o]&&("length"===o&&(o="_length"),null==e[o]&&(e[o]=e[n]))})),Object.freeze(e)}encode(e,t){return J(e,this.coders,t)}decode(e){return e.coerce(this.name,X(e,this.coders))}}const ue=new D.Yd(L),de={};let pe={calldata:!0,memory:!0,storage:!0},he={calldata:!0,memory:!0};function fe(e,t){if("bytes"===e||"string"===e){if(pe[t])return!0}else if("address"===e){if("payable"===t)return!0}else if((e.indexOf("[")>=0||"tuple"===e)&&he[t])return!0;return(pe[t]||"payable"===t)&&ue.throwArgumentError("invalid modifier","name",t),!1}function me(e,t){let r=e;function n(t){ue.throwArgumentError(`unexpected character at position ${t}`,"param",e)}function o(e){let r={type:"",name:"",parent:e,state:{allowType:!0}};return t&&(r.indexed=!1),r}e=e.replace(/\s/g," ");let i={type:"",name:"",state:{allowType:!0}},s=i;for(let a=0;a<e.length;a++){let r=e[a];switch(r){case"(":s.state.allowType&&""===s.type?s.type="tuple":s.state.allowParams||n(a),s.state.allowType=!1,s.type=Re(s.type),s.components=[o(s)],s=s.components[0];break;case")":delete s.state,"indexed"===s.name&&(t||n(a),s.indexed=!0,s.name=""),fe(s.type,s.name)&&(s.name=""),s.type=Re(s.type);let e=s;s=s.parent,s||n(a),delete e.parent,s.state.allowParams=!1,s.state.allowName=!0,s.state.allowArray=!0;break;case",":delete s.state,"indexed"===s.name&&(t||n(a),s.indexed=!0,s.name=""),fe(s.type,s.name)&&(s.name=""),s.type=Re(s.type);let i=o(s.parent);s.parent.components.push(i),delete s.parent,s=i;break;case" ":s.state.allowType&&""!==s.type&&(s.type=Re(s.type),delete s.state.allowType,s.state.allowName=!0,s.state.allowParams=!0),s.state.allowName&&""!==s.name&&("indexed"===s.name?(t||n(a),s.indexed&&n(a),s.indexed=!0,s.name=""):fe(s.type,s.name)?s.name="":s.state.allowName=!1);break;case"[":s.state.allowArray||n(a),s.type+=r,s.state.allowArray=!1,s.state.allowName=!1,s.state.readArray=!0;break;case"]":s.state.readArray||n(a),s.type+=r,s.state.readArray=!1,s.state.allowArray=!0,s.state.allowName=!0;break;default:s.state.allowType?(s.type+=r,s.state.allowParams=!0,s.state.allowArray=!0):s.state.allowName?(s.name+=r,delete s.state.allowArray):s.state.readArray?s.type+=r:n(a)}}return s.parent&&ue.throwArgumentError("unexpected eof","param",e),delete i.state,"indexed"===s.name?(t||n(r.length-7),s.indexed&&n(r.length-7),s.indexed=!0,s.name=""):fe(s.type,s.name)&&(s.name=""),i.type=Re(i.type),i}function ge(e,t){for(let r in t)(0,N.zG)(e,r,t[r])}const ye=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),ve=new RegExp(/^(.*)\[([0-9]*)\]$/);class be{constructor(e,t){e!==de&&ue.throwError("use fromString",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),ge(this,t);let r=this.type.match(ve);ge(this,r?{arrayLength:parseInt(r[2]||"-1"),arrayChildren:be.fromObject({type:r[1],components:this.components}),baseType:"array"}:{arrayLength:null,arrayChildren:null,baseType:null!=this.components?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=ye.sighash),ye[e]||ue.throwArgumentError("invalid format type","format",e),e===ye.json){let t={type:"tuple"===this.baseType?"tuple":this.type,name:this.name||void 0};return"boolean"===typeof this.indexed&&(t.indexed=this.indexed),this.components&&(t.components=this.components.map((t=>JSON.parse(t.format(e))))),JSON.stringify(t)}let t="";return"array"===this.baseType?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):"tuple"===this.baseType?(e!==ye.sighash&&(t+=this.type),t+="("+this.components.map((t=>t.format(e))).join(e===ye.full?", ":",")+")"):t+=this.type,e!==ye.sighash&&(!0===this.indexed&&(t+=" indexed"),e===ye.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return"string"===typeof e?be.fromString(e,t):be.fromObject(e)}static fromObject(e){return be.isParamType(e)?e:new be(de,{name:e.name||null,type:Re(e.type),indexed:null==e.indexed?null:!!e.indexed,components:e.components?e.components.map(be.fromObject):null})}static fromString(e,t){function r(e){return be.fromObject({name:e.name,type:e.type,indexed:e.indexed,components:e.components})}return r(me(e,!!t))}static isParamType(e){return!(null==e||!e._isParamType)}}function we(e,t){return Fe(e).map((e=>be.fromString(e,t)))}class Ee{constructor(e,t){e!==de&&ue.throwError("use a static from method",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),ge(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return Ee.isFragment(e)?e:"string"===typeof e?Ee.fromString(e):Ee.fromObject(e)}static fromObject(e){if(Ee.isFragment(e))return e;switch(e.type){case"function":return Pe.fromObject(e);case"event":return _e.fromObject(e);case"constructor":return Oe.fromObject(e);case"error":return Te.fromObject(e);case"fallback":case"receive":return null}return ue.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),"event"===e.split(" ")[0]?_e.fromString(e.substring(5).trim()):"function"===e.split(" ")[0]?Pe.fromString(e.substring(8).trim()):"constructor"===e.split("(")[0].trim()?Oe.fromString(e.trim()):"error"===e.split(" ")[0]?Te.fromString(e.substring(5).trim()):ue.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!(!e||!e._isFragment)}}class _e extends Ee{format(e){if(e||(e=ye.sighash),ye[e]||ue.throwArgumentError("invalid format type","format",e),e===ye.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==ye.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===ye.full?", ":",")+") ",e!==ye.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return"string"===typeof e?_e.fromString(e):_e.fromObject(e)}static fromObject(e){if(_e.isEventFragment(e))return e;"event"!==e.type&&ue.throwArgumentError("invalid event object","value",e);const t={name:je(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(be.fromObject):[],type:"event"};return new _e(de,t)}static fromString(e){let t=e.match(Ue);t||ue.throwArgumentError("invalid event string","value",e);let r=!1;return t[3].split(" ").forEach((e=>{switch(e.trim()){case"anonymous":r=!0;break;case"":break;default:ue.warn("unknown modifier: "+e)}})),_e.fromObject({name:t[1].trim(),anonymous:r,inputs:we(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&"event"===e.type}}function Ae(e,t){t.gas=null;let r=e.split("@");return 1!==r.length?(r.length>2&&ue.throwArgumentError("invalid human-readable ABI signature","value",e),r[1].match(/^[0-9]+$/)||ue.throwArgumentError("invalid human-readable ABI signature gas","value",e),t.gas=C.O$.from(r[1]),r[0]):e}function xe(e,t){t.constant=!1,t.payable=!1,t.stateMutability="nonpayable",e.split(" ").forEach((e=>{switch(e.trim()){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"nonpayable":t.payable=!1,t.stateMutability="nonpayable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+e)}}))}function Se(e){let t={constant:!1,payable:!0,stateMutability:"payable"};return null!=e.stateMutability?(t.stateMutability=e.stateMutability,t.constant="view"===t.stateMutability||"pure"===t.stateMutability,null!=e.constant&&!!e.constant!==t.constant&&ue.throwArgumentError("cannot have constant function with mutability "+t.stateMutability,"value",e),t.payable="payable"===t.stateMutability,null!=e.payable&&!!e.payable!==t.payable&&ue.throwArgumentError("cannot have payable function with mutability "+t.stateMutability,"value",e)):null!=e.payable?(t.payable=!!e.payable,null!=e.constant||t.payable||"constructor"===e.type||ue.throwArgumentError("unable to determine stateMutability","value",e),t.constant=!!e.constant,t.constant?t.stateMutability="view":t.stateMutability=t.payable?"payable":"nonpayable",t.payable&&t.constant&&ue.throwArgumentError("cannot have constant payable function","value",e)):null!=e.constant?(t.constant=!!e.constant,t.payable=!t.constant,t.stateMutability=t.constant?"view":"payable"):"constructor"!==e.type&&ue.throwArgumentError("unable to determine stateMutability","value",e),t}class Oe extends Ee{format(e){if(e||(e=ye.sighash),ye[e]||ue.throwArgumentError("invalid format type","format",e),e===ye.json)return JSON.stringify({type:"constructor",stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});e===ye.sighash&&ue.throwError("cannot format a constructor for sighash",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map((t=>t.format(e))).join(e===ye.full?", ":",")+") ";return this.stateMutability&&"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "),t.trim()}static from(e){return"string"===typeof e?Oe.fromString(e):Oe.fromObject(e)}static fromObject(e){if(Oe.isConstructorFragment(e))return e;"constructor"!==e.type&&ue.throwArgumentError("invalid constructor object","value",e);let t=Se(e);t.constant&&ue.throwArgumentError("constructor cannot be constant","value",e);const r={name:null,type:e.type,inputs:e.inputs?e.inputs.map(be.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?C.O$.from(e.gas):null};return new Oe(de,r)}static fromString(e){let t={type:"constructor"};e=Ae(e,t);let r=e.match(Ue);return r&&"constructor"===r[1].trim()||ue.throwArgumentError("invalid constructor string","value",e),t.inputs=we(r[2].trim(),!1),xe(r[3].trim(),t),Oe.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&"constructor"===e.type}}class Pe extends Oe{format(e){if(e||(e=ye.sighash),ye[e]||ue.throwArgumentError("invalid format type","format",e),e===ye.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map((t=>JSON.parse(t.format(e)))),outputs:this.outputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==ye.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===ye.full?", ":",")+") ",e!==ye.sighash&&(this.stateMutability?"nonpayable"!==this.stateMutability&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map((t=>t.format(e))).join(", ")+") "),null!=this.gas&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return"string"===typeof e?Pe.fromString(e):Pe.fromObject(e)}static fromObject(e){if(Pe.isFunctionFragment(e))return e;"function"!==e.type&&ue.throwArgumentError("invalid function object","value",e);let t=Se(e);const r={type:e.type,name:je(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(be.fromObject):[],outputs:e.outputs?e.outputs.map(be.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?C.O$.from(e.gas):null};return new Pe(de,r)}static fromString(e){let t={type:"function"};e=Ae(e,t);let r=e.split(" returns ");r.length>2&&ue.throwArgumentError("invalid function string","value",e);let n=r[0].match(Ue);if(n||ue.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&je(t.name),t.inputs=we(n[2],!1),xe(n[3].trim(),t),r.length>1){let n=r[1].match(Ue);""==n[1].trim()&&""==n[3].trim()||ue.throwArgumentError("unexpected tokens","value",e),t.outputs=we(n[2],!1)}else t.outputs=[];return Pe.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&"function"===e.type}}function ke(e){const t=e.format();return"Error(string)"!==t&&"Panic(uint256)"!==t||ue.throwArgumentError(`cannot specify user defined ${t} error`,"fragment",e),e}class Te extends Ee{format(e){if(e||(e=ye.sighash),ye[e]||ue.throwArgumentError("invalid format type","format",e),e===ye.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((t=>JSON.parse(t.format(e))))});let t="";return e!==ye.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map((t=>t.format(e))).join(e===ye.full?", ":",")+") ",t.trim()}static from(e){return"string"===typeof e?Te.fromString(e):Te.fromObject(e)}static fromObject(e){if(Te.isErrorFragment(e))return e;"error"!==e.type&&ue.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:je(e.name),inputs:e.inputs?e.inputs.map(be.fromObject):[]};return ke(new Te(de,t))}static fromString(e){let t={type:"error"},r=e.match(Ue);return r||ue.throwArgumentError("invalid error signature","value",e),t.name=r[1].trim(),t.name&&je(t.name),t.inputs=we(r[2],!1),ke(Te.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&"error"===e.type}}function Re(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}const Ie=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function je(e){return e&&e.match(Ie)||ue.throwArgumentError(`invalid identifier "${e}"`,"value",e),e}const Ue=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Fe(e){e=e.trim();let t=[],r="",n=0;for(let o=0;o<e.length;o++){let i=e[o];","===i&&0===n?(t.push(r),r=""):(r+=i,"("===i?n++:")"===i&&(n--,-1===n&&ue.throwArgumentError("unbalanced parenthesis","value",e)))}return r&&t.push(r),t}const ze=new D.Yd(L),Ce=new RegExp(/^bytes([0-9]*)$/),Ne=new RegExp(/^(u?int)([0-9]*)$/);class De{constructor(e){(0,N.zG)(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new Y(e.name);case"bool":return new ee(e.name);case"string":return new le(e.name);case"bytes":return new re(e.name);case"array":return new Q(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new ce((e.components||[]).map((e=>this._getCoder(e))),e.name);case"":return new oe(e.name)}let t=e.type.match(Ne);if(t){let r=parseInt(t[2]||"256");return(0===r||r>256||r%8!==0)&&ze.throwArgumentError("invalid "+t[1]+" bit length","param",e),new se(r/8,"int"===t[1],e.name)}if(t=e.type.match(Ce),t){let r=parseInt(t[1]);return(0===r||r>32)&&ze.throwArgumentError("invalid bytes length","param",e),new ne(r,e.name)}return ze.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new V(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new G(this._getWordSize())}getDefaultValue(e){const t=e.map((e=>this._getCoder(be.from(e)))),r=new ce(t,"_");return r.defaultValue()}encode(e,t){e.length!==t.length&&ze.throwError("types/values length mismatch",D.Yd.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const r=e.map((e=>this._getCoder(be.from(e)))),n=new ce(r,"_"),o=this._getWriter();return n.encode(o,t),o.data}decode(e,t,r){const n=e.map((e=>this._getCoder(be.from(e)))),o=new ce(n,"_");return o.decode(this._getReader((0,z.lE)(t),r))}}const Le=new De,Me=new D.Yd(L);class Be extends N.dk{}class $e extends N.dk{}class Ge extends N.dk{}class Ve extends N.dk{static isIndexed(e){return!(!e||!e._isIndexed)}}const qe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function He(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);return r.error=t,r}class We{constructor(e){let t=[];t="string"===typeof e?JSON.parse(e):e,(0,N.zG)(this,"fragments",t.map((e=>Ee.from(e))).filter((e=>null!=e))),(0,N.zG)(this,"_abiCoder",(0,N.tu)(new.target,"getAbiCoder")()),(0,N.zG)(this,"functions",{}),(0,N.zG)(this,"errors",{}),(0,N.zG)(this,"events",{}),(0,N.zG)(this,"structs",{}),this.fragments.forEach((e=>{let t=null;switch(e.type){case"constructor":return this.deploy?void Me.warn("duplicate definition - constructor"):void(0,N.zG)(this,"deploy",e);case"function":t=this.functions;break;case"event":t=this.events;break;case"error":t=this.errors;break;default:return}let r=e.format();t[r]?Me.warn("duplicate definition - "+r):t[r]=e})),this.deploy||(0,N.zG)(this,"deploy",Oe.from({payable:!1,type:"constructor"})),(0,N.zG)(this,"_isInterface",!0)}format(e){e||(e=ye.full),e===ye.sighash&&Me.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map((t=>t.format(e)));return e===ye.json?JSON.stringify(t.map((e=>JSON.parse(e)))):t}static getAbiCoder(){return Le}static getAddress(e){return(0,q.Kn)(e)}static getSighash(e){return(0,z.p3)((0,H.id)(e.format()),0,4)}static getEventTopic(e){return(0,H.id)(e.format())}getFunction(e){if((0,z.A7)(e)){for(const t in this.functions)if(e===this.getSighash(t))return this.functions[t];Me.throwArgumentError("no matching function","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.functions).filter((e=>e.split("(")[0]===t));return 0===r.length?Me.throwArgumentError("no matching function","name",t):r.length>1&&Me.throwArgumentError("multiple matching functions","name",t),this.functions[r[0]]}const t=this.functions[Pe.fromString(e).format()];return t||Me.throwArgumentError("no matching function","signature",e),t}getEvent(e){if((0,z.A7)(e)){const t=e.toLowerCase();for(const e in this.events)if(t===this.getEventTopic(e))return this.events[e];Me.throwArgumentError("no matching event","topichash",t)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.events).filter((e=>e.split("(")[0]===t));return 0===r.length?Me.throwArgumentError("no matching event","name",t):r.length>1&&Me.throwArgumentError("multiple matching events","name",t),this.events[r[0]]}const t=this.events[_e.fromString(e).format()];return t||Me.throwArgumentError("no matching event","signature",e),t}getError(e){if((0,z.A7)(e)){const t=(0,N.tu)(this.constructor,"getSighash");for(const r in this.errors){const n=this.errors[r];if(e===t(n))return this.errors[r]}Me.throwArgumentError("no matching error","sighash",e)}if(-1===e.indexOf("(")){const t=e.trim(),r=Object.keys(this.errors).filter((e=>e.split("(")[0]===t));return 0===r.length?Me.throwArgumentError("no matching error","name",t):r.length>1&&Me.throwArgumentError("multiple matching errors","name",t),this.errors[r[0]]}const t=this.errors[Pe.fromString(e).format()];return t||Me.throwArgumentError("no matching error","signature",e),t}getSighash(e){if("string"===typeof e)try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch(r){throw t}}return(0,N.tu)(this.constructor,"getSighash")(e)}getEventTopic(e){return"string"===typeof e&&(e=this.getEvent(e)),(0,N.tu)(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){"string"===typeof e&&(e=this.getError(e));const r=(0,z.lE)(t);return(0,z.Dv)(r.slice(0,4))!==this.getSighash(e)&&Me.throwArgumentError(`data signature does not match error ${e.name}.`,"data",(0,z.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeErrorResult(e,t){return"string"===typeof e&&(e=this.getError(e)),(0,z.Dv)((0,z.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){"string"===typeof e&&(e=this.getFunction(e));const r=(0,z.lE)(t);return(0,z.Dv)(r.slice(0,4))!==this.getSighash(e)&&Me.throwArgumentError(`data signature does not match function ${e.name}.`,"data",(0,z.Dv)(r)),this._decodeParams(e.inputs,r.slice(4))}encodeFunctionData(e,t){return"string"===typeof e&&(e=this.getFunction(e)),(0,z.Dv)((0,z.zo)([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){"string"===typeof e&&(e=this.getFunction(e));let r=(0,z.lE)(t),n=null,o="",i=null,s=null,a=null;switch(r.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,r)}catch(l){}break;case 4:{const e=(0,z.Dv)(r.slice(0,4)),t=qe[e];if(t)i=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.signature,t.reason&&(n=i[0]),"Error"===s?o=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(i[0])}`:"Panic"===s&&(o=`; VM Exception while processing transaction: reverted with panic code ${i[0]}`);else try{const t=this.getError(e);i=this._abiCoder.decode(t.inputs,r.slice(4)),s=t.name,a=t.format()}catch(l){}break}}return Me.throwError("call revert exception"+o,D.Yd.errors.CALL_EXCEPTION,{method:e.format(),data:(0,z.Dv)(t),errorArgs:i,errorName:s,errorSignature:a,reason:n})}encodeFunctionResult(e,t){return"string"===typeof e&&(e=this.getFunction(e)),(0,z.Dv)(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){"string"===typeof e&&(e=this.getEvent(e)),t.length>e.inputs.length&&Me.throwError("too many arguments for "+e.format(),D.Yd.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let r=[];e.anonymous||r.push(this.getEventTopic(e));const n=(e,t)=>"string"===e.type?(0,H.id)(t):"bytes"===e.type?(0,W.w)((0,z.Dv)(t)):("address"===e.type&&this._abiCoder.encode(["address"],[t]),(0,z.$m)((0,z.Dv)(t),32));t.forEach(((t,o)=>{let i=e.inputs[o];i.indexed?null==t?r.push(null):"array"===i.baseType||"tuple"===i.baseType?Me.throwArgumentError("filtering with tuples or arrays not supported","contract."+i.name,t):Array.isArray(t)?r.push(t.map((e=>n(i,e)))):r.push(n(i,t)):null!=t&&Me.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+i.name,t)}));while(r.length&&null===r[r.length-1])r.pop();return r}encodeEventLog(e,t){"string"===typeof e&&(e=this.getEvent(e));const r=[],n=[],o=[];return e.anonymous||r.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Me.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach(((e,i)=>{const s=t[i];if(e.indexed)if("string"===e.type)r.push((0,H.id)(s));else if("bytes"===e.type)r.push((0,W.w)(s));else{if("tuple"===e.baseType||"array"===e.baseType)throw new Error("not implemented");r.push(this._abiCoder.encode([e.type],[s]))}else n.push(e),o.push(s)})),{data:this._abiCoder.encode(n,o),topics:r}}decodeEventLog(e,t,r){if("string"===typeof e&&(e=this.getEvent(e)),null!=r&&!e.anonymous){let t=this.getEventTopic(e);(0,z.A7)(r[0],32)&&r[0].toLowerCase()===t||Me.throwError("fragment/topic mismatch",D.Yd.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:t,value:r[0]}),r=r.slice(1)}let n=[],o=[],i=[];e.inputs.forEach(((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(be.fromObject({type:"bytes32",name:e.name})),i.push(!0)):(n.push(e),i.push(!1)):(o.push(e),i.push(!1))}));let s=null!=r?this._abiCoder.decode(n,(0,z.zo)(r)):null,a=this._abiCoder.decode(o,t,!0),l=[],c=0,u=0;e.inputs.forEach(((e,t)=>{if(e.indexed)if(null==s)l[t]=new Ve({_isIndexed:!0,hash:null});else if(i[t])l[t]=new Ve({_isIndexed:!0,hash:s[u++]});else try{l[t]=s[u++]}catch(r){l[t]=r}else try{l[t]=a[c++]}catch(r){l[t]=r}if(e.name&&null==l[e.name]){const r=l[t];r instanceof Error?Object.defineProperty(l,e.name,{enumerable:!0,get:()=>{throw He(`property ${JSON.stringify(e.name)}`,r)}}):l[e.name]=r}}));for(let d=0;d<l.length;d++){const e=l[d];e instanceof Error&&Object.defineProperty(l,d,{enumerable:!0,get:()=>{throw He(`index ${d}`,e)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new $e({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:C.O$.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new Be({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=(0,z.Dv)(e);let r=this.getError(t.substring(0,10).toLowerCase());return r?new Ge({args:this._abiCoder.decode(r.inputs,"0x"+t.substring(10)),errorFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r)}):null}static isInterface(e){return!(!e||!e._isInterface)}}var Ye=r(1556),Ke=r(8088),Ze=r(639);const Je="contracts/5.6.2";var Xe=function(e,t,r,n){function o(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function s(e){try{l(n.next(e))}catch(t){i(t)}}function a(e){try{l(n["throw"](e))}catch(t){i(t)}}function l(e){e.done?r(e.value):o(e.value).then(s,a)}l((n=n.apply(e,t||[])).next())}))};const Qe=new D.Yd(Je);function et(e,t){return Xe(this,void 0,void 0,(function*(){const r=yield t;"string"!==typeof r&&Qe.throwArgumentError("invalid address or ENS name","name",r);try{return(0,q.Kn)(r)}catch(o){}e||Qe.throwError("a provider or signer is needed to resolve ENS names",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield e.resolveName(r);return null==n&&Qe.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n}))}function tt(e,t,r){return Xe(this,void 0,void 0,(function*(){return Array.isArray(r)?yield Promise.all(r.map(((r,n)=>tt(e,Array.isArray(t)?t[n]:t[r.name],r)))):"address"===r.type?yield et(e,t):"tuple"===r.type?yield tt(e,t,r.components):"array"===r.baseType?Array.isArray(t)?yield Promise.all(t.map((t=>tt(e,t,r.arrayChildren)))):Promise.reject(Qe.makeError("invalid value for array",D.Yd.errors.INVALID_ARGUMENT,{argument:"value",value:t})):t}))}function rt(e,t,r){return Xe(this,void 0,void 0,(function*(){let n={};r.length===t.inputs.length+1&&"object"===typeof r[r.length-1]&&(n=(0,N.DC)(r.pop())),Qe.checkArgumentCount(r.length,t.inputs.length,"passed to contract"),e.signer?n.from?n.from=(0,N.mE)({override:et(e.signer,n.from),signer:e.signer.getAddress()}).then((e=>Xe(this,void 0,void 0,(function*(){return(0,q.Kn)(e.signer)!==e.override&&Qe.throwError("Contract with a Signer cannot override from",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),e.override})))):n.from=e.signer.getAddress():n.from&&(n.from=et(e.provider,n.from));const o=yield(0,N.mE)({args:tt(e.signer||e.provider,r,t.inputs),address:e.resolvedAddress,overrides:(0,N.mE)(n)||{}}),i=e.interface.encodeFunctionData(t,o.args),s={data:i,to:o.address},a=o.overrides;if(null!=a.nonce&&(s.nonce=C.O$.from(a.nonce).toNumber()),null!=a.gasLimit&&(s.gasLimit=C.O$.from(a.gasLimit)),null!=a.gasPrice&&(s.gasPrice=C.O$.from(a.gasPrice)),null!=a.maxFeePerGas&&(s.maxFeePerGas=C.O$.from(a.maxFeePerGas)),null!=a.maxPriorityFeePerGas&&(s.maxPriorityFeePerGas=C.O$.from(a.maxPriorityFeePerGas)),null!=a.from&&(s.from=a.from),null!=a.type&&(s.type=a.type),null!=a.accessList&&(s.accessList=(0,Ze.z7)(a.accessList)),null==s.gasLimit&&null!=t.gas){let e=21e3;const r=(0,z.lE)(i);for(let t=0;t<r.length;t++)e+=4,r[t]&&(e+=64);s.gasLimit=C.O$.from(t.gas).add(e)}if(a.value){const e=C.O$.from(a.value);e.isZero()||t.payable||Qe.throwError("non-payable method cannot override value",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),s.value=e}a.customData&&(s.customData=(0,N.DC)(a.customData)),a.ccipReadEnabled&&(s.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const l=Object.keys(n).filter((e=>null!=n[e]));return l.length&&Qe.throwError(`cannot override ${l.map((e=>JSON.stringify(e))).join(",")}`,D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:l}),s}))}function nt(e,t){return function(...r){return rt(e,t,r)}}function ot(e,t){const r=e.signer||e.provider;return function(...n){return Xe(this,void 0,void 0,(function*(){r||Qe.throwError("estimate require a provider or signer",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const o=yield rt(e,t,n);return yield r.estimateGas(o)}))}}function it(e,t){const r=t.wait.bind(t);t.wait=t=>r(t).then((t=>(t.events=t.logs.map((r=>{let n=(0,N.p$)(r),o=null;try{o=e.interface.parseLog(r)}catch(i){}return o&&(n.args=o.args,n.decode=(t,r)=>e.interface.decodeEventLog(o.eventFragment,t,r),n.event=o.name,n.eventSignature=o.signature),n.removeListener=()=>e.provider,n.getBlock=()=>e.provider.getBlock(t.blockHash),n.getTransaction=()=>e.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>Promise.resolve(t),n})),t)))}function st(e,t,r){const n=e.signer||e.provider;return function(...o){return Xe(this,void 0,void 0,(function*(){let i;if(o.length===t.inputs.length+1&&"object"===typeof o[o.length-1]){const e=(0,N.DC)(o.pop());null!=e.blockTag&&(i=yield e.blockTag),delete e.blockTag,o.push(e)}null!=e.deployTransaction&&(yield e._deployed(i));const s=yield rt(e,t,o),a=yield n.call(s,i);try{let n=e.interface.decodeFunctionResult(t,a);return r&&1===t.outputs.length&&(n=n[0]),n}catch(l){throw l.code===D.Yd.errors.CALL_EXCEPTION&&(l.address=e.address,l.args=o,l.transaction=s),l}}))}}function at(e,t){return function(...r){return Xe(this,void 0,void 0,(function*(){e.signer||Qe.throwError("sending a transaction requires a signer",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),null!=e.deployTransaction&&(yield e._deployed());const n=yield rt(e,t,r),o=yield e.signer.sendTransaction(n);return it(e,o),o}))}}function lt(e,t,r){return t.constant?st(e,t,r):at(e,t)}function ct(e){return!e.address||null!=e.topics&&0!==e.topics.length?(e.address||"*")+"@"+(e.topics?e.topics.map((e=>Array.isArray(e)?e.join("|"):e)).join(":"):""):"*"}class ut{constructor(e,t){(0,N.zG)(this,"tag",e),(0,N.zG)(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter((r=>!(!t&&r.listener===e)||(t=!0,!1)))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map((e=>e.listener))}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter((t=>{const r=e.slice();return setTimeout((()=>{t.listener.apply(this,r)}),0),!t.once})),t}prepareEvent(e){}getEmit(e){return[e]}}class dt extends ut{constructor(){super("error",null)}}class pt extends ut{constructor(e,t,r,n){const o={address:e};let i=t.getEventTopic(r);n?(i!==n[0]&&Qe.throwArgumentError("topic mismatch","topics",n),o.topics=n.slice()):o.topics=[i],super(ct(o),o),(0,N.zG)(this,"address",e),(0,N.zG)(this,"interface",t),(0,N.zG)(this,"fragment",r)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(e,t)=>this.interface.decodeEventLog(this.fragment,e,t);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=B(e.args);if(t.length)throw t[0].error;const r=(e.args||[]).slice();return r.push(e),r}}class ht extends ut{constructor(e,t){super("*",{address:e}),(0,N.zG)(this,"address",e),(0,N.zG)(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(e,r)=>this.interface.decodeEventLog(t.eventFragment,e,r),e.args=t.args}catch(t){}}}class ft{constructor(e,t,r){(0,N.zG)(this,"interface",(0,N.tu)(new.target,"getInterface")(t)),null==r?((0,N.zG)(this,"provider",null),(0,N.zG)(this,"signer",null)):Ke.E.isSigner(r)?((0,N.zG)(this,"provider",r.provider||null),(0,N.zG)(this,"signer",r)):Ye.zt.isProvider(r)?((0,N.zG)(this,"provider",r),(0,N.zG)(this,"signer",null)):Qe.throwArgumentError("invalid signer or provider","signerOrProvider",r),(0,N.zG)(this,"callStatic",{}),(0,N.zG)(this,"estimateGas",{}),(0,N.zG)(this,"functions",{}),(0,N.zG)(this,"populateTransaction",{}),(0,N.zG)(this,"filters",{});{const e={};Object.keys(this.interface.events).forEach((t=>{const r=this.interface.events[t];(0,N.zG)(this.filters,t,((...e)=>({address:this.address,topics:this.interface.encodeFilterTopics(r,e)}))),e[r.name]||(e[r.name]=[]),e[r.name].push(t)})),Object.keys(e).forEach((t=>{const r=e[t];1===r.length?(0,N.zG)(this.filters,t,this.filters[r[0]]):Qe.warn(`Duplicate definition of ${t} (${r.join(", ")})`)}))}if((0,N.zG)(this,"_runningEvents",{}),(0,N.zG)(this,"_wrappedEmits",{}),null==e&&Qe.throwArgumentError("invalid contract address or ENS name","addressOrName",e),(0,N.zG)(this,"address",e),this.provider)(0,N.zG)(this,"resolvedAddress",et(this.provider,e));else try{(0,N.zG)(this,"resolvedAddress",Promise.resolve((0,q.Kn)(e)))}catch(i){Qe.throwError("provider is required to use ENS name as contract address",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch((e=>{}));const n={},o={};Object.keys(this.interface.functions).forEach((e=>{const t=this.interface.functions[e];if(o[e])Qe.warn(`Duplicate ABI entry for ${JSON.stringify(e)}`);else{o[e]=!0;{const r=t.name;n[`%${r}`]||(n[`%${r}`]=[]),n[`%${r}`].push(e)}null==this[e]&&(0,N.zG)(this,e,lt(this,t,!0)),null==this.functions[e]&&(0,N.zG)(this.functions,e,lt(this,t,!1)),null==this.callStatic[e]&&(0,N.zG)(this.callStatic,e,st(this,t,!0)),null==this.populateTransaction[e]&&(0,N.zG)(this.populateTransaction,e,nt(this,t)),null==this.estimateGas[e]&&(0,N.zG)(this.estimateGas,e,ot(this,t))}})),Object.keys(n).forEach((e=>{const t=n[e];if(t.length>1)return;e=e.substring(1);const r=t[0];try{null==this[e]&&(0,N.zG)(this,e,this[r])}catch(o){}null==this.functions[e]&&(0,N.zG)(this.functions,e,this.functions[r]),null==this.callStatic[e]&&(0,N.zG)(this.callStatic,e,this.callStatic[r]),null==this.populateTransaction[e]&&(0,N.zG)(this.populateTransaction,e,this.populateTransaction[r]),null==this.estimateGas[e]&&(0,N.zG)(this.estimateGas,e,this.estimateGas[r])}))}static getContractAddress(e){return(0,q.CR)(e)}static getInterface(e){return We.isInterface(e)?e:new We(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then((()=>this)):this._deployedPromise=this.provider.getCode(this.address,e).then((e=>("0x"===e&&Qe.throwError("contract not deployed",D.Yd.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this)))),this._deployedPromise}fallback(e){this.signer||Qe.throwError("sending a transactions require a signer",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=(0,N.DC)(e||{});return["from","to"].forEach((function(e){null!=t[e]&&Qe.throwError("cannot override "+e,D.Yd.errors.UNSUPPORTED_OPERATION,{operation:e})})),t.to=this.resolvedAddress,this.deployed().then((()=>this.signer.sendTransaction(t)))}connect(e){"string"===typeof e&&(e=new Ke.b(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&(0,N.zG)(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return Ve.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if("string"===typeof e){if("error"===e)return this._normalizeRunningEvent(new dt);if("event"===e)return this._normalizeRunningEvent(new ut("event",null));if("*"===e)return this._normalizeRunningEvent(new ht(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new pt(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const t=e.topics[0];if("string"!==typeof t)throw new Error("invalid topic");const r=this.interface.getEvent(t);return this._normalizeRunningEvent(new pt(this.address,this.interface,r,e.topics))}catch(t){}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new ut(ct(r),r))}return this._normalizeRunningEvent(new ht(this.address,this.interface))}_checkRunningEvents(e){if(0===e.listenerCount()){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,r){const n=(0,N.p$)(t);return n.removeListener=()=>{r&&(e.removeListener(r),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,r){if(this.provider||Qe.throwError("events require a provider or a signer with a provider",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,r),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const r=r=>{let n=this._wrapEvent(e,r,t);if(null==n.decodeError)try{const t=e.getEmit(n);this.emit(e.filter,...t)}catch(o){n.decodeError=o.error}null!=e.filter&&this.emit("event",n),null!=n.decodeError&&this.emit("error",n.decodeError,n)};this._wrappedEmits[e.tag]=r,null!=e.filter&&this.provider.on(e.filter,r)}}queryFilter(e,t,r){const n=this._getRunningEvent(e),o=(0,N.DC)(n.filter);return"string"===typeof t&&(0,z.A7)(t,32)?(null!=r&&Qe.throwArgumentError("cannot specify toBlock with blockhash","toBlock",r),o.blockHash=t):(o.fromBlock=null!=t?t:0,o.toBlock=null!=r?r:"latest"),this.provider.getLogs(o).then((e=>e.map((e=>this._wrapEvent(n,e,null)))))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const r=this._getRunningEvent(e),n=r.run(t)>0;return this._checkRunningEvents(r),n}listenerCount(e){return this.provider?null==e?Object.keys(this._runningEvents).reduce(((e,t)=>e+this._runningEvents[t].listenerCount()),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(null==e){const e=[];for(let t in this._runningEvents)this._runningEvents[t].listeners().forEach((t=>{e.push(t)}));return e}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(null==e){for(const e in this._runningEvents){const t=this._runningEvents[e];t.removeAllListeners(),this._checkRunningEvents(t)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const r=this._getRunningEvent(e);return r.removeListener(t),this._checkRunningEvents(r),this}removeListener(e,t){return this.off(e,t)}}class mt extends ft{}var gt=r(8794);const yt=new D.Yd(gt.i),vt={},bt=C.O$.from(0),wt=C.O$.from(-1);function Et(e,t,r,n){const o={fault:t,operation:r};return void 0!==n&&(o.value=n),yt.throwError(e,D.Yd.errors.NUMERIC_FAULT,o)}let _t="0";while(_t.length<256)_t+=_t;function At(e){if("number"!==typeof e)try{e=C.O$.from(e).toNumber()}catch(t){}return"number"===typeof e&&e>=0&&e<=256&&!(e%1)?"1"+_t.substring(0,e):yt.throwArgumentError("invalid decimal size","decimals",e)}function xt(e,t){null==t&&(t=0);const r=At(t);e=C.O$.from(e);const n=e.lt(bt);n&&(e=e.mul(wt));let o=e.mod(r).toString();while(o.length<r.length-1)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];const i=e.div(r).toString();return e=1===r.length?i:i+"."+o,n&&(e="-"+e),e}function St(e,t){null==t&&(t=0);const r=At(t);"string"===typeof e&&e.match(/^-?[0-9.]+$/)||yt.throwArgumentError("invalid decimal value","value",e);const n="-"===e.substring(0,1);n&&(e=e.substring(1)),"."===e&&yt.throwArgumentError("missing value","value",e);const o=e.split(".");o.length>2&&yt.throwArgumentError("too many decimal points","value",e);let i=o[0],s=o[1];i||(i="0"),s||(s="0");while("0"===s[s.length-1])s=s.substring(0,s.length-1);s.length>r.length-1&&Et("fractional component exceeds decimals","underflow","parseFixed"),""===s&&(s="0");while(s.length<r.length-1)s+="0";const a=C.O$.from(i),l=C.O$.from(s);let c=a.mul(r).add(l);return n&&(c=c.mul(wt)),c}class Ot{constructor(e,t,r,n){e!==vt&&yt.throwError("cannot use FixedFormat constructor; use FixedFormat.from",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=r,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=At(n),Object.freeze(this)}static from(e){if(e instanceof Ot)return e;"number"===typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"===typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{const o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||yt.throwArgumentError("invalid fixed format","format",e),t="u"!==o[1],r=parseInt(o[2]),n=parseInt(o[3])}else if(e){const o=(t,r,n)=>null==e[t]?n:(typeof e[t]!==r&&yt.throwArgumentError("invalid fixed format ("+t+" not "+r+")","format."+t,e[t]),e[t]);t=o("signed","boolean",t),r=o("width","number",r),n=o("decimals","number",n)}return r%8&&yt.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&yt.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Ot(vt,t,r,n)}}class Pt{constructor(e,t,r,n){e!==vt&&yt.throwError("cannot use FixedNumber constructor; use FixedNumber.from",D.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&yt.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=St(this._value,this.format.decimals),r=St(e._value,e.format.decimals);return Pt.fromValue(t.add(r),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=St(this._value,this.format.decimals),r=St(e._value,e.format.decimals);return Pt.fromValue(t.sub(r),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=St(this._value,this.format.decimals),r=St(e._value,e.format.decimals);return Pt.fromValue(t.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=St(this._value,this.format.decimals),r=St(e._value,e.format.decimals);return Pt.fromValue(t.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Pt.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return this.isNegative()&&r&&(t=t.subUnsafe(kt.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");1===e.length&&e.push("0");let t=Pt.from(e[0],this.format);const r=!e[1].match(/^(0*)$/);return!this.isNegative()&&r&&(t=t.addUnsafe(kt.toFormat(t.format))),t}round(e){null==e&&(e=0);const t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&yt.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const r=Pt.from("1"+_t.substring(0,e),this.format),n=Tt.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&yt.throwArgumentError("invalid byte width","width",e);const t=C.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,z.$m)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Pt.fromString(this._value,e)}static fromValue(e,t,r){return null!=r||null==t||(0,C.Zm)(t)||(r=t,t=null),null==t&&(t=0),null==r&&(r="fixed"),Pt.fromString(xt(e,t),Ot.from(r))}static fromString(e,t){null==t&&(t="fixed");const r=Ot.from(t),n=St(e,r.decimals);!r.signed&&n.lt(bt)&&Et("unsigned value cannot be negative","overflow","value",e);let o=null;r.signed?o=n.toTwos(r.width).toHexString():(o=n.toHexString(),o=(0,z.$m)(o,r.width/8));const i=xt(n,r.decimals);return new Pt(vt,o,i,r)}static fromBytes(e,t){null==t&&(t="fixed");const r=Ot.from(t);if((0,z.lE)(e).length>r.width/8)throw new Error("overflow");let n=C.O$.from(e);r.signed&&(n=n.fromTwos(r.width));const o=n.toTwos((r.signed?0:1)+r.width).toHexString(),i=xt(n,r.decimals);return new Pt(vt,o,i,r)}static from(e,t){if("string"===typeof e)return Pt.fromString(e,t);if((0,z._t)(e))return Pt.fromBytes(e,t);try{return Pt.fromValue(e,0,t)}catch(r){if(r.code!==D.Yd.errors.INVALID_ARGUMENT)throw r}return yt.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!(!e||!e._isFixedNumber)}}const kt=Pt.from(1),Tt=Pt.from("0.5"),Rt="units/5.6.1",It=new D.Yd(Rt),jt=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Ut(e,t){if("string"!==typeof e&&It.throwArgumentError("value must be a string","value",e),"string"===typeof t){const e=jt.indexOf(t);-1!==e&&(t=3*e)}return St(e,null!=t?t:18)}var Ft=r(715),zt={components:{AppContent:w.Z},data(){return{btnTxt:"Submit",processing:!1,usdcAmount:"",sAmount:""}},methods:{async initiate(){this.processing=!0;var e={address:"0x07865c6e87b9f70255377e024ace6630c1eaa37f",abi:[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}]};let t=window.ethereum,r=new Ft.Q(t);await r.send("eth_requestAccounts",[]);const n=r.getSigner(),o=new mt(e.address,e.abi,n);var i=Ut(Number(this.usdcAmount).toFixed(1),6).toNumber();try{this.btnTxt="Processing...";let e=await o.transfer(this.walletAddress,1);console.log(e.hash,i),await this.createProposal()}catch(s){this.btnTxt="Submit",this.processing=!1,console.log(s)}},async createProposal(){this.btnTxt="Processing...",this.processing=!0,console.log("Creating Proposal...");try{const e=await F().post("https://salontest-terrifickid.cloud.okteto.net/onboard",{profile:this.$store.state.profile,usdc:this.usdcAmount,s:this.sAmount});e.data.result?this.$store.dispatch("connect"):(console.log(e.data),this.btnTxt="ERROR A1: Contact Support")}catch(e){console.log(e),this.btnTxt="ERROR A2: Contact Support"}}},computed:{walletAddress(){return this.$store.state.walletAddress}}};const Ct=(0,h.Z)(zt,[["render",j]]);var Nt=Ct;const Dt={key:0,class:"grid grid-cols-12"},Lt={class:"col-span-12"},Mt={class:"flex items-center"},Bt={class:"w-screen"},$t={class:"flex block text-3xl md:text-4xl mb-4 items-center justify-left"},Gt=(0,n._)("span",{class:"text-sm mr-1"},"1",-1),Vt=(0,n._)("svg",{height:"10",width:"11",class:"mr-4"},[(0,n._)("path",{class:"fill-electric",d:"M7.586 5L4.293 1.707 5.707.293 10.414 5 5.707 9.707 4.293 8.293z"}),(0,n._)("path",{d:"M8 4v2H0V4z"})],-1),qt=(0,n._)("br",null,null,-1),Ht={class:"flex"},Wt={class:"mr-4"},Yt=(0,n._)("span",{class:"text-xs"},"vote start: ",-1),Kt=(0,n._)("span",{class:"text-xs"},"vote end: ",-1),Zt={class:"grid grid-cols-12"},Jt={class:"col-span-6"},Xt={class:"text-2xl my-4"},Qt={class:"text-2xl my-4"},er=(0,n._)("br",null,null,-1),tr=(0,n._)("br",null,null,-1),rr={class:"text-sm mt-12"},nr=(0,n._)("br",null,null,-1);function or(e,t,r,i,s,a){return"fields"in s.proposal?((0,n.wg)(),(0,n.iD)("div",Dt,[(0,n._)("div",Lt,[(0,n._)("form",Mt,[(0,n._)("div",Bt,[(0,n._)("label",$t,[Gt,Vt,(0,n.Uk)((0,o.zw)(s.proposal.fields.proposalType["en-US"][0]),1),qt,(0,n.Uk)("#"+(0,o.zw)(r.id)+"*",1)]),(0,n._)("ul",Ht,[(0,n._)("li",Wt,[Yt,(0,n.Uk)((0,o.zw)(s.proposal.fields.startDate["en-US"]),1)]),(0,n._)("li",null,[Kt,(0,n.Uk)((0,o.zw)(s.proposal.fields.endDate["en-US"]),1)])]),(0,n._)("div",Zt,[(0,n._)("div",Jt,[(0,n._)("p",Xt,(0,o.zw)(s.proposal.fields.meta["en-US"].usdc)+" for "+(0,o.zw)(s.proposal.fields.meta["en-US"].s)+" Salon units ",1),(0,n._)("p",Qt,[(0,n.Uk)((0,o.zw)(s.proposal.fields.meta["en-US"].profile.firstName["en-US"]),1),er,(0,n.Uk)(" "+(0,o.zw)(s.proposal.fields.meta["en-US"].profile.lastName["en-US"]),1),tr]),(0,n._)("p",rr,[(0,n.Uk)((0,o.zw)(s.proposal.fields.meta["en-US"].profile.walletAddress["en-US"]),1),nr,(0,n.Uk)(" "+(0,o.zw)(s.proposal.fields.meta["en-US"].profile.emailAddress["en-US"]),1)])])])])])])])):(0,n.kq)("",!0)}var ir={components:{},props:["id"],data(){return{proposal:{}}},async beforeMount(){console.log("loading proposal!");try{const e=await F().get("https://salontest-terrifickid.cloud.okteto.net/entry/"+this.id);this.proposal=e.data}catch(e){console.log("error",e)}}};const sr=(0,h.Z)(ir,[["render",or]]);var ar=sr,lr={components:{AppContent:w.Z,AppForm:E.Z,FormApply:Nt,FormProposal:ar},computed:{loaded(){return this.profile},isNew(){return!("kycApproved"in this.profile)&&!("loading"in this.profile)},isKycApproved(){return!!this.profile.kycApproved&&this.profile.kycApproved},isApplied(){return!(!("onboardProposal"in this.profile)||!this.profile.onboardProposal)},isMember(){return"salonUnits"in this.profile&&this.profile.salonUnits},profile(){return this.$store.state.profile},ready(){return!("loading"in this.profile)}}};const cr=(0,h.Z)(lr,[["render",b]]);var ur=cr;const dr={class:"text-center"},pr=(0,n._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-24 h-24 sm:h-32 sm:w-32 mx-auto",viewBox:"0 0 212 189"},[(0,n._)("g",{fill:"none","fill-rule":"evenodd"},[(0,n._)("polygon",{fill:"#CDBDB2",points:"60.75 173.25 88.313 180.563 88.313 171 90.563 168.75 106.313 168.75 106.313 180 106.313 187.875 89.438 187.875 68.625 178.875"}),(0,n._)("polygon",{fill:"#CDBDB2",points:"105.75 173.25 132.75 180.563 132.75 171 135 168.75 150.75 168.75 150.75 180 150.75 187.875 133.875 187.875 113.063 178.875",transform:"matrix(-1 0 0 1 256.5 0)"}),(0,n._)("polygon",{fill:"#393939",points:"90.563 152.438 88.313 171 91.125 168.75 120.375 168.75 123.75 171 121.5 152.438 117 149.625 94.5 150.188"}),(0,n._)("polygon",{fill:"#F89C35",points:"75.375 27 88.875 58.5 95.063 150.188 117 150.188 123.75 58.5 136.125 27"}),(0,n._)("polygon",{fill:"#F89D35",points:"16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"}),(0,n._)("polygon",{fill:"#D87C30",points:"46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"}),(0,n._)("polygon",{fill:"#EA8D3A",points:"46.125 101.813 65.25 119.813 65.25 137.813"}),(0,n._)("polygon",{fill:"#F89D35",points:"65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"}),(0,n._)("polygon",{fill:"#EB8F35",points:"65.25 138.375 60.75 173.25 90.563 152.438"}),(0,n._)("polygon",{fill:"#EA8E3A",points:"92.25 102.375 95.063 150.188 86.625 125.719"}),(0,n._)("polygon",{fill:"#D87C30",points:"39.375 138.938 65.25 138.375 60.75 173.25"}),(0,n._)("polygon",{fill:"#EB8F35",points:"12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"}),(0,n._)("polygon",{fill:"#E8821E",points:"88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"}),(0,n._)("polygon",{fill:"#DFCEC3",points:"60.75 173.25 90.563 152.438 88.313 170.438 88.313 180.563 68.063 176.625"}),(0,n._)("polygon",{fill:"#DFCEC3",points:"121.5 173.25 150.75 152.438 148.5 170.438 148.5 180.563 128.25 176.625",transform:"matrix(-1 0 0 1 272.25 0)"}),(0,n._)("polygon",{fill:"#393939",points:"70.313 112.5 64.125 125.438 86.063 119.813",transform:"matrix(-1 0 0 1 150.188 0)"}),(0,n._)("polygon",{fill:"#E88F35",points:"12.375 .563 88.875 58.5 75.938 27"}),(0,n._)("path",{fill:"#8E5A30",d:"M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"}),(0,n._)("g",{transform:"matrix(-1 0 0 1 211.5 0)"},[(0,n._)("polygon",{fill:"#F89D35",points:"16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"}),(0,n._)("polygon",{fill:"#D87C30",points:"46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"}),(0,n._)("polygon",{fill:"#EA8D3A",points:"46.125 101.813 65.25 119.813 65.25 137.813"}),(0,n._)("polygon",{fill:"#F89D35",points:"65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"}),(0,n._)("polygon",{fill:"#EB8F35",points:"65.25 138.375 60.75 173.25 90 153"}),(0,n._)("polygon",{fill:"#EA8E3A",points:"92.25 102.375 95.063 150.188 86.625 125.719"}),(0,n._)("polygon",{fill:"#D87C30",points:"39.375 138.938 65.25 138.375 60.75 173.25"}),(0,n._)("polygon",{fill:"#EB8F35",points:"12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"}),(0,n._)("polygon",{fill:"#E8821E",points:"88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"}),(0,n._)("polygon",{fill:"#393939",points:"70.313 112.5 64.125 125.438 86.063 119.813",transform:"matrix(-1 0 0 1 150.188 0)"}),(0,n._)("polygon",{fill:"#E88F35",points:"12.375 .563 88.875 58.5 75.938 27"}),(0,n._)("path",{fill:"#8E5A30",d:"M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"})])])],-1),hr=(0,n.Uk)(" Connect MetaMask "),fr=(0,n._)("p",{class:"sm:hidden mt-4 font-haffer text-xs"}," To access Salon on your mobile device, please connect to Salon through the browser on your Metamask iOS or Android app. ",-1);function mr(e,t,r,o,i,s){const a=(0,n.up)("AppButton"),l=(0,n.up)("AppContent");return 1!=s.connected?((0,n.wg)(),(0,n.j4)(l,{key:0,class:"items-center justify-center"},{default:(0,n.w5)((()=>[(0,n._)("div",dr,[pr,(0,n._)("p",null,[(0,n.Wm)(a,{class:"mt-8 sm:mt-4",onClick:s.connect},{default:(0,n.w5)((()=>[hr])),_:1},8,["onClick"])]),fr])])),_:1})):(0,n.kq)("",!0)}var gr=r(7175),yr={components:{AppButton:gr.Z,AppContent:w.Z},computed:{connected(){return localStorage.getItem("salon_login")}},methods:{connect(){this.$store.dispatch("connect")}},async beforeMount(){var e=localStorage.getItem("salon_login");console.log("connected is:",e),1==e&&(console.log("Reconnecting!"),this.$store.dispatch("connect")),window.ethereum&&window.ethereum.on("accountsChanged",(async()=>{await this.$store.dispatch("disconnect"),await this.$store.dispatch("connect")}))}};const vr=(0,h.Z)(yr,[["render",mr]]);var br=vr,wr={components:{AppLoader:g.Z,AppFooter:m,WalletConnect:br,AppJoin:ur},props:["colors","isLoaded","protected"],computed:{check(){return!this.protected||"units"in this.profile&&this.profile.units},salonClass(){return"bg-"+this.colors[0]+" text-"+this.colors[1]},profile(){return this.$store.state.profile},walletAddress(){return this.$store.state.walletAddress},connecting(){return this.$store.state.connecting},ready(){return this.isLoaded}},methods:{mounted(){console.log(this.background)},connect(){this.$store.dispatch("connect")},disconnect(){this.$store.dispatch("disconnect")}}};const Er=(0,h.Z)(wr,[["render",a]]);var _r=Er}}]);
//# sourceMappingURL=869.3a353aa2.js.map