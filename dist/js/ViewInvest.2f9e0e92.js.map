{"version":3,"file":"js/ViewInvest.2f9e0e92.js","mappings":"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","sources":["webpack://oz.salon.dapp/./src/components/AppForm.vue","webpack://oz.salon.dapp/./src/components/AppForm.vue?dd91","webpack://oz.salon.dapp/./src/views/ViewInvest.vue","webpack://oz.salon.dapp/./src/views/ViewInvest.vue?1ad6"],"sourcesContent":["<template>\n  <AppLoader v-show=\"processing\" />\n  <full-page\n    v-show=\"!processing\"\n    v-if=\"ready\"\n    ref=\"fullpage\"\n    :options=\"options\"\n    class=\"pr-16\"\n  >\n    <div class=\"section\">\n      <FormIntro :name=\"name\" :description=\"description\" @ready=\"next\" />\n    </div>\n    <template v-for=\"(field, index) in fields\" :key=\"index\">\n      <div class=\"section\">\n        <FormField\n          :field=\"field\"\n          @ready=\"next\"\n          :index=\"index\"\n          v-model=\"form[field.id]\"\n        />\n      </div>\n    </template>\n  </full-page>\n</template>\n<script>\nimport axios from \"axios\";\nimport FormField from \"@/components/Form/FormField.vue\";\nimport FormIntro from \"@/components/Form/FormIntro.vue\";\nimport AppLoader from \"@/components/AppLoader.vue\";\nexport default {\n  components: { FormField, AppLoader, FormIntro },\n  props: [\"url\"],\n  data() {\n    return {\n      name: \"\",\n      description: \"\",\n      ready: false,\n      processing: true,\n      btnTxt: \"Submit\",\n      fields: [],\n      form: {},\n      sending: false,\n      options: {\n        licenseKey: \"K9EP6-N164H-2BKM8-MJLGI-KSURM\",\n        controlArrows: true,\n        scrollBar: false,\n        scrollingSpeed: 500,\n        navigation: true,\n        navigationPosition: \"right\",\n      },\n    };\n  },\n  methods: {\n    async next() {\n      if (await this.validate()) {\n        this.submitForm();\n      } else {\n        console.log(\"next\");\n        //this.$refs.fullpage.api.moveSectionDown();\n      }\n    },\n    async validate() {\n      console.log(\"validate form!\");\n      var i = 0;\n      var error = false;\n      for (let field of this.fields) {\n        if (this.form[field.id] == \"\") error = true;\n        if (!([field.id] in this.form)) error = true;\n        if (error) {\n          this.$refs.fullpage.api.moveTo(i + 2);\n          break;\n        }\n        i++;\n      }\n      console.log(\"error is\", error);\n      if (error) return false;\n      return true;\n    },\n    async submitForm() {\n      this.processing = true;\n      console.log(\"Ran Submit!\");\n      try {\n        const res = await axios.post(this.url, this.form);\n        if (res.data.result) {\n          console.log(\"success\", res.data);\n          this.$emit(\"success\");\n        } else {\n          alert(\"Error, Please try again.\");\n          this.processing = false;\n          console.log(\"error\", res.data);\n        }\n      } catch (error) {\n        this.processing = false;\n        console.log(\"error\", error);\n      }\n    },\n  },\n\n  async beforeMount() {\n    try {\n      const res = await axios.get(this.url);\n      console.log(\"form\", res.data);\n      this.name = res.data.name;\n      this.description = res.data.description;\n      this.fields = res.data.fields.filter(function (field) {\n        var disabled = [];\n        if (disabled.includes(field.id)) return false;\n        return true;\n      });\n\n      this.$emit(\"ready\");\n      this.ready = true;\n      this.processing = false;\n    } catch (error) {\n      console.log(\"error\", error);\n    }\n  },\n};\n</script>\n","import { render } from \"./AppForm.vue?vue&type=template&id=4aabb40a\"\nimport script from \"./AppForm.vue?vue&type=script&lang=js\"\nexport * from \"./AppForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <AppShell :colors=\"colors\" :isLoaded=\"true\" :protected=\"true\">\n    <div v-if=\"!isDone\">\n      <AppForm\n        url=\"https://salontest-terrifickid.cloud.okteto.net/form/invest\"\n        @success=\"isDone = true\"\n      />\n    </div>\n    <div class=\"pt-32 px-3\" v-show=\"isDone\">\n      <p>Thank You</p>\n      <p>Invest proposal has been submitted.</p>\n    </div>\n  </AppShell>\n</template>\n\n<script>\n// @ is an alias to /src\nimport AppShell from \"@/components/AppShell.vue\";\nimport AppForm from \"@/components/AppForm\";\nexport default {\n  components: { AppShell, AppForm },\n  data() {\n    return {\n      colors: [\"white\", \"black\"],\n      isDone: false,\n    };\n  },\n  computed: {},\n};\n</script>\n","import { render } from \"./ViewInvest.vue?vue&type=template&id=75f17afa\"\nimport script from \"./ViewInvest.vue?vue&type=script&lang=js\"\nexport * from \"./ViewInvest.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/tk/oz.salon.dapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","processing","ref","options","name","description","next","fields","field","index","form","id","components","FormField","AppLoader","FormIntro","props","data","ready","btnTxt","sending","licenseKey","controlArrows","scrollBar","scrollingSpeed","navigation","navigationPosition","methods","async","this","validate","submitForm","console","log","i","error","$refs","fullpage","api","moveTo","res","url","result","$emit","alert","filter","disabled","includes","__exports__","render","colors","isLoaded","protected","isDone","AppShell","AppForm","computed"],"sourceRoot":""}