"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[563],{5820:function(o,t,s){s.d(t,{Z:function(){return c}});var e=s(6252);const n={class:"h-screen flex px-3 overflow-scroll"};function l(o,t){return(0,e.wg)(),(0,e.iD)("div",n,[(0,e.WI)(o.$slots,"default")])}var r=s(3744);const i={},a=(0,r.Z)(i,[["render",l]]);var c=a},4482:function(o,t,s){s.d(t,{Z:function(){return u}});var e=s(6252);const n=o=>((0,e.dD)("data-v-e724351e"),o=o(),(0,e.Cn)(),o),l={class:"min-h-screen flex items-center justify-center"},r=n((()=>(0,e._)("span",{class:"loader"},null,-1))),i=[r];function a(o,t){return(0,e.wg)(),(0,e.iD)("div",l,i)}var c=s(3744);const p={},d=(0,c.Z)(p,[["render",a],["__scopeId","data-v-e724351e"]]);var u=d},38:function(o,t,s){s.d(t,{Z:function(){return b}});var e=s(6252),n=s(3577);const l={key:0},r={key:1};function i(o,t,s,i,a,c){const p=(0,e.up)("AppLoader"),d=(0,e.up)("AppFooter"),u=(0,e.up)("WalletConnect"),g=(0,e.up)("AppContent");return(0,e.wg)(),(0,e.iD)("div",{class:(0,n.C_)([c.salonClass,"min-h-screen"])},[c.walletCheck?((0,e.wg)(),(0,e.iD)("div",l,[c.ready?(0,e.kq)("",!0):((0,e.wg)(),(0,e.j4)(p,{key:0})),c.ready?(0,e.WI)(o.$slots,"default",{key:1}):(0,e.kq)("",!0),(0,e.Wm)(d,{colors:s.colors,class:"keyboard-off"},null,8,["colors"])])):(0,e.kq)("",!0),c.walletCheck?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",r,[(0,e.Wm)(g,{class:"items-center justify-center"},{default:(0,e.w5)((()=>[(0,e.Wm)(u)])),_:1}),(0,e.Wm)(d,{colors:s.colors},null,8,["colors"])]))],2)}const a=(0,e._)("div",{class:"grid grid-cols-10"},[(0,e._)("div",{class:"col-start-7 col-span-4 sm:col-start-8 sm:col-span-3 lg:col-start-9 lg:col-span-2"},[(0,e._)("a",{href:"/#/"},[(0,e._)("img",{src:"Salon_Logotype_RGB_3D.jpg"})])])],-1),c=[a];function p(o,t,s,l,r,i){return i.display?((0,e.wg)(),(0,e.iD)("div",{key:0,class:(0,n.C_)(["fixed left-0 right-0 bottom-0 p-3 z-10",{["bg-"+s.colors[0]]:!0}])},c,2)):(0,e.kq)("",!0)}var d={props:["colors"],computed:{display(){return this.colors?.length}},components:{}},u=s(3744);const g=(0,u.Z)(d,[["render",p]]);var f=g,v=s(4482),y=s(5820);const h={class:"text-center"},w=(0,e.uE)('<svg xmlns="http://www.w3.org/2000/svg" class="w-24 h-24 sm:h-32 sm:w-32 mx-auto" viewBox="0 0 212 189"><g fill="none" fill-rule="evenodd"><polygon fill="#CDBDB2" points="60.75 173.25 88.313 180.563 88.313 171 90.563 168.75 106.313 168.75 106.313 180 106.313 187.875 89.438 187.875 68.625 178.875"></polygon><polygon fill="#CDBDB2" points="105.75 173.25 132.75 180.563 132.75 171 135 168.75 150.75 168.75 150.75 180 150.75 187.875 133.875 187.875 113.063 178.875" transform="matrix(-1 0 0 1 256.5 0)"></polygon><polygon fill="#393939" points="90.563 152.438 88.313 171 91.125 168.75 120.375 168.75 123.75 171 121.5 152.438 117 149.625 94.5 150.188"></polygon><polygon fill="#F89C35" points="75.375 27 88.875 58.5 95.063 150.188 117 150.188 123.75 58.5 136.125 27"></polygon><polygon fill="#F89D35" points="16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"></polygon><polygon fill="#D87C30" points="46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"></polygon><polygon fill="#EA8D3A" points="46.125 101.813 65.25 119.813 65.25 137.813"></polygon><polygon fill="#F89D35" points="65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"></polygon><polygon fill="#EB8F35" points="65.25 138.375 60.75 173.25 90.563 152.438"></polygon><polygon fill="#EA8E3A" points="92.25 102.375 95.063 150.188 86.625 125.719"></polygon><polygon fill="#D87C30" points="39.375 138.938 65.25 138.375 60.75 173.25"></polygon><polygon fill="#EB8F35" points="12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"></polygon><polygon fill="#E8821E" points="88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"></polygon><polygon fill="#DFCEC3" points="60.75 173.25 90.563 152.438 88.313 170.438 88.313 180.563 68.063 176.625"></polygon><polygon fill="#DFCEC3" points="121.5 173.25 150.75 152.438 148.5 170.438 148.5 180.563 128.25 176.625" transform="matrix(-1 0 0 1 272.25 0)"></polygon><polygon fill="#393939" points="70.313 112.5 64.125 125.438 86.063 119.813" transform="matrix(-1 0 0 1 150.188 0)"></polygon><polygon fill="#E88F35" points="12.375 .563 88.875 58.5 75.938 27"></polygon><path fill="#8E5A30" d="M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"></path><g transform="matrix(-1 0 0 1 211.5 0)"><polygon fill="#F89D35" points="16.313 96.188 .563 141.75 39.938 139.5 65.25 139.5 65.25 119.813 64.125 79.313 58.5 83.813"></polygon><polygon fill="#D87C30" points="46.125 101.25 92.25 102.375 87.188 126 65.25 120.375"></polygon><polygon fill="#EA8D3A" points="46.125 101.813 65.25 119.813 65.25 137.813"></polygon><polygon fill="#F89D35" points="65.25 120.375 87.75 126 95.063 150.188 90 153 65.25 138.375"></polygon><polygon fill="#EB8F35" points="65.25 138.375 60.75 173.25 90 153"></polygon><polygon fill="#EA8E3A" points="92.25 102.375 95.063 150.188 86.625 125.719"></polygon><polygon fill="#D87C30" points="39.375 138.938 65.25 138.375 60.75 173.25"></polygon><polygon fill="#EB8F35" points="12.938 188.438 60.75 173.25 39.375 138.938 .563 141.75"></polygon><polygon fill="#E8821E" points="88.875 58.5 64.688 78.75 46.125 101.25 92.25 102.938"></polygon><polygon fill="#393939" points="70.313 112.5 64.125 125.438 86.063 119.813" transform="matrix(-1 0 0 1 150.188 0)"></polygon><polygon fill="#E88F35" points="12.375 .563 88.875 58.5 75.938 27"></polygon><path fill="#8E5A30" d="M12.3750002,0.562500008 L2.25000003,31.5000005 L7.87500012,65.250001 L3.93750006,67.500001 L9.56250014,72.5625 L5.06250008,76.5000011 L11.25,82.1250012 L7.31250011,85.5000013 L16.3125002,96.7500014 L58.5000009,83.8125012 C79.1250012,67.3125004 89.2500013,58.8750003 88.8750013,58.5000009 C88.5000013,58.1250009 63.0000009,38.8125006 12.3750002,0.562500008 Z"></path></g></g></svg>',1),m=(0,e.Uk)(" Connect MetaMask "),k=(0,e._)("p",{class:"sm:hidden mt-4 font-ak"},[(0,e.Uk)(" To access SalonDAO on mobile"),(0,e._)("br"),(0,e.Uk)(" use MetaMask App. ")],-1);function C(o,t,s,n,l,r){const i=(0,e.up)("AppButton");return(0,e.wg)(),(0,e.iD)("div",h,[w,(0,e._)("p",null,[(0,e.Wm)(i,{class:"mt-8 sm:mt-4",onClick:r.connect},{default:(0,e.w5)((()=>[m])),_:1},8,["onClick"])]),k])}var x=s(7175),A={components:{AppButton:x.Z},methods:{connect(){this.$store.dispatch("connect")}}};const D=(0,u.Z)(A,[["render",C]]);var _=D,L={components:{AppFooter:f,AppLoader:v.Z,WalletConnect:_,AppContent:y.Z},props:["colors","isLoaded","protected"],computed:{walletCheck(){return!this.protected||this.walletAddress},salonClass(){return"bg-"+this.colors[0]+" text-"+this.colors[1]},profile(){return this.$store.state.profile},walletAddress(){return this.$store.state.walletAddress},connecting(){return this.$store.state.connecting},ready(){return this.isLoaded}},methods:{mounted(){console.log(this.background)},connect(){this.$store.dispatch("connect")},disconnect(){this.$store.dispatch("disconnect")}}};const E=(0,u.Z)(L,[["render",i]]);var b=E},1209:function(o,t,s){s.r(t),s.d(t,{default:function(){return J}});var e=s(6252);function n(o,t,s,n,l,r){const i=(0,e.up)("ListGovernance"),a=(0,e.up)("AppContent"),c=(0,e.up)("AppShell");return(0,e.wg)(),(0,e.j4)(c,{backgroundClass:"bg-white",textClass:"text-lilac",fillClass:"fill-lilac"},{default:(0,e.w5)((()=>[(0,e.Wm)(a,null,{default:(0,e.w5)((()=>[(0,e.Wm)(i,{class:"mt-16"})])),_:1})])),_:1})}var l=s(38),r=s(5820),i=s(3577);const a={class:"grid grid-cols-12 w-full"},c={class:"col-span-12"},p={class:"col-span-4"},d={class:"text-3xl mb-8"},u={class:"col-span-4 flex justify-center"},g={class:"col-span-4"},f=["onClick"],v=(0,e._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[(0,e._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 8l4 4m0 0l-4 4m4-4H3"})],-1),y=(0,e.Uk)(" Execute "),h=[v,y];function w(o,t,s,n,l,r){const v=(0,e.up)("ButtonYes"),y=(0,e.up)("ButtonNo"),w=(0,e.up)("CounterVote");return(0,e.wg)(),(0,e.iD)("div",a,[(0,e._)("div",c,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(l.proposals,((o,t)=>((0,e.wg)(),(0,e.iD)("div",{class:"border-b mb-6 p-4 w-full grid grid-cols-12",key:t},[(0,e._)("div",p,[(0,e._)("p",d,(0,i.zw)(o.fields.proposalType["en-US"][0])+" #"+(0,i.zw)(o.sys.id),1),(0,e._)("p",null,(0,i.zw)(o),1)]),(0,e._)("div",u,[(0,e._)("div",null,[(0,e.Wm)(v,{id:o.sys.id,votes:o.fields.votes},null,8,["id","votes"]),(0,e.Wm)(y,{id:o.sys.id,votes:o.fields.votes},null,8,["id","votes"])])]),(0,e._)("div",g,[(0,e.Wm)(w,{votes:o.fields.votes},null,8,["votes"]),(0,e._)("button",{onClick:t=>r.execute(o.sys.id),class:"mt-2 text-pink flex"},h,8,f)])])))),128))])])}var m=s(9669),k=s.n(m);const C=["disabled"],x=(0,e.Uk)(" Yes "),A={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},D=(0,e._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),_=[D];function L(o,t,s,n,l,r){return(0,e.wg)(),(0,e.iD)("button",{onClick:t[0]||(t[0]=o=>r.yes()),disabled:o.processing,class:"mx-auto mt-3 bg-lilac text-white rounded px-4 py-3 text-xl shadow-sm op flex items-center w-32 justify-center"},[x,r.voted?((0,e.wg)(),(0,e.iD)("svg",A,_)):(0,e.kq)("",!0)],8,C)}var E={props:["id","votes"],computed:{profile(){return this.$store.state.profile},walletAddress(){return this.$store.state.walletAddress},voted(){if(!this.votes)return!1;var o=!1;return"en-US"in this.votes&&this.votes["en-US"].votes.forEach((t=>{t.address==this.walletAddress&&t.vote&&(o=!0)})),o}},methods:{async yes(){const o=JSON.stringify({address:this.walletAddress,vote:!0,proposal:this.id});try{const t=await this.$store.state.signer.signMessage(o);console.log("Sending Vote!");const s=await k().post("https://salontest-terrifickid.cloud.okteto.net/vote",{address:this.walletAddress,vote:o,signature:t});console.log(s.data),location.reload()}catch(t){console.log(t)}}}},b=s(3744);const Z=(0,b.Z)(E,[["render",L]]);var B=Z;const S=(0,e.Uk)(" No "),F={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},$=(0,e._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1),U=[$];function W(o,t,s,n,l,r){return(0,e.wg)(),(0,e.iD)("button",{onClick:t[0]||(t[0]=o=>r.no()),class:"mx-auto mt-3 bg-lilac text-white rounded px-4 py-3 text-xl shadow-sm op flex items-center w-32 justify-center"},[S,r.voted?((0,e.wg)(),(0,e.iD)("svg",F,U)):(0,e.kq)("",!0)])}var M={props:["id","votes"],computed:{voted(){if(!this.votes)return!1;var o=!1;return"en-US"in this.votes&&this.votes["en-US"].votes.forEach((t=>{t.address!=this.$store.state.userAddress||t.vote||(o=!0)})),o}},methods:{async no(){const o=JSON.stringify({address:this.$store.state.userAddress,vote:!1,proposal:this.id});try{const t=await this.$store.state.signer.signMessage(o);console.log("Sending Vote!");const s=await k().post("https://salontest-terrifickid.cloud.okteto.net/vote",{address:this.$store.state.userAddress,vote:o,signature:t});console.log(s.data),location.reload()}catch(t){console.log(t)}}}};const j=(0,b.Z)(M,[["render",W]]);var q=j;function z(o,t,s,n,l,r){return(0,e.wg)(),(0,e.iD)("div",null,[(0,e._)("div",null,"Total Votes: "+(0,i.zw)(r.total),1),(0,e._)("div",null,"Yes: "+(0,i.zw)(r.yesTotal),1),(0,e._)("div",null,"No: "+(0,i.zw)(r.noTotal),1)])}var T={props:["votes"],computed:{total(){return this.votes["en-US"].votes.length},yesTotal(){return this.votes["en-US"].votes.filter((o=>{if(o.vote)return!0})).length},noTotal(){return this.votes["en-US"].votes.filter((o=>{if(!o.vote)return!0})).length}}};const N=(0,b.Z)(T,[["render",z]]);var V=N,Y={components:{ButtonYes:B,ButtonNo:q,CounterVote:V},data(){return{proposals:[]}},methods:{async execute(o){console.log("execute!");try{const t=await k().post("https://salontest-terrifickid.cloud.okteto.net/execute",{id:o});console.log("executed!",t.data)}catch(t){console.log("error",t)}}},async beforeMount(){console.log("GLOad!");try{const o=await k().get("https://salontest-terrifickid.cloud.okteto.net/governance");this.proposals=o.data}catch(o){console.log("error",o)}}};const G=(0,b.Z)(Y,[["render",w]]);var O=G,I={components:{AppShell:l.Z,ListGovernance:O,AppContent:r.Z}};const H=(0,b.Z)(I,[["render",n]]);var J=H}}]);
//# sourceMappingURL=ViewGovernance.8ea47f98.js.map