"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{7975:function(s,t,e){e.d(t,{Z:function(){return h}});var o=e(6252);const l={id:"links",class:"grid grid-cols-12"},a={class:"col-span-6 md:col-span-12"},i={class:"mb-10"},r=(0,o.Uk)("Start"),n=(0,o.Uk)("Treasury"),d=(0,o.Uk)("Proposals"),c={class:"col-span-6 md:col-span-12"},p={class:"mb-10"},u=(0,o.Uk)("Profile"),f=(0,o.Uk)("Members");function m(s,t){const e=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("div",a,[(0,o._)("ul",i,[(0,o._)("li",null,[(0,o.Wm)(e,{to:"/manage/start"},{default:(0,o.w5)((()=>[r])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(e,{to:"/manage/treasury"},{default:(0,o.w5)((()=>[n])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(e,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[d])),_:1})])])]),(0,o._)("div",c,[(0,o._)("ul",p,[(0,o._)("li",null,[(0,o.Wm)(e,{to:"/manage/profile"},{default:(0,o.w5)((()=>[u])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(e,{to:"/manage/members"},{default:(0,o.w5)((()=>[f])),_:1})])])])])}var g=e(3744);const _={},v=(0,g.Z)(_,[["render",m],["__scopeId","data-v-687eb406"]]);var h=v},5470:function(s,t,e){e.r(t),e.d(t,{default:function(){return N}});var o=e(6252),l=e(3577);const a=s=>((0,o.dD)("data-v-7d4d52c7"),s=s(),(0,o.Cn)(),s),i={class:"container-fluid px-5"},r={class:"grid grid-cols-12"},n={class:"col-span-12 md:col-span-3"},d={class:"hidden md:block"},c=a((()=>(0,o._)("span",{class:"opacity-50"},"Filters",-1))),p={class:"col-span-12 md:col-span-9"},u={key:0};function f(s,t,e,a,f,m){const g=(0,o.up)("ManageNav"),_=(0,o.up)("router-link"),v=(0,o.up)("ListProposalItem");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("div",r,[(0,o._)("div",n,[(0,o.Wm)(g),(0,o._)("div",d,[c,(0,o._)("ul",null,[(0,o.Wm)(_,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,l.C_)({"opacity-50":"all"!=f.filter,"opacity-100":"all"==f.filter})},[(0,o._)("button",{onClick:t[0]||(t[0]=s=>f.filter="all")},"All")],2)])),_:1}),(0,o.Wm)(_,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,l.C_)({"opacity-50":"pending"!=f.filter,"opacity-100":"pending"==f.filter})},[(0,o._)("button",{onClick:t[1]||(t[1]=s=>f.filter="pending")},"Pending")],2)])),_:1}),(0,o.Wm)(_,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,l.C_)({"opacity-50":"voted"!=f.filter,"opacity-100":"voted"==f.filter})},[(0,o._)("button",{onClick:t[2]||(t[2]=s=>f.filter="voted")},"Voted")],2)])),_:1}),(0,o.Wm)(_,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,l.C_)({"opacity-50":"closed"!=f.filter,"opacity-100":"closed"==f.filter})},[(0,o._)("button",{onClick:t[3]||(t[3]=s=>f.filter="closed")},"Closed")],2)])),_:1}),(0,o.Wm)(_,{to:"/manage/proposals"},{default:(0,o.w5)((()=>[(0,o._)("li",{class:(0,l.C_)({"opacity-50":"my"!=f.filter,"opacity-100":"my"==f.filter})},[(0,o._)("button",{onClick:t[4]||(t[4]=s=>f.filter="my")},"My Proposals")],2)])),_:1})])])]),(0,o._)("div",p,[m.filteredProposals.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("p",u,"No proposals.")),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(m.filteredProposals,((s,t)=>((0,o.wg)(),(0,o.j4)(v,{key:t,item:s},null,8,["item"])))),128))])])])}var m=e(9669),g=e.n(m),_=e(7975);const v={class:"capitalize"},h={class:"col-start-2 col-span-10 xl:col-span-7"},y={class:"col-start-2 col-span-10 xl:col-span-2"},w=(0,o._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function k(s,t,e,a,i,r){const n=(0,o.up)("AppCountdown"),d=(0,o.up)("router-link");return(0,o.wg)(),(0,o.j4)(d,{to:"/manage/"+e.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,o.w5)((()=>[(0,o._)("div",{class:(0,l.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!r.hasPassed,"mb-5":r.hasPassed}])},[(0,o._)("div",{class:(0,l.C_)(["col-span-1",{"text-green-500":!r.hasPassed}])}," 000 ",2),(0,o._)("div",{class:(0,l.C_)(["col-span-1 col-start-2",{"text-green-500":!r.hasPassed}])},[(0,o._)("b",v,(0,l.zw)(e.item.sys.contentType.sys.id),1)],2),(0,o._)("div",h,[(0,o.Wm)(n,{start:e.item.sys.createdAt},null,8,["start"])]),(0,o._)("div",y,(0,l.zw)(e.item.fields.profile.firstName)+" "+(0,l.zw)(e.item.fields.profile.lastName),1),w],2)])),_:1},8,["to"])}var b=e(6486),P=e.n(b),C=e(8687),W={components:{AppCountdown:C.Z},props:["item"],computed:{hasPassed(){return"boolean"==typeof P().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},x=e(3744);const A=(0,x.Z)(W,[["render",k]]);var Z=A,D={components:{ManageNav:_.Z,ListProposalItem:Z},data(){return{proposals:[],weights:[],loaded:!1,filter:"all"}},computed:{filteredProposals(){var s;switch(this.filter){case"my":s=this.myProposals;break;case"pending":s=this.activeProposals;break;case"voted":s=this.votedProposals;break;case"closed":s=this.closedProposals;break;default:s=this.proposals}return s},walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>P().get(s,"fields.profile.walletAddress")==this.walletAddress))},votedProposals(){return this.activeProposals.filter((s=>P().get(s,"fields.votes.votes.length")>0))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof P().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof P().get(s,"fields.votes.passed")))},uri(){return"https://salonnode-salondev-terrifickid.cloud.okteto.net/types/"}},methods:{async getWeights(){try{const s=await g().get("https://salonnode-salondev-terrifickid.cloud.okteto.net/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await g().post(this.uri,{types:"collect,invest,propose,sell,onboard,kick"});this.proposals=P().get(s,"data.message"),console.log(this.proposals),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const M=(0,x.Z)(D,[["render",f],["__scopeId","data-v-7d4d52c7"]]);var N=M}}]);
//# sourceMappingURL=ViewProposals.b09527d4.js.map