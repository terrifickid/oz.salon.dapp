"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{136:function(s,e,t){t.d(e,{Z:function(){return x}});var a=t(6252),o=t(3577);const l=s=>((0,a.dD)("data-v-6e0d8083"),s=s(),(0,a.Cn)(),s),r={id:"links",class:"grid grid-cols-12"},i={class:"col-span-6 md:col-span-12"},n={class:"mb-10"},p=(0,a.Uk)("Start"),d=(0,a.Uk)("Treasury"),c=(0,a.Uk)("Proposals "),u={class:"text-green-500 dot"},m=l((()=>(0,a._)("span",{style:{"margin-right":"1px"},class:"ml-1"},"(",-1))),g=l((()=>(0,a._)("span",{style:{"margin-left":"-2px"}},")",-1))),f={class:"col-span-6 md:col-span-12"},_={class:"mb-10"},y=(0,a.Uk)("Profile"),h=(0,a.Uk)("Members "),v=l((()=>(0,a._)("span",{style:{"margin-right":"1px"},class:"ml-1"},"(",-1))),w=l((()=>(0,a._)("span",{style:{"margin-left":"1px"}},")",-1)));function k(s,e,t,l,k,b){const P=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a._)("ul",n,[(0,a._)("li",null,[(0,a.Wm)(P,{to:"/manage/start"},{default:(0,a.w5)((()=>[p])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(P,{to:"/manage/treasury"},{default:(0,a.w5)((()=>[d])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(P,{class:"flex items-center",to:"/manage/proposals"},{default:(0,a.w5)((()=>[c,(0,a._)("p",u,[m,(0,a.Uk)((0,o.zw)(b.activeProposalsCount)+" ",1),g])])),_:1})])])]),(0,a._)("div",f,[(0,a._)("ul",_,[(0,a._)("li",null,[(0,a.Wm)(P,{to:"/manage/profile"},{default:(0,a.w5)((()=>[y])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(P,{to:"/manage/members"},{default:(0,a.w5)((()=>[h,v,(0,a.Uk)((0,o.zw)(b.membersCount),1),w])),_:1})])])])])}var b={computed:{activeProposalsCount(){return this.$store.getters.activeProposalsCount},membersCount(){return this.$store.getters.membersCount}}},P=t(3744);const C=(0,P.Z)(b,[["render",k],["__scopeId","data-v-6e0d8083"]]);var x=C},5367:function(s,e,t){t.r(e),t.d(e,{default:function(){return N}});var a=t(6252),o=t(3577);const l=s=>((0,a.dD)("data-v-46bfddc7"),s=s(),(0,a.Cn)(),s),r={class:"container-fluid px-5"},i={class:"grid grid-cols-12 gap-5"},n={class:"col-span-12 md:col-span-3"},p={class:"md:fixed"},d={class:"hidden md:block"},c=l((()=>(0,a._)("span",{class:"opacity-50"},"Filters",-1))),u={class:"col-span-12 md:col-span-9"},m={key:0},g=l((()=>(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6 mr-1"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m6-6H6"})],-1))),f=(0,a.Uk)(" Load More "),_=[g,f];function y(s,e,t,l,g,f){const y=(0,a.up)("ManageNav"),h=(0,a.up)("router-link"),v=(0,a.up)("ListProposalItem");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a._)("div",n,[(0,a._)("div",p,[(0,a.Wm)(y),(0,a._)("div",d,[c,(0,a._)("ul",null,[(0,a.Wm)(h,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"all"!=g.filter,"opacity-100":"all"==g.filter})},[(0,a._)("button",{onClick:e[0]||(e[0]=s=>g.filter="all")},"All")],2)])),_:1}),(0,a.Wm)(h,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"pending"!=g.filter,"opacity-100":"pending"==g.filter})},[(0,a._)("button",{onClick:e[1]||(e[1]=s=>g.filter="pending")},"Pending")],2)])),_:1}),(0,a.Wm)(h,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"voted"!=g.filter,"opacity-100":"voted"==g.filter})},[(0,a._)("button",{onClick:e[2]||(e[2]=s=>g.filter="voted")},"Voted")],2)])),_:1}),(0,a.Wm)(h,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"closed"!=g.filter,"opacity-100":"closed"==g.filter})},[(0,a._)("button",{onClick:e[3]||(e[3]=s=>g.filter="closed")},"Closed")],2)])),_:1}),(0,a.Wm)(h,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"my"!=g.filter,"opacity-100":"my"==g.filter})},[(0,a._)("button",{onClick:e[4]||(e[4]=s=>g.filter="my")},"My Proposals")],2)])),_:1})])])])]),(0,a._)("div",u,[f.filteredProposals.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",m,"No proposals.")),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.filteredProposals.slice(0,g.perPage),((s,e)=>((0,a.wg)(),(0,a.j4)(v,{key:e,item:s},null,8,["item"])))),128)),g.perPage<=f.filteredProposals.length?((0,a.wg)(),(0,a.iD)("button",{key:1,class:"flex opacity-50 mt-12 mb-32 cursor-pointer",onClick:e[5]||(e[5]=s=>g.perPage+=10)},_)):(0,a.kq)("",!0)])])])}var h=t(9669),v=t.n(h),w=t(136);const k={class:"capitalize"},b={class:"col-start-2 col-span-10 xl:col-span-7"},P={class:"col-start-2 col-span-10 xl:col-span-2 truncate"},C=(0,a._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function x(s,e,t,l,r,i){const n=(0,a.up)("AppCountdown"),p=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(p,{to:"/manage/"+t.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,o.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!i.hasPassed,"mb-5":i.hasPassed}])},[(0,a._)("div",{class:(0,o.C_)(["col-span-1",{"text-green-500":!i.hasPassed}])},[(0,a._)("span",{class:(0,o.C_)(["",{"text-green-500":!i.hasPassed}])},(0,o.zw)(i.prettyId),3)],2),(0,a._)("div",{class:(0,o.C_)(["col-span-1 col-start-2",{"text-green-500":!i.hasPassed}])},[(0,a._)("b",k,(0,o.zw)(t.item.sys.contentType.sys.id),1)],2),(0,a._)("div",b,[i.hasPassed?((0,a.wg)(),(0,a.j4)(n,{key:0,start:0,type:t.item.sys.contentType.sys.id},null,8,["type"])):((0,a.wg)(),(0,a.j4)(n,{key:1,start:t.item.sys.createdAt,type:t.item.sys.contentType.sys.id},null,8,["start","type"]))]),(0,a._)("div",P,(0,o.zw)(t.item.fields.profile.firstName)+" "+(0,o.zw)(t.item.fields.profile.lastName),1),C],2)])),_:1},8,["to"])}var W=t(6486),z=t.n(W),A=t(63),D={components:{AppCountdown:A.Z},props:["item"],computed:{prettyId(){var s=new Array(4).join("0");return(s+this.item.fields.prettyId.toString().replace(/\D/g,"")).slice(-3)},hasPassed(){return"boolean"==typeof z().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},U=t(3744);const I=(0,U.Z)(D,[["render",x]]);var M=I,j={components:{ManageNav:w.Z,ListProposalItem:M},data(){return{weights:[],loaded:!1,filter:"all",perPage:10}},computed:{filteredProposals(){var s;switch(this.filter){case"my":s=this.myProposals;break;case"pending":s=this.activeProposals;break;case"voted":s=this.votedProposals;break;case"closed":s=this.closedProposals;break;default:s=this.proposals}return s},proposals(){return this.$store.state.proposals},walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>z().get(s,"fields.profile.walletAddress")==this.walletAddress))},votedProposals(){return this.activeProposals.filter((s=>z().get(s,"fields.votes.votes.length")>0))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof z().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof z().get(s,"fields.votes.passed")))},uri(){return"https://salon-node.salondao.xyz/types/"}},methods:{async getWeights(){try{const s=await v().get("https://salon-node.salondao.xyz/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await v().post(this.uri,{types:"exchange,acquire,invest,propose,sell,onboard,kick"});this.$store.state.proposals=z().get(s,"data.message"),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const Z=(0,U.Z)(j,[["render",y],["__scopeId","data-v-46bfddc7"]]);var N=Z}}]);
//# sourceMappingURL=ViewProposals.3b42eef9.js.map