"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[491],{5860:function(s,t,e){e.d(t,{Z:function(){return x}});var a=e(6252),o=e(3577);const l=s=>((0,a.dD)("data-v-6b730d1a"),s=s(),(0,a.Cn)(),s),r={id:"links",class:"grid grid-cols-12"},i={class:"col-span-6 md:col-span-12"},n={class:"mb-10"},c=(0,a.Uk)("Start"),d=(0,a.Uk)("Treasury"),p=(0,a.Uk)("Proposals "),u={class:"text-green-500"},m=l((()=>(0,a._)("span",{style:{"margin-right":"1px"},class:"ml-1"},"(",-1))),f=l((()=>(0,a._)("span",{style:{"margin-left":"-2px"}},")",-1))),g={class:"col-span-6 md:col-span-12"},_={class:"mb-10"},v=(0,a.Uk)("Profile"),h=(0,a.Uk)("Members "),y=l((()=>(0,a._)("span",{style:{"margin-right":"1px"},class:"ml-1"},"(",-1))),w=l((()=>(0,a._)("span",{style:{"margin-left":"1px"}},")",-1)));function k(s,t,e,l,k,b){const C=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a._)("ul",n,[(0,a._)("li",null,[(0,a.Wm)(C,{to:"/manage/start"},{default:(0,a.w5)((()=>[c])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(C,{to:"/manage/treasury"},{default:(0,a.w5)((()=>[d])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(C,{class:"flex items-center",to:"/manage/proposals"},{default:(0,a.w5)((()=>[p,(0,a._)("p",u,[m,(0,a.Uk)((0,o.zw)(b.activeProposalsCount)+" ",1),f])])),_:1})])])]),(0,a._)("div",g,[(0,a._)("ul",_,[(0,a._)("li",null,[(0,a.Wm)(C,{to:"/manage/profile"},{default:(0,a.w5)((()=>[v])),_:1})]),(0,a._)("li",null,[(0,a.Wm)(C,{to:"/manage/members"},{default:(0,a.w5)((()=>[h,y,(0,a.Uk)((0,o.zw)(b.membersCount),1),w])),_:1})])])])])}var b={computed:{activeProposalsCount(){return this.$store.getters.activeProposalsCount},membersCount(){return this.$store.getters.membersCount}}},C=e(3744);const P=(0,C.Z)(b,[["render",k],["__scopeId","data-v-6b730d1a"]]);var x=P},951:function(s,t,e){e.r(t),e.d(t,{default:function(){return Z}});var a=e(6252),o=e(3577);const l=s=>((0,a.dD)("data-v-2a3d1152"),s=s(),(0,a.Cn)(),s),r={class:"container-fluid px-5"},i={class:"grid grid-cols-12"},n={class:"col-span-12 md:col-span-3"},c={class:"hidden md:block"},d=l((()=>(0,a._)("span",{class:"opacity-50"},"Filters",-1))),p={class:"col-span-12 md:col-span-9"},u={key:0};function m(s,t,e,l,m,f){const g=(0,a.up)("ManageNav"),_=(0,a.up)("router-link"),v=(0,a.up)("ListProposalItem");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",i,[(0,a._)("div",n,[(0,a.Wm)(g),(0,a._)("div",c,[d,(0,a._)("ul",null,[(0,a.Wm)(_,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"all"!=m.filter,"opacity-100":"all"==m.filter})},[(0,a._)("button",{onClick:t[0]||(t[0]=s=>m.filter="all")},"All")],2)])),_:1}),(0,a.Wm)(_,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"pending"!=m.filter,"opacity-100":"pending"==m.filter})},[(0,a._)("button",{onClick:t[1]||(t[1]=s=>m.filter="pending")},"Pending")],2)])),_:1}),(0,a.Wm)(_,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"voted"!=m.filter,"opacity-100":"voted"==m.filter})},[(0,a._)("button",{onClick:t[2]||(t[2]=s=>m.filter="voted")},"Voted")],2)])),_:1}),(0,a.Wm)(_,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"closed"!=m.filter,"opacity-100":"closed"==m.filter})},[(0,a._)("button",{onClick:t[3]||(t[3]=s=>m.filter="closed")},"Closed")],2)])),_:1}),(0,a.Wm)(_,{to:"/manage/proposals"},{default:(0,a.w5)((()=>[(0,a._)("li",{class:(0,o.C_)({"opacity-50":"my"!=m.filter,"opacity-100":"my"==m.filter})},[(0,a._)("button",{onClick:t[4]||(t[4]=s=>m.filter="my")},"My Proposals")],2)])),_:1})])])]),(0,a._)("div",p,[f.filteredProposals.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("p",u,"No proposals.")),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.filteredProposals,((s,t)=>((0,a.wg)(),(0,a.j4)(v,{key:t,item:s},null,8,["item"])))),128))])])])}var f=e(9669),g=e.n(f),_=e(5860);const v={class:"capitalize"},h={class:"col-start-2 col-span-10 xl:col-span-7"},y={class:"col-start-2 col-span-10 xl:col-span-2 truncate"},w=(0,a._)("div",{class:"hidden xl:block xl:col-span-1 md:text-right"},"0% / 0%",-1);function k(s,t,e,l,r,i){const n=(0,a.up)("AppCountdown"),c=(0,a.up)("router-link");return(0,a.wg)(),(0,a.j4)(c,{to:"/manage/"+e.item.sys.id,class:"opacity-50 hover:opacity-100"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,o.C_)(["grid grid-cols-12 flex items-center gap-x-5",{"mb-10":!i.hasPassed,"mb-5":i.hasPassed}])},[(0,a._)("div",{class:(0,o.C_)(["col-span-1",{"text-green-500":!i.hasPassed}])},(0,o.zw)(i.lpad),3),(0,a._)("div",{class:(0,o.C_)(["col-span-1 col-start-2",{"text-green-500":!i.hasPassed}])},[(0,a._)("b",v,(0,o.zw)(e.item.sys.contentType.sys.id),1)],2),(0,a._)("div",h,[(0,a.Wm)(n,{start:e.item.sys.createdAt},null,8,["start"])]),(0,a._)("div",y,(0,o.zw)(e.item.fields.profile.firstName)+" "+(0,o.zw)(e.item.fields.profile.lastName),1),w],2)])),_:1},8,["to"])}var b=e(6486),C=e.n(b),P=e(8687),x={components:{AppCountdown:P.Z},props:["item"],computed:{lpad(){var s=new Array(4).join("0");return(s+this.item.sys.id.replace(/\D/g,"")).slice(-3)},hasPassed(){return"boolean"==typeof C().get(this.item,"fields.votes.passed")}},mounted(){console.log()}},W=e(3744);const A=(0,W.Z)(x,[["render",k]]);var z=A,D={components:{ManageNav:_.Z,ListProposalItem:z},data(){return{weights:[],loaded:!1,filter:"all"}},computed:{filteredProposals(){var s;switch(this.filter){case"my":s=this.myProposals;break;case"pending":s=this.activeProposals;break;case"voted":s=this.votedProposals;break;case"closed":s=this.closedProposals;break;default:s=this.proposals}return s},proposals(){return this.$store.state.proposals},walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>C().get(s,"fields.profile.walletAddress")==this.walletAddress))},votedProposals(){return this.activeProposals.filter((s=>C().get(s,"fields.votes.votes.length")>0))},activeProposals(){return this.proposals.filter((s=>"boolean"!=typeof C().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>"boolean"==typeof C().get(s,"fields.votes.passed")))},uri(){return"https://salonnode-salondev-terrifickid.cloud.okteto.net/types/"}},methods:{async getWeights(){try{const s=await g().get("https://salonnode-salondev-terrifickid.cloud.okteto.net/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await g().post(this.uri,{types:"exchange,acquire,invest,propose,sell,onboard,kick"});this.$store.state.proposals=C().get(s,"data.message"),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const U=(0,W.Z)(D,[["render",m],["__scopeId","data-v-2a3d1152"]]);var Z=U}}]);
//# sourceMappingURL=ViewProposals.65cf4f62.js.map