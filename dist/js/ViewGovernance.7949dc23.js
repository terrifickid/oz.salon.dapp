"use strict";(self["webpackChunkSalon"]=self["webpackChunkSalon"]||[]).push([[563],{9917:function(s,e,o){o.r(e),o.d(e,{default:function(){return I}});var t=o(6252);const l=s=>((0,t.dD)("data-v-0292c9ed"),s=s(),(0,t.Cn)(),s),a={class:"pt-32 pb-64"},r={class:"grid grid-cols-12 w-full"},p={class:"app-frame"},i={class:"px-3"},n=l((()=>(0,t._)("p",{class:"text-xl"},"My Proposals",-1))),d={key:0,class:"text-sm mt-3"},c=l((()=>(0,t._)("p",{class:"mt-24 text-xl"},"Active Proposals",-1))),u={class:"mt-3"},m={key:0,class:"text-sm mt-3"},g=l((()=>(0,t._)("p",{class:"mt-24 text-xl"},"Closed Proposals",-1))),f={class:"mt-3"},w={key:0,class:"text-sm mt-3"};function h(s,e,o,l,h,y){const v=(0,t.up)("ListProposalItem"),k=(0,t.up)("AppShell");return(0,t.wg)(),(0,t.j4)(k,{colors:h.colors,isLoaded:h.loaded,protected:!0,class:"font-haffer"},{default:(0,t.w5)((()=>[(0,t._)("div",a,[(0,t._)("div",r,[(0,t._)("div",p,[(0,t._)("div",i,[n,y.myProposals.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",d,"No proposals.")),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.myProposals,((s,e)=>((0,t.wg)(),(0,t.j4)(v,{key:e,item:s},null,8,["item"])))),128)),c,(0,t._)("div",u,[y.activeProposals.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",m," No proposals. ")),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.activeProposals,((s,e)=>((0,t.wg)(),(0,t.j4)(v,{key:e,item:s},null,8,["item"])))),128))]),g,(0,t._)("div",f,[y.closedProposals.length?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("p",w," No proposals. ")),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(y.closedProposals,((s,e)=>((0,t.wg)(),(0,t.j4)(v,{key:e,item:s},null,8,["item"])))),128))])])])])])])),_:1},8,["colors","isLoaded"])}var y=o(9669),v=o.n(y),k=o(5207),_=o(3577);const P={class:"border-b border-black py-3 grid grid-cols-12"},x={class:"col-span-8"},A={class:"capitalize"},b={class:"col-span-4 flex items-center justify-end text-sm"},D=(0,t.Uk)("View Proposal ");function Z(s,e,o,l,a,r){const p=(0,t.up)("AppCountdown"),i=(0,t.up)("AppButton"),n=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",P,[(0,t._)("div",x,[(0,t._)("b",A,(0,_.zw)(o.item.sys.contentType.sys.id),1),(0,t.Uk)(" "+(0,_.zw)(o.item.fields.profile.firstName)+" "+(0,_.zw)(o.item.fields.profile.lastName)+" ",1),(0,t.Wm)(p,{start:o.item.sys.createdAt},null,8,["start"])]),(0,t._)("div",b,[(0,t.Wm)(n,{to:"/governance/"+o.item.sys.id},{default:(0,t.w5)((()=>[(0,t.Wm)(i,{class:"flex items-center"},{default:(0,t.w5)((()=>[D])),_:1})])),_:1},8,["to"])])])}var j=o(7175),z=o(8114),C={components:{AppButton:j.Z,AppCountdown:z.Z},props:["item"],mounted(){console.log()}},S=o(3744);const W=(0,S.Z)(C,[["render",Z]]);var L=W,N=o(6486),R=o.n(N),q={components:{AppShell:k.Z,ListProposalItem:L},data(){return{colors:["white","black"],proposals:[],weights:[],loaded:!1}},computed:{walletAddress(){return this.$store.state.walletAddress},myProposals(){return this.proposals.filter((s=>R().get(s,"fields.profile.walletAddress")==this.walletAddress))},activeProposals(){return this.proposals.filter((s=>!R().get(s,"fields.votes.passed")))},closedProposals(){return this.proposals.filter((s=>R().get(s,"fields.votes.passed")))},uri(){return"https://salon-node.salondao.xyz/types/"}},methods:{async getWeights(){try{const s=await v().get("https://salon-node.salondao.xyz/members?cache=true");this.weights=s.data}catch(s){console.log("error",s)}}},async beforeMount(){console.log("proposals load!");const s=await v().post(this.uri,{types:"collect,invest,propose,sell,onboard,kick"});this.proposals=R().get(s,"data.message"),console.log(this.proposals),await this.getWeights(),this.loaded=!0,console.log("loaded!")}};const H=(0,S.Z)(q,[["render",h],["__scopeId","data-v-0292c9ed"]]);var I=H},6061:function(s,e,o){o.r(e),o.d(e,{default:function(){return d}});var t=o(6252);function l(s,e,o,l,a,r){const p=(0,t.up)("FormProposal"),i=(0,t.up)("AppShell");return(0,t.wg)(),(0,t.j4)(i,{colors:a.colors,isLoaded:!0,protected:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{id:s.$route.params.id,onReady:r.ready},null,8,["id","onReady"])])),_:1},8,["colors"])}var a=o(5207),r=o(6277),p={components:{AppShell:a.Z,FormProposal:r.Z},data(){return{colors:["white","black"],isReady:!1}},methods:{ready(){this.isReady=!0}}},i=o(3744);const n=(0,i.Z)(p,[["render",l]]);var d=n}}]);
//# sourceMappingURL=ViewGovernance.7949dc23.js.map